var BC=Object.defineProperty,VC=Object.defineProperties;var $C=Object.getOwnPropertyDescriptors;var Cc=Object.getOwnPropertySymbols;var N0=Object.prototype.hasOwnProperty,L0=Object.prototype.propertyIsEnumerable;var Mh=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),UC=e=>{throw TypeError(e)};var R0=(e,t,n)=>t in e?BC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||={})N0.call(t,n)&&R0(e,n,t[n]);if(Cc)for(var n of Cc(t))L0.call(t,n)&&R0(e,n,t[n]);return e},$e=(e,t)=>VC(e,$C(t));var hn=(e,t)=>{var n={};for(var r in e)N0.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cc)for(var r of Cc(e))t.indexOf(r)<0&&L0.call(e,r)&&(n[r]=e[r]);return n};var Ce=(e,t,n)=>new Promise((r,o)=>{var s=c=>{try{a(n.next(c))}catch(l){o(l)}},i=c=>{try{a(n.throw(c))}catch(l){o(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,i);a((n=n.apply(e,t)).next())}),zC=function(e,t){this[0]=e,this[1]=t};var P0=e=>{var t=e[Mh("asyncIterator")],n=!1,r,o={};return t==null?(t=e[Mh("iterator")](),r=s=>o[s]=i=>t[s](i)):(t=t.call(e),r=s=>o[s]=i=>{if(n){if(n=!1,s==="throw")throw i;return i}return n=!0,{done:!1,value:new zC(new Promise(a=>{var c=t[s](i);c instanceof Object||UC("Object expected"),a(c)}),1)}}),o[Mh("iterator")]=()=>o,r("next"),"throw"in t?r("throw"):o.throw=s=>{throw s},"return"in t&&r("return"),o};var Ih=null;var kh=1,F0=Symbol("SIGNAL");function ye(e){let t=Ih;return Ih=e,t}function j0(){return Ih}var Oh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function HC(e){if(!(Ph(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===kh)){if(!e.producerMustRecompute(e)&&!Rh(e)){e.dirty=!1,e.lastCleanEpoch=kh;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=kh}}function Ah(e){return e&&(e.nextProducerIndex=0),ye(e)}function B0(e,t){if(ye(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ph(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Lh(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Rh(e){Fh(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(HC(n),r!==n.version))return!0}return!1}function Nh(e){if(Fh(e),Ph(e))for(let t=0;t<e.producerNode.length;t++)Lh(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Lh(e,t){if(GC(e),e.liveConsumerNode.length===1&&qC(e))for(let r=0;r<e.producerNode.length;r++)Lh(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Fh(o),o.producerIndexOfThis[r]=t}}function Ph(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Fh(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function GC(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function qC(e){return e.producerNode!==void 0}function WC(){throw new Error}var ZC=WC;function V0(e){ZC=e}function ee(e){return typeof e=="function"}function Uo(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _c=Uo(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Pr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ge=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){t=s instanceof _c?s.errors:[s]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let s of o)try{$0(s)}catch(i){t=t??[],i instanceof _c?t=[...t,...i.errors]:t.push(i)}}if(t)throw new _c(t)}}add(t){var n;if(t&&t!==this)if(this.closed)$0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Pr(n,t)}remove(t){let{_finalizers:n}=this;n&&Pr(n,t),t instanceof e&&t._removeParent(this)}};Ge.EMPTY=(()=>{let e=new Ge;return e.closed=!0,e})();var jh=Ge.EMPTY;function Tc(e){return e instanceof Ge||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function $0(e){ee(e)?e():e.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zo={setTimeout(e,t,...n){let{delegate:r}=zo;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=zo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Mc(e){zo.setTimeout(()=>{let{onUnhandledError:t}=fn;if(t)t(e);else throw e})}function gi(){}var U0=Bh("C",void 0,void 0);function z0(e){return Bh("E",void 0,e)}function H0(e){return Bh("N",e,void 0)}function Bh(e,t,n){return{kind:e,value:t,error:n}}var Fr=null;function Ho(e){if(fn.useDeprecatedSynchronousErrorHandling){let t=!Fr;if(t&&(Fr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Fr;if(Fr=null,n)throw r}}else e()}function G0(e){fn.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=e)}var jr=class extends Ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Tc(t)&&t.add(this)):this.destination=KC}static create(t,n,r){return new Go(t,n,r)}next(t){this.isStopped?$h(H0(t),this):this._next(t)}error(t){this.isStopped?$h(z0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$h(U0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YC=Function.prototype.bind;function Vh(e,t){return YC.call(e,t)}var Uh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){kc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){kc(r)}else kc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){kc(n)}}},Go=class extends jr{constructor(t,n,r){super();let o;if(ee(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&fn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Vh(t.next,s),error:t.error&&Vh(t.error,s),complete:t.complete&&Vh(t.complete,s)}):o=t}this.destination=new Uh(o)}};function kc(e){fn.useDeprecatedSynchronousErrorHandling?G0(e):Mc(e)}function XC(e){throw e}function $h(e,t){let{onStoppedNotification:n}=fn;n&&zo.setTimeout(()=>n(e,t))}var KC={closed:!0,next:gi,error:XC,complete:gi};var qo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(e){return e}function zh(...e){return Hh(e)}function Hh(e){return e.length===0?Ft:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var Me=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let s=JC(n)?n:new Go(n,r,o);return Ho(()=>{let{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=q0(r),new r((o,s)=>{let i=new Go({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qo](){return this}pipe(...n){return Hh(n)(this)}toPromise(n){return n=q0(n),new n((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function q0(e){var t;return(t=e??fn.Promise)!==null&&t!==void 0?t:Promise}function QC(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}function JC(e){return e&&e instanceof jr||QC(e)&&Tc(e)}function Gh(e){return ee(e?.lift)}function pe(e){return t=>{if(Gh(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(e,t,n,r,o){return new qh(e,t,n,r,o)}var qh=class extends jr{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Wo(){return pe((e,t)=>{let n=null;e._refCount++;let r=ge(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Zo=class extends Me{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ge;let n=this.getSubject();t.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ge.EMPTY)}return t}refCount(){return Wo()(this)}};var W0=Uo(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Dt=(()=>{class e extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ic(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new W0}next(n){Ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:s}=this;return r||o?jh:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,Pr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){let n=new Me;return n.source=this,n}}return e.create=(t,n)=>new Ic(t,n),e})(),Ic=class extends Dt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:jh}};var dt=class extends Dt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Wh={now(){return(Wh.delegate||Date).now()},delegate:void 0};var Oc=class extends Ge{constructor(t,n){super()}schedule(t,n=0){return this}};var mi={setInterval(e,t,...n){let{delegate:r}=mi;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=mi;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Ac=class extends Oc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return mi.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&mi.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Yo=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Yo.now=Wh.now;var Rc=class extends Yo{constructor(t,n=Yo.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Zh=new Rc(Ac),Z0=Zh;var jt=new Me(e=>e.complete());function Nc(e){return e&&ee(e.schedule)}function Y0(e){return e[e.length-1]}function X0(e){return ee(Y0(e))?e.pop():void 0}function gr(e){return Nc(Y0(e))?e.pop():void 0}function Q0(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?s(d.value):o(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function K0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(e){return this instanceof Br?(this.v=e,this):new Br(e)}function J0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,s=[];return o={},a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(f){return function(p){return Promise.resolve(p).then(f,u)}}function a(f,p){r[f]&&(o[f]=function(v){return new Promise(function(g,m){s.push([f,v,g,m])>1||c(f,v)})},p&&(o[f]=p(o[f])))}function c(f,p){try{l(r[f](p))}catch(v){h(s[0][3],v)}}function l(f){f.value instanceof Br?Promise.resolve(f.value.v).then(d,u):h(s[0][2],f)}function d(f){c("next",f)}function u(f){c("throw",f)}function h(f,p){f(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function e1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof K0=="function"?K0(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}var Lc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Pc(e){return ee(e?.then)}function Fc(e){return ee(e[qo])}function jc(e){return Symbol.asyncIterator&&ee(e?.[Symbol.asyncIterator])}function Bc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function e_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vc=e_();function $c(e){return ee(e?.[Vc])}function Uc(e){return J0(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Br(n.read());if(o)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function zc(e){return ee(e?.getReader)}function st(e){if(e instanceof Me)return e;if(e!=null){if(Fc(e))return t_(e);if(Lc(e))return n_(e);if(Pc(e))return r_(e);if(jc(e))return t1(e);if($c(e))return o_(e);if(zc(e))return s_(e)}throw Bc(e)}function t_(e){return new Me(t=>{let n=e[qo]();if(ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function n_(e){return new Me(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function r_(e){return new Me(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Mc)})}function o_(e){return new Me(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function t1(e){return new Me(t=>{i_(e,t).catch(n=>t.error(n))})}function s_(e){return t1(Uc(e))}function i_(e,t){var n,r,o,s;return Q0(this,void 0,void 0,function*(){try{for(n=e1(e);r=yield n.next(),!r.done;){let i=r.value;if(t.next(i),t.closed)return}}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})}function It(e,t,n,r=0,o=!1){let s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function Hc(e,t=0){return pe((n,r)=>{n.subscribe(ge(r,o=>It(r,e,()=>r.next(o),t),()=>It(r,e,()=>r.complete(),t),o=>It(r,e,()=>r.error(o),t)))})}function Gc(e,t=0){return pe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function n1(e,t){return st(e).pipe(Gc(t),Hc(t))}function r1(e,t){return st(e).pipe(Gc(t),Hc(t))}function o1(e,t){return new Me(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function s1(e,t){return new Me(n=>{let r;return It(n,t,()=>{r=e[Vc](),It(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){n.error(i);return}s?n.complete():n.next(o)},0,!0)}),()=>ee(r?.return)&&r.return()})}function qc(e,t){if(!e)throw new Error("Iterable cannot be null");return new Me(n=>{It(n,t,()=>{let r=e[Symbol.asyncIterator]();It(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function i1(e,t){return qc(Uc(e),t)}function a1(e,t){if(e!=null){if(Fc(e))return n1(e,t);if(Lc(e))return o1(e,t);if(Pc(e))return r1(e,t);if(jc(e))return qc(e,t);if($c(e))return s1(e,t);if(zc(e))return i1(e,t)}throw Bc(e)}function tt(e,t){return t?a1(e,t):st(e)}function re(...e){let t=gr(e);return tt(e,t)}function Xo(e,t){let n=ee(e)?e:()=>e,r=o=>o.error(n());return new Me(t?o=>t.schedule(r,0,o):r)}function Yh(e){return!!e&&(e instanceof Me||ee(e.lift)&&ee(e.subscribe))}var Wn=Uo(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function c1(e){return e instanceof Date&&!isNaN(e)}function he(e,t){return pe((n,r)=>{let o=0;n.subscribe(ge(r,s=>{r.next(e.call(t,s,o++))}))})}var{isArray:a_}=Array;function c_(e,t){return a_(t)?e(...t):e(t)}function l1(e){return he(t=>c_(e,t))}var{isArray:l_}=Array,{getPrototypeOf:d_,prototype:u_,keys:h_}=Object;function d1(e){if(e.length===1){let t=e[0];if(l_(t))return{args:t,keys:null};if(f_(t)){let n=h_(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function f_(e){return e&&typeof e=="object"&&d_(e)===u_}function u1(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Wc(...e){let t=gr(e),n=X0(e),{args:r,keys:o}=d1(e);if(r.length===0)return tt([],t);let s=new Me(p_(r,t,o?i=>u1(o,i):Ft));return n?s.pipe(l1(n)):s}function p_(e,t,n=Ft){return r=>{h1(t,()=>{let{length:o}=e,s=new Array(o),i=o,a=o;for(let c=0;c<o;c++)h1(t,()=>{let l=tt(e[c],t),d=!1;l.subscribe(ge(r,u=>{s[c]=u,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}function h1(e,t,n){e?It(n,e,t):t()}function f1(e,t,n,r,o,s,i,a){let c=[],l=0,d=0,u=!1,h=()=>{u&&!c.length&&!l&&t.complete()},f=v=>l<r?p(v):c.push(v),p=v=>{s&&t.next(v),l++;let g=!1;st(n(v,d++)).subscribe(ge(t,m=>{o?.(m),s?f(m):t.next(m)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){let m=c.shift();i?It(t,i,()=>p(m)):p(m)}h()}catch(m){t.error(m)}}))};return e.subscribe(ge(t,f,()=>{u=!0,h()})),()=>{a?.()}}function nt(e,t,n=1/0){return ee(t)?nt((r,o)=>he((s,i)=>t(r,s,o,i))(st(e(r,o))),n):(typeof t=="number"&&(n=t),pe((r,o)=>f1(r,o,e,n)))}function Xh(e=1/0){return nt(Ft,e)}function p1(){return Xh(1)}function Ko(...e){return p1()(tt(e,gr(e)))}function Zc(e){return new Me(t=>{st(e()).subscribe(t)})}function g1(e=0,t,n=Z0){let r=-1;return t!=null&&(Nc(t)?n=t:r=t),new Me(o=>{let s=c1(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function Kh(e=0,t=Zh){return e<0&&(e=0),g1(e,e,t)}function pn(e,t){return pe((n,r)=>{let o=0;n.subscribe(ge(r,s=>e.call(t,s,o++)&&r.next(s)))})}function mr(e){return pe((t,n)=>{let r=null,o=!1,s;r=t.subscribe(ge(n,void 0,void 0,i=>{s=st(e(i,mr(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function m1(e,t,n,r,o){return(s,i)=>{let a=n,c=t,l=0;s.subscribe(ge(i,d=>{let u=l++;c=a?e(c,d,u):(a=!0,d),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}function Qo(e,t){return ee(t)?nt(e,t,1):nt(e,1)}function vr(e){return pe((t,n)=>{let r=!1;t.subscribe(ge(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Zn(e){return e<=0?()=>jt:pe((t,n)=>{let r=0;t.subscribe(ge(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Qh(e){return he(()=>e)}function Yc(e=g_){return pe((t,n)=>{let r=!1;t.subscribe(ge(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function g_(){return new Wn}function vi(e){return pe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function kn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?pn((o,s)=>e(o,s,r)):Ft,Zn(1),n?vr(t):Yc(()=>new Wn))}function Jo(e){return e<=0?()=>jt:pe((t,n)=>{let r=[];t.subscribe(ge(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Jh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?pn((o,s)=>e(o,s,r)):Ft,Jo(1),n?vr(t):Yc(()=>new Wn))}function ef(e,t){return pe(m1(e,t,arguments.length>=2,!0))}function tf(...e){let t=gr(e);return pe((n,r)=>{(t?Ko(e,n,t):Ko(e,n)).subscribe(r)})}function Bt(e,t){return pe((n,r)=>{let o=null,s=0,i=!1,a=()=>i&&!o&&r.complete();n.subscribe(ge(r,c=>{o?.unsubscribe();let l=0,d=s++;st(e(c,d)).subscribe(o=ge(r,u=>r.next(t?t(c,u,d,l++):u),()=>{o=null,a()}))},()=>{i=!0,a()}))})}function nf(e){return pe((t,n)=>{st(e).subscribe(ge(n,()=>n.complete(),gi)),!n.closed&&t.subscribe(n)})}function ut(e,t,n){let r=ee(e)||t||n?{next:e,error:t,complete:n}:e;return r?pe((o,s)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let a=!0;o.subscribe(ge(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}var Q=class extends Error{constructor(t,n){super(qf(t,n)),this.code=t}};function qf(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Wf(e){return{toString:e}.toString()}var ff=globalThis;function Pe(e){for(let t in e)if(e[t]===Pe)return t;throw Error("Could not find renamed property on target object.")}function Vt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Vt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function v1(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var m_=Pe({__forward_ref__:Pe});function K1(e){return e.__forward_ref__=K1,e.toString=function(){return Vt(this())},e}function Qt(e){return Q1(e)?e():e}function Q1(e){return typeof e=="function"&&e.hasOwnProperty(m_)&&e.__forward_ref__===K1}function oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wl(e){return y1(e,ey)||y1(e,ty)}function J1(e){return wl(e)!==null}function y1(e,t){return e.hasOwnProperty(t)?e[t]:null}function v_(e){let t=e&&(e[ey]||e[ty]);return t||null}function b1(e){return e&&(e.hasOwnProperty(w1)||e.hasOwnProperty(y_))?e[w1]:null}var ey=Pe({\u0275prov:Pe}),w1=Pe({\u0275inj:Pe}),ty=Pe({ngInjectableDef:Pe}),y_=Pe({ngInjectorDef:Pe}),ae=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ny(e){return e&&!!e.\u0275providers}var b_=Pe({\u0275cmp:Pe}),w_=Pe({\u0275dir:Pe}),x_=Pe({\u0275pipe:Pe}),E_=Pe({\u0275mod:Pe}),tl=Pe({\u0275fac:Pe}),yi=Pe({__NG_ELEMENT_ID__:Pe}),x1=Pe({__NG_ENV_ID__:Pe});function D_(e){return typeof e=="string"?e:e==null?"":String(e)}function S_(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():D_(e)}function C_(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Q(-200,e)}function Zf(e,t){throw new Q(-201,!1)}var ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ie||{}),pf;function ry(){return pf}function Kt(e){let t=pf;return pf=e,t}function oy(e,t,n){let r=wl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(t!==void 0)return t;Zf(e,"Injector")}var __={},bi=__,T_="__NG_DI_FLAG__",nl="ngTempTokenPath",M_="ngTokenPath",k_=/\n/gm,I_="\u0275",E1="__source",rs;function O_(){return rs}function yr(e){let t=rs;return rs=e,t}function A_(e,t=ie.Default){if(rs===void 0)throw new Q(-203,!1);return rs===null?oy(e,void 0,t):rs.get(e,t&ie.Optional?null:void 0,t)}function fe(e,t=ie.Default){return(ry()||A_)(Qt(e),t)}function j(e,t=ie.Default){return fe(e,xl(t))}function xl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gf(e){let t=[];for(let n=0;n<e.length;n++){let r=Qt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let o,s=ie.Default;for(let i=0;i<r.length;i++){let a=r[i],c=R_(a);typeof c=="number"?c===-1?o=a.token:s|=c:o=a}t.push(fe(o,s))}else t.push(fe(r))}return t}function R_(e){return e[T_]}function N_(e,t,n,r){let o=e[nl];throw t[E1]&&o.unshift(t[E1]),e.message=L_(`
`+e.message,o,n,r),e[M_]=o,e[nl]=null,e}function L_(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==I_?e.slice(2):e;let o=Vt(t);if(Array.isArray(t))o=t.map(Vt).join(" -> ");else if(typeof t=="object"){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+(typeof a=="string"?JSON.stringify(a):Vt(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(k_,`
  `)}`}function ss(e,t){let n=e.hasOwnProperty(tl);return n?e[tl]:null}function Yf(e,t){e.forEach(n=>Array.isArray(n)?Yf(n,t):t(n))}function sy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var wi={},is=[],as=new ae(""),iy=new ae("",-1),ay=new ae(""),ol=class{get(t,n=bi){if(n===bi){let r=new Error(`NullInjectorError: No provider for ${Vt(t)}!`);throw r.name="NullInjectorError",r}return n}},cy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(cy||{}),An=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(An||{}),cs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cs||{});function P_(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function mf(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{let s=o,i=n[++r];j_(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function F_(e){return e===3||e===4||e===6}function j_(e){return e.charCodeAt(0)===64}function Xf(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?D1(e,n,o,null,t[++r]):D1(e,n,o,null,null))}}return e}function D1(e,t,n,r,o){let s=0,i=e.length;if(t===-1)i=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){i=-1;break}else if(a>t){i=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(e[s+1]=o);return}else if(r===e[s+1]){e[s+2]=o;return}}s++,r!==null&&s++,o!==null&&s++}i!==-1&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),r!==null&&e.splice(s++,0,r),o!==null&&e.splice(s++,0,o)}var ly="ng-template";function B_(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&P_(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Kf(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&typeof(s=t[o])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Kf(e){return e.type===4&&e.value!==ly}function V_(e,t,n){let r=e.type===4&&!n?ly:e.value;return t===r}function $_(e,t,n){let r=4,o=e.attrs,s=o!==null?H_(o):0,i=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!i&&!gn(r)&&!gn(c))return!1;if(i&&gn(c))continue;i=!1,r=c|r&1;continue}if(!i)if(r&4){if(r=2|r&1,c!==""&&!V_(e,c,n)||c===""&&t.length===1){if(gn(r))return!1;i=!0}}else if(r&8){if(o===null||!B_(e,o,c,n)){if(gn(r))return!1;i=!0}}else{let l=t[++a],d=U_(c,o,Kf(e),n);if(d===-1){if(gn(r))return!1;i=!0;continue}if(l!==""){let u;if(d>s?u="":u=o[d+1].toLowerCase(),r&2&&l!==u){if(gn(r))return!1;i=!0}}}}return gn(r)||i}function gn(e){return(e&1)===0}function U_(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){let i=t[o];if(i===e)return o;if(i===3||i===6)s=!0;else if(i===1||i===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(i===4)break;if(i===0){o+=4;continue}}o+=s?1:2}return-1}else return G_(t,e)}function z_(e,t,n=!1){for(let r=0;r<t.length;r++)if($_(e,t[r],n))return!0;return!1}function H_(e){for(let t=0;t<e.length;t++){let n=e[t];if(F_(n))return t}return e.length}function G_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function S1(e,t){return e?":not("+t.trim()+")":t}function q_(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if(typeof i=="string")if(r&2){let a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+i:r&4&&(o+=" "+i);else o!==""&&!gn(i)&&(t+=S1(s,o),o=""),r=i,s=s||!gn(r);n++}return o!==""&&(t+=S1(s,o)),t}function W_(e){return e.map(q_).join(",")}function Z_(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let s=e[r];if(typeof s=="string")o===2?s!==""&&t.push(s,e[++r]):o===8&&n.push(s);else{if(!gn(o))break;o=s}r++}return{attrs:t,classes:n}}function gs(e){return Wf(()=>{let t=py(e),n=$e(z({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===cy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||An.Emulated,styles:e.styles||is,_:null,schemas:e.schemas||null,tView:null,id:""});gy(n);let r=e.dependencies;return n.directiveDefs=_1(r,!1),n.pipeDefs=_1(r,!0),n.id=K_(n),n})}function Y_(e){return Ur(e)||dy(e)}function X_(e){return e!==null}function C1(e,t){if(e==null)return wi;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],s,i,a=cs.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==cs.None?[r,a]:r,t[s]=i):n[s]=r}return n}function Qf(e){return Wf(()=>{let t=py(e);return gy(t),t})}function Ur(e){return e[b_]||null}function dy(e){return e[w_]||null}function uy(e){return e[x_]||null}function hy(e){let t=Ur(e)||dy(e)||uy(e);return t!==null?t.standalone:!1}function fy(e,t){let n=e[E_]||null;if(!n&&t===!0)throw new Error(`Type ${Vt(e)} does not have '\u0275mod' property.`);return n}function py(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||wi,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||is,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:C1(e.inputs,t),outputs:C1(e.outputs),debugInfo:null}}function gy(e){e.features?.forEach(t=>t(e))}function _1(e,t){if(!e)return null;let n=t?uy:Y_;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(X_)}function K_(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function El(e){return{\u0275providers:e}}function Q_(...e){return{\u0275providers:my(!0,e),\u0275fromNgModule:!0}}function my(e,...t){let n=[],r=new Set,o,s=i=>{n.push(i)};return Yf(t,i=>{let a=i;vf(a,s,[],r)&&(o||=[],o.push(a))}),o!==void 0&&vy(o,s),n}function vy(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Jf(o,s=>{t(s,r)})}}function vf(e,t,n,r){if(e=Qt(e),!e)return!1;let o=null,s=b1(e),i=!s&&Ur(e);if(!s&&!i){let c=e.ngModule;if(s=b1(c),s)o=c;else return!1}else{if(i&&!i.standalone)return!1;o=e}let a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){let c=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let l of c)vf(l,t,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(o);let l;try{Yf(s.imports,d=>{vf(d,t,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&vy(l,t)}if(!a){let l=ss(o)||(()=>new o);t({provide:o,useFactory:l,deps:is},o),t({provide:ay,useValue:o,multi:!0},o),t({provide:as,useValue:()=>fe(o),multi:!0},o)}let c=s.providers;if(c!=null&&!a){let l=e;Jf(c,d=>{t(d,l)})}}else return!1;return o!==e&&e.providers!==void 0}function Jf(e,t){for(let n of e)ny(n)&&(n=n.\u0275providers),Array.isArray(n)?Jf(n,t):t(n)}var J_=Pe({provide:String,useValue:Pe});function yy(e){return e!==null&&typeof e=="object"&&J_ in e}function eT(e){return!!(e&&e.useExisting)}function tT(e){return!!(e&&e.useFactory)}function yf(e){return typeof e=="function"}var Dl=new ae(""),Xc={},nT={},rf;function ep(){return rf===void 0&&(rf=new ol),rf}var en=class{},xi=class extends en{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wf(t,i=>this.processProvider(i)),this.records.set(iy,es(void 0,this)),o.has("environment")&&this.records.set(en,es(void 0,this));let s=this.records.get(Dl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ay,is,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=yr(this),r=Kt(void 0),o;try{return t()}finally{yr(n),Kt(r)}}get(t,n=bi,r=ie.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(x1))return t[x1](this);r=xl(r);let o,s=yr(this),i=Kt(void 0);try{if(!(r&ie.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=cT(t)&&wl(t);l&&this.injectableDefInScope(l)?c=es(bf(t),Xc):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&ie.Self?ep():this.parent;return n=r&ie.Optional&&n===bi?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[nl]=a[nl]||[]).unshift(Vt(t)),s)throw a;return N_(a,t,"R3InjectorError",this.source)}else throw a}finally{Kt(i),yr(s)}}resolveInjectorInitializers(){let t=ye(null),n=yr(this),r=Kt(void 0),o;try{let s=this.get(as,is,ie.Self);for(let i of s)i()}finally{yr(n),Kt(r),ye(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Vt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(t){t=Qt(t);let n=yf(t)?t:Qt(t&&t.provide),r=oT(t);if(!yf(t)&&t.multi===!0){let o=this.records.get(n);o||(o=es(void 0,Xc,!0),o.factory=()=>gf(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=ye(null);try{return n.value===Xc&&(n.value=nT,n.value=n.factory()),typeof n.value=="object"&&n.value&&aT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Qt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bf(e){let t=wl(e),n=t!==null?t.factory:ss(e);if(n!==null)return n;if(e instanceof ae)throw new Q(204,!1);if(e instanceof Function)return rT(e);throw new Q(204,!1)}function rT(e){if(e.length>0)throw new Q(204,!1);let n=v_(e);return n!==null?()=>n.factory(e):()=>new e}function oT(e){if(yy(e))return es(void 0,e.useValue);{let t=sT(e);return es(t,Xc)}}function sT(e,t,n){let r;if(yf(e)){let o=Qt(e);return ss(o)||bf(o)}else if(yy(e))r=()=>Qt(e.useValue);else if(tT(e))r=()=>e.useFactory(...gf(e.deps||[]));else if(eT(e))r=()=>fe(Qt(e.useExisting));else{let o=Qt(e&&(e.useClass||e.provide));if(iT(e))r=()=>new o(...gf(e.deps));else return ss(o)||bf(o)}return r}function es(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function iT(e){return!!e.deps}function aT(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function cT(e){return typeof e=="function"||typeof e=="object"&&e instanceof ae}function wf(e,t){for(let n of e)Array.isArray(n)?wf(n,t):n&&ny(n)?wf(n.\u0275providers,t):t(n)}function Qn(e,t){e instanceof xi&&e.assertNotDestroyed();let n,r=yr(e),o=Kt(void 0);try{return t()}finally{yr(r),Kt(o)}}function lT(){return ry()!==void 0||O_()!=null}function dT(e){return typeof e=="function"}var Jn=0,le=1,te=2,Ct=3,mn=4,vn=5,sl=6,il=7,Rn=8,ls=9,Yn=10,Ut=11,Ei=12,T1=13,ki=14,Nn=15,ds=16,ts=17,us=18,Sl=19,by=20,br=21,of=22,Jt=23,Ln=25,wy=1;var zr=7,al=8,cl=9,$t=10,ll=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ll||{});function wr(e){return Array.isArray(e)&&typeof e[wy]=="object"}function er(e){return Array.isArray(e)&&e[wy]===!0}function xy(e){return(e.flags&4)!==0}function tp(e){return e.componentOffset>-1}function np(e){return(e.flags&1)===1}function Ii(e){return!!e.template}function xf(e){return(e[te]&512)!==0}var Ef=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ey(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Cl(){return Dy}function Dy(e){return e.type.prototype.ngOnChanges&&(e.setInput=hT),uT}Cl.ngInherit=!0;function uT(){let e=Cy(this),t=e?.current;if(t){let n=e.previous;if(n===wi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function hT(e,t,n,r,o){let s=this.declaredInputs[r],i=Cy(e)||fT(e,{previous:wi,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new Ef(l&&l.currentValue,n,c===wi),Ey(e,t,o,n)}var Sy="__ngSimpleChanges__";function Cy(e){return e[Sy]||null}function fT(e,t){return e[Sy]=t}var M1=null;var In=function(e,t,n){M1?.(e,t,n)},pT="svg",gT="math";function Xn(e){for(;Array.isArray(e);)e=e[Jn];return e}function Pn(e,t){return Xn(t[e.index])}function _y(e,t){return e.data[t]}function Zr(e,t){let n=t[e];return wr(n)?n:n[Jn]}function rp(e){return(e[te]&128)===128}function mT(e){return er(e[Ct])}function dl(e,t){return t==null?null:e[t]}function Ty(e){e[ts]=0}function My(e){e[te]&1024||(e[te]|=1024,rp(e)&&_l(e))}function Di(e){return!!(e[te]&9216||e[Jt]?.dirty)}function Df(e){e[Yn].changeDetectionScheduler?.notify(7),e[te]&64&&(e[te]|=1024),Di(e)&&_l(e)}function _l(e){e[Yn].changeDetectionScheduler?.notify(0);let t=Hr(e);for(;t!==null&&!(t[te]&8192||(t[te]|=8192,!rp(t)));)t=Hr(t)}function ky(e,t){if((e[te]&256)===256)throw new Q(911,!1);e[br]===null&&(e[br]=[]),e[br].push(t)}function vT(e,t){if(e[br]===null)return;let n=e[br].indexOf(t);n!==-1&&e[br].splice(n,1)}function Hr(e){let t=e[Ct];return er(t)?t[Ct]:t}var Ae={lFrame:jy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Iy=!1;function yT(){return Ae.lFrame.elementDepthCount}function bT(){Ae.lFrame.elementDepthCount++}function wT(){Ae.lFrame.elementDepthCount--}function Oy(){return Ae.bindingsEnabled}function xT(){return Ae.skipHydrationRootTNode!==null}function ET(e){return Ae.skipHydrationRootTNode===e}function DT(){Ae.skipHydrationRootTNode=null}function mt(){return Ae.lFrame.lView}function ms(){return Ae.lFrame.tView}function yn(){let e=Ay();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ay(){return Ae.lFrame.currentTNode}function ST(){let e=Ae.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Oi(e,t){let n=Ae.lFrame;n.currentTNode=e,n.isParent=t}function Ry(){return Ae.lFrame.isParent}function CT(){Ae.lFrame.isParent=!1}function Ny(){return Iy}function k1(e){Iy=e}function _T(e){return Ae.lFrame.bindingIndex=e}function TT(){return Ae.lFrame.bindingIndex++}function MT(){return Ae.lFrame.inI18n}function kT(e,t){let n=Ae.lFrame;n.bindingIndex=n.bindingRootIndex=e,Sf(t)}function IT(){return Ae.lFrame.currentDirectiveIndex}function Sf(e){Ae.lFrame.currentDirectiveIndex=e}function Ly(e){Ae.lFrame.currentQueryIndex=e}function OT(e){let t=e[le];return t.type===2?t.declTNode:t.type===1?e[vn]:null}function Py(e,t,n){if(n&ie.SkipSelf){let o=t,s=e;for(;o=o.parent,o===null&&!(n&ie.Host);)if(o=OT(s),o===null||(s=s[ki],o.type&10))break;if(o===null)return!1;t=o,e=s}let r=Ae.lFrame=Fy();return r.currentTNode=t,r.lView=e,!0}function op(e){let t=Fy(),n=e[le];Ae.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fy(){let e=Ae.lFrame,t=e===null?null:e.child;return t===null?jy(e):t}function jy(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function By(){let e=Ae.lFrame;return Ae.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Vy=By;function sp(){let e=By();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $y(){return Ae.lFrame.selectedIndex}function Gr(e){Ae.lFrame.selectedIndex=e}function AT(){return Ae.lFrame.currentNamespace}var Uy=!0;function ip(){return Uy}function ap(e){Uy=e}function RT(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){let i=Dy(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function cp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function Kc(e,t,n){zy(e,t,3,n)}function Qc(e,t,n,r){(e[te]&3)===n&&zy(e,t,n,r)}function sf(e,t){let n=e[te];(n&3)===t&&(n&=16383,n+=1,e[te]=n)}function zy(e,t,n,r){let o=r!==void 0?e[ts]&65535:0,s=r??-1,i=t.length-1,a=0;for(let c=o;c<i;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[ts]+=65536),(a<s||s==-1)&&(NT(e,n,t,c),e[ts]=(e[ts]&4294901760)+c+2),c++}function I1(e,t){In(4,e,t);let n=ye(null);try{t.call(e)}finally{ye(n),In(5,e,t)}}function NT(e,t,n,r){let o=n[r]<0,s=n[r+1],i=o?-n[r]:n[r],a=e[i];o?e[te]>>14<e[ts]>>16&&(e[te]&3)===t&&(e[te]+=16384,I1(a,s)):I1(a,s)}var os=-1,Si=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function LT(e){return e instanceof Si}function PT(e){return(e.flags&8)!==0}function FT(e){return(e.flags&16)!==0}var af={},Cf=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=xl(r);let o=this.injector.get(t,af,r);return o!==af||n===af?o:this.parentInjector.get(t,n,r)}};function Hy(e){return e!==os}function ul(e){return e&32767}function jT(e){return e>>16}function hl(e,t){let n=jT(e),r=t;for(;n>0;)r=r[ki],n--;return r}var _f=!0;function O1(e){let t=_f;return _f=e,t}var BT=256,Gy=BT-1,qy=5,VT=0,On={};function $T(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(yi)&&(r=n[yi]),r==null&&(r=n[yi]=VT++);let o=r&Gy,s=1<<o;t.data[e+(o>>qy)]|=s}function Wy(e,t){let n=Zy(e,t);if(n!==-1)return n;let r=t[le];r.firstCreatePass&&(e.injectorIndex=t.length,cf(r.data,e),cf(t,null),cf(r.blueprint,null));let o=lp(e,t),s=e.injectorIndex;if(Hy(o)){let i=ul(o),a=hl(o,t),c=a[le].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function cf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Zy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function lp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=Jy(o),r===null)return os;if(n++,o=o[ki],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return os}function UT(e,t,n){$T(e,t,n)}function Yy(e,t,n){if(n&ie.Optional||e!==void 0)return e;Zf(t,"NodeInjector")}function Xy(e,t,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let o=e[ls],s=Kt(void 0);try{return o?o.get(t,r,n&ie.Optional):oy(t,r,n&ie.Optional)}finally{Kt(s)}}return Yy(r,t,n)}function Ky(e,t,n,r=ie.Default,o){if(e!==null){if(t[te]&2048&&!(r&ie.Self)){let i=WT(e,t,n,r,On);if(i!==On)return i}let s=Qy(e,t,n,r,On);if(s!==On)return s}return Xy(t,n,r,o)}function Qy(e,t,n,r,o){let s=GT(n);if(typeof s=="function"){if(!Py(t,e,r))return r&ie.Host?Yy(o,n,r):Xy(t,n,r,o);try{let i;if(i=s(r),i==null&&!(r&ie.Optional))Zf(n);else return i}finally{Vy()}}else if(typeof s=="number"){let i=null,a=Zy(e,t),c=os,l=r&ie.Host?t[Nn][vn]:null;for((a===-1||r&ie.SkipSelf)&&(c=a===-1?lp(e,t):t[a+8],c===os||!R1(r,!1)?a=-1:(i=t[le],a=ul(c),t=hl(c,t)));a!==-1;){let d=t[le];if(A1(s,a,d.data)){let u=zT(a,t,n,i,r,l);if(u!==On)return u}c=t[a+8],c!==os&&R1(r,t[le].data[a+8]===l)&&A1(s,a,t)?(i=d,a=ul(c),t=hl(c,t)):a=-1}}return o}function zT(e,t,n,r,o,s){let i=t[le],a=i.data[e+8],c=r==null?tp(a)&&_f:r!=i&&(a.type&3)!==0,l=o&ie.Host&&s===a,d=HT(a,i,n,c,l);return d!==null?Ci(t,i,d,a):On}function HT(e,t,n,r,o){let s=e.providerIndexes,i=t.data,a=s&1048575,c=e.directiveStart,l=e.directiveEnd,d=s>>20,u=r?a:a+d,h=o?a+d:l;for(let f=u;f<h;f++){let p=i[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=i[c];if(f&&Ii(f)&&f.type===n)return c}return null}function Ci(e,t,n,r){let o=e[n],s=t.data;if(LT(o)){let i=o;i.resolving&&C_(S_(s[n]));let a=O1(i.canSeeViewProviders);i.resolving=!0;let c,l=i.injectImpl?Kt(i.injectImpl):null,d=Py(e,r,ie.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&RT(n,s[n],t)}finally{l!==null&&Kt(l),O1(a),i.resolving=!1,Vy()}}return o}function GT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(yi)?e[yi]:void 0;return typeof t=="number"?t>=0?t&Gy:qT:t}function A1(e,t,n){let r=1<<e;return!!(n[t+(e>>qy)]&r)}function R1(e,t){return!(e&ie.Self)&&!(e&ie.Host&&t)}var $r=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ky(this._tNode,this._lView,t,xl(r),n)}};function qT(){return new $r(yn(),mt())}function dp(e){return Wf(()=>{let t=e.prototype.constructor,n=t[tl]||Tf(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let s=o[tl]||Tf(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function Tf(e){return Q1(e)?()=>{let t=Tf(Qt(e));return t&&t()}:ss(e)}function WT(e,t,n,r,o){let s=e,i=t;for(;s!==null&&i!==null&&i[te]&2048&&!(i[te]&512);){let a=Qy(s,i,n,r|ie.Self,On);if(a!==On)return a;let c=s.parent;if(!c){let l=i[by];if(l){let d=l.get(n,On,r);if(d!==On)return d}c=Jy(i),i=i[ki]}s=c}return o}function Jy(e){let t=e[le],n=t.type;return n===2?t.declTNode:n===1?e[vn]:null}function N1(e,t=null,n=null,r){let o=eb(e,t,n,r);return o.resolveInjectorInitializers(),o}function eb(e,t=null,n=null,r,o=new Set){let s=[n||is,Q_(e)];return r=r||(typeof e=="object"?void 0:Vt(e)),new xi(s,t||ep(),r||null,o)}var Vr=class Vr{static create(t,n){if(Array.isArray(t))return N1({name:""},n,t,"");{let r=t.name??"";return N1({name:r},t.parent,t.providers,r)}}};Vr.THROW_IF_NOT_FOUND=bi,Vr.NULL=new ol,Vr.\u0275prov=oe({token:Vr,providedIn:"any",factory:()=>fe(iy)}),Vr.__NG_ELEMENT_ID__=-1;var qr=Vr;var ZT=new ae("");ZT.__NG_ELEMENT_ID__=e=>{let t=yn();if(t===null)throw new Q(204,!1);if(t.type&2)return t.value;if(e&ie.Optional)return null;throw new Q(204,!1)};var YT="ngOriginalError";function lf(e){return e[YT]}var Kn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&lf(t);for(;n&&lf(n);)n=lf(n);return n||null}},tb=new ae("",{providedIn:"root",factory:()=>j(Kn).handleError.bind(void 0)}),nb=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=XT,t.__NG_ENV_ID__=r=>r;let e=t;return e})(),Mf=class extends nb{constructor(t){super(),this._lView=t}onDestroy(t){return ky(this._lView,t),()=>vT(this._lView,t)}};function XT(){return new Mf(mt())}function KT(){return up(yn(),mt())}function up(e,t){return new Tl(Pn(e,t))}var Tl=(()=>{let t=class t{constructor(r){this.nativeElement=r}};t.__NG_ELEMENT_ID__=KT;let e=t;return e})();var vs=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();var kf=class extends Dt{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,lT()&&(this.destroyRef=j(nb,{optional:!0})??void 0,this.pendingTasks=j(vs,{optional:!0})??void 0)}emit(t){let n=ye(null);try{super.next(t)}finally{ye(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),i&&(i=this.wrapInTimeout(i)));let a=super.subscribe({next:o,error:s,complete:i});return t instanceof Ge&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},St=kf;function rb(e){return(e.flags&128)===128}var ob=new Map,QT=0;function JT(){return QT++}function eM(e){ob.set(e[Sl],e)}function tM(e){ob.delete(e[Sl])}var L1="__ngContext__";function Wr(e,t){wr(t)?(e[L1]=t[Sl],eM(t)):e[L1]=t}function sb(e){return ab(e[Ei])}function ib(e){return ab(e[mn])}function ab(e){for(;e!==null&&!er(e);)e=e[mn];return e}var If;function cb(e){If=e}function nM(){if(If!==void 0)return If;if(typeof document<"u")return document;throw new Q(210,!1)}var hp=new ae("",{providedIn:"root",factory:()=>rM}),rM="ng",fp=new ae(""),ys=new ae("",{providedIn:"platform",factory:()=>"unknown"});var pp=new ae("",{providedIn:"root",factory:()=>nM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oM="h",sM="b";var iM=()=>null;function gp(e,t,n=!1){return iM(e,t,n)}var lb=!1,aM=new ae("",{providedIn:"root",factory:()=>lb});function db(e){return e instanceof Function?e():e}var Yr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Yr||{}),cM;function mp(e,t){return cM(e,t)}function ns(e,t,n,r,o){if(r!=null){let s,i=!1;er(r)?s=r:wr(r)&&(i=!0,r=r[Jn]);let a=Xn(r);e===0&&n!==null?o==null?pb(t,n,a):pl(t,n,a,o||null,!0):e===1&&n!==null?pl(t,n,a,o||null,!0):e===2?DM(t,a,i):e===3&&t.destroyNode(a),s!=null&&CM(t,e,s,n,o)}}function lM(e,t){return e.createText(t)}function ub(e,t,n){return e.createElement(t,n)}function dM(e,t){hb(e,t),t[Jn]=null,t[vn]=null}function uM(e,t,n,r,o,s){r[Jn]=o,r[vn]=t,Ml(e,r,n,1,o,s)}function hb(e,t){t[Yn].changeDetectionScheduler?.notify(8),Ml(e,t,t[Ut],2,null,null)}function hM(e){let t=e[Ei];if(!t)return df(e[le],e);for(;t;){let n=null;if(wr(t))n=t[Ei];else{let r=t[$t];r&&(n=r)}if(!n){for(;t&&!t[mn]&&t!==e;)wr(t)&&df(t[le],t),t=t[Ct];t===null&&(t=e),wr(t)&&df(t[le],t),n=t&&t[mn]}t=n}}function fM(e,t,n,r){let o=$t+r,s=n.length;r>0&&(n[o-1][mn]=t),r<s-$t?(t[mn]=n[o],sy(n,$t+r,t)):(n.push(t),t[mn]=null),t[Ct]=n;let i=t[ds];i!==null&&n!==i&&fb(i,t);let a=t[us];a!==null&&a.insertView(e),Df(t),t[te]|=128}function fb(e,t){let n=e[cl],r=t[Ct];if(wr(r))e[te]|=ll.HasTransplantedViews;else{let o=r[Ct][Nn];t[Nn]!==o&&(e[te]|=ll.HasTransplantedViews)}n===null?e[cl]=[t]:n.push(t)}function vp(e,t){let n=e[cl],r=n.indexOf(t);n.splice(r,1)}function fl(e,t){if(e.length<=$t)return;let n=$t+t,r=e[n];if(r){let o=r[ds];o!==null&&o!==e&&vp(o,r),t>0&&(e[n-1][mn]=r[mn]);let s=rl(e,$t+t);dM(r[le],r);let i=s[us];i!==null&&i.detachView(s[le]),r[Ct]=null,r[mn]=null,r[te]&=-129}return r}function yp(e,t){if(!(t[te]&256)){let n=t[Ut];n.destroyNode&&Ml(e,t,n,3,null,null),hM(t)}}function df(e,t){if(t[te]&256)return;let n=ye(null);try{t[te]&=-129,t[te]|=256,t[Jt]&&Nh(t[Jt]),gM(e,t),pM(e,t),t[le].type===1&&t[Ut].destroy();let r=t[ds];if(r!==null&&er(t[Ct])){r!==t[Ct]&&vp(r,t);let o=t[us];o!==null&&o.detachView(e)}tM(t)}finally{ye(n)}}function pM(e,t){let n=e.cleanup,r=t[il];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else{let i=r[n[s+1]];n[s].call(i)}r!==null&&(t[il]=null);let o=t[br];if(o!==null){t[br]=null;for(let s=0;s<o.length;s++){let i=o[s];i()}}}function gM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Si)){let s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){let a=o[s[i]],c=s[i+1];In(4,a,c);try{c.call(a)}finally{In(5,a,c)}}else{In(4,o,s);try{s.call(o)}finally{In(5,o,s)}}}}}function mM(e,t,n){return vM(e,t.parent,n)}function vM(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[Jn];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:s}=e.data[r.directiveStart+o];if(s===An.None||s===An.Emulated)return null}return Pn(r,n)}}function pl(e,t,n,r,o){e.insertBefore(t,n,r,o)}function pb(e,t,n){e.appendChild(t,n)}function P1(e,t,n,r,o){r!==null?pl(e,t,n,r,o):pb(e,t,n)}function yM(e,t,n,r){e.removeChild(t,n,r)}function bp(e,t){return e.parentNode(t)}function bM(e,t){return e.nextSibling(t)}function wM(e,t,n){return EM(e,t,n)}function xM(e,t,n){return e.type&40?Pn(e,n):null}var EM=xM,F1;function wp(e,t,n,r){let o=mM(e,r,t),s=t[Ut],i=r.parent||t[vn],a=wM(i,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)P1(s,o,n[c],a,!1);else P1(s,o,n,a,!1);F1!==void 0&&F1(s,r,t,n,o)}function Jc(e,t){if(t!==null){let n=t.type;if(n&3)return Pn(t,e);if(n&4)return Of(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Jc(e,r);{let o=e[t.index];return er(o)?Of(-1,o):Xn(o)}}else{if(n&32)return mp(t,e)()||Xn(e[t.index]);{let r=gb(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Hr(e[Nn]);return Jc(o,r)}else return Jc(e,t.next)}}}return null}function gb(e,t){if(t!==null){let r=e[Nn][vn],o=t.projection;return r.projection[o]}return null}function Of(e,t){let n=$t+e+1;if(n<t.length){let r=t[n],o=r[le].firstChild;if(o!==null)return Jc(r,o)}return t[zr]}function DM(e,t,n){let r=bp(e,t);r&&yM(e,r,t,n)}function xp(e,t,n,r,o,s,i){for(;n!=null;){let a=r[n.index],c=n.type;if(i&&t===0&&(a&&Wr(Xn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)xp(e,t,n.child,r,o,s,!1),ns(t,e,o,a,s);else if(c&32){let l=mp(n,r),d;for(;d=l();)ns(t,e,o,d,s);ns(t,e,o,a,s)}else c&16?SM(e,t,r,n,o,s):ns(t,e,o,a,s);n=i?n.projectionNext:n.next}}function Ml(e,t,n,r,o,s){xp(n,r,e.firstChild,t,o,s,!1)}function SM(e,t,n,r,o,s){let i=n[Nn],c=i[vn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];ns(t,e,o,d,s)}else{let l=c,d=i[Ct];rb(r)&&(l.flags|=128),xp(e,t,l,d,o,s,!0)}}function CM(e,t,n,r,o){let s=n[zr],i=Xn(n);s!==i&&ns(t,e,r,s,o);for(let a=$t;a<n.length;a++){let c=n[a];Ml(c[le],c,e,t,r,s)}}function _M(e,t,n){e.setAttribute(t,"style",n)}function mb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function vb(e,t,n){let{mergedAttrs:r,classes:o,styles:s}=n;r!==null&&mf(e,t,r),o!==null&&mb(e,t,o),s!==null&&_M(e,t,s)}var Ep={};function yb(e=1){bb(ms(),mt(),$y()+e,!1)}function bb(e,t,n,r){if(!r)if((t[te]&3)===3){let s=e.preOrderCheckHooks;s!==null&&Kc(t,s,n)}else{let s=e.preOrderHooks;s!==null&&Qc(t,s,0,n)}Gr(n)}function Ai(e,t=ie.Default){let n=mt();if(n===null)return fe(e,t);let r=yn();return Ky(r,n,Qt(e),t)}function wb(e,t,n,r,o,s){let i=ye(null);try{let a=null;o&cs.SignalBased&&(a=t[r][F0]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),o&cs.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),e.setInput!==null?e.setInput(t,a,s,n,r):Ey(t,a,r,s)}finally{ye(i)}}function TM(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Gr(~o);else{let s=o,i=n[++r],a=n[++r];kT(i,s);let c=t[s];a(2,c)}}}finally{Gr(-1)}}function kl(e,t,n,r,o,s,i,a,c,l,d){let u=t.blueprint.slice();return u[Jn]=o,u[te]=r|4|128|8|64,(l!==null||e&&e[te]&2048)&&(u[te]|=2048),Ty(u),u[Ct]=u[ki]=e,u[Rn]=n,u[Yn]=i||e&&e[Yn],u[Ut]=a||e&&e[Ut],u[ls]=c||e&&e[ls]||null,u[vn]=s,u[Sl]=JT(),u[sl]=d,u[by]=l,u[Nn]=t.type==2?e[Nn]:u,u}function Il(e,t,n,r,o){let s=e.data[t];if(s===null)s=MM(e,t,n,r,o),MT()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=o;let i=ST();s.injectorIndex=i===null?-1:i.injectorIndex}return Oi(s,!0),s}function MM(e,t,n,r,o){let s=Ay(),i=Ry(),a=i?s:s&&s.parent,c=e.data[t]=RM(e,a,n,t,r,o);return e.firstChild===null&&(e.firstChild=c),s!==null&&(i?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function xb(e,t,n,r){if(n===0)return-1;let o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Eb(e,t,n,r,o){let s=$y(),i=r&2;try{Gr(-1),i&&t.length>Ln&&bb(e,t,Ln,!1),In(i?2:0,o),n(r,o)}finally{Gr(s),In(i?3:1,o)}}function Db(e,t,n){if(xy(t)){let r=ye(null);try{let o=t.directiveStart,s=t.directiveEnd;for(let i=o;i<s;i++){let a=e.data[i];if(a.contentQueries){let c=n[i];a.contentQueries(1,c,i)}}}finally{ye(r)}}}function Sb(e,t,n){Oy()&&(FM(e,t,n,Pn(n,t)),(n.flags&64)===64&&kb(e,t,n))}function Cb(e,t,n=Pn){let r=t.localNames;if(r!==null){let o=t.index+1;for(let s=0;s<r.length;s+=2){let i=r[s+1],a=i===-1?n(t,e):e[i];e[o++]=a}}}function _b(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Dp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Dp(e,t,n,r,o,s,i,a,c,l,d){let u=Ln+r,h=u+o,f=kM(u,h),p=typeof l=="function"?l():l;return f[le]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:d}}function kM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ep);return n}function IM(e,t,n,r){let s=r.get(aM,lb)||n===An.ShadowDom,i=e.selectRootElement(t,s);return OM(i),i}function OM(e){AM(e)}var AM=()=>null;function RM(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return xT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function j1(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;let i=t[s];if(i===void 0)continue;r??={};let a,c=cs.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(o!==null){if(!o.hasOwnProperty(s))continue;l=o[s]}e===0?B1(r,n,l,a,c):B1(r,n,l,a)}return r}function B1(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],o!==void 0&&s.push(o)}function NM(e,t,n){let r=t.directiveStart,o=t.directiveEnd,s=e.data,i=t.attrs,a=[],c=null,l=null;for(let d=r;d<o;d++){let u=s[d],h=n?n.get(u):null,f=h?h.inputs:null,p=h?h.outputs:null;c=j1(0,u.inputs,d,c,f),l=j1(1,u.outputs,d,l,p);let v=c!==null&&i!==null&&!Kf(t)?qM(c,d,i):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function Tb(e,t,n,r){if(Oy()){let o=r===null?null:{"":-1},s=BM(e,n),i,a;s===null?i=a=null:[i,a]=s,i!==null&&Mb(e,t,n,i,o,a),o&&VM(n,r,o)}n.mergedAttrs=Xf(n.mergedAttrs,n.attrs)}function Mb(e,t,n,r,o,s){for(let l=0;l<r.length;l++)UT(Wy(n,t),e,r[l].type);UM(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let i=!1,a=!1,c=xb(e,t,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=Xf(n.mergedAttrs,d.hostAttrs),zM(e,n,t,c,d),$M(c,d,o),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let u=d.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}NM(e,n,s)}function LM(e,t,n,r,o){let s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;i===null&&(i=e.hostBindingOpCodes=[]);let a=~t.index;PM(i)!=a&&i.push(a),i.push(n,r,s)}}function PM(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function FM(e,t,n,r){let o=n.directiveStart,s=n.directiveEnd;tp(n)&&HM(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Wy(n,t),Wr(r,t);let i=n.initialInputs;for(let a=o;a<s;a++){let c=e.data[a],l=Ci(t,e,a,n);if(Wr(l,t),i!==null&&GM(t,a-o,l,c,n,i),Ii(c)){let d=Zr(n.index,t);d[Rn]=Ci(t,e,a,n)}}}function kb(e,t,n){let r=n.directiveStart,o=n.directiveEnd,s=n.index,i=IT();try{Gr(s);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];Sf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jM(c,l)}}finally{Gr(-1),Sf(i)}}function jM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function BM(e,t){let n=e.directiveRegistry,r=null,o=null;if(n)for(let s=0;s<n.length;s++){let i=n[s];if(z_(t,i.selectors,!1))if(r||(r=[]),Ii(i))if(i.findHostDirectiveDefs!==null){let a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i);let c=a.length;Af(e,t,c)}else r.unshift(i),Af(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return r===null?null:[r,o]}function Af(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function VM(e,t,n){if(t){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let s=n[t[o+1]];if(s==null)throw new Q(-301,!1);r.push(t[o],s)}}}function $M(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ii(t)&&(n[""]=e)}}function UM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function zM(e,t,n,r,o){e.data[r]=o;let s=o.factory||(o.factory=ss(o.type,!0)),i=new Si(s,Ii(o),Ai);e.blueprint[r]=i,n[r]=i,LM(e,t,r,xb(e,n,o.hostVars,Ep),o)}function HM(e,t,n){let r=Pn(t,e),o=_b(n),s=e[Yn].rendererFactory,i=16;n.signals?i=4096:n.onPush&&(i=64);let a=Ol(e,kl(e,o,null,i,r,t,null,s.createRenderer(r,n),null,null,null));e[t.index]=a}function GM(e,t,n,r,o,s){let i=s[t];if(i!==null)for(let a=0;a<i.length;){let c=i[a++],l=i[a++],d=i[a++],u=i[a++];wb(r,n,c,l,d,u)}}function qM(e,t,n){let r=null,o=0;for(;o<n.length;){let s=n[o];if(s===0){o+=4;continue}else if(s===5){o+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){r===null&&(r=[]);let i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}return r}function Ib(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Ob(e,t){let n=e.contentQueries;if(n!==null){let r=ye(null);try{for(let o=0;o<n.length;o+=2){let s=n[o],i=n[o+1];if(i!==-1){let a=e.data[i];Ly(s),a.contentQueries(2,t[i],i)}}}finally{ye(r)}}}function Ol(e,t){return e[Ei]?e[T1][mn]=t:e[Ei]=t,e[T1]=t,t}function Rf(e,t,n){Ly(0);let r=ye(null);try{t(e,n)}finally{ye(r)}}function WM(e){return e[il]??=[]}function ZM(e){return e.cleanup??=[]}function Ab(e,t){let n=e[ls],r=n?n.get(Kn,null):null;r&&r.handleError(t)}function Rb(e,t,n,r,o){for(let s=0;s<n.length;){let i=n[s++],a=n[s++],c=n[s++],l=t[i],d=e.data[i];wb(d,l,r,a,c,o)}}function YM(e,t){let n=Zr(t,e),r=n[le];XM(r,n);let o=n[Jn];o!==null&&n[sl]===null&&(n[sl]=gp(o,n[ls])),Sp(r,n,n[Rn])}function XM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Sp(e,t,n){op(t);try{let r=e.viewQuery;r!==null&&Rf(1,r,n);let o=e.template;o!==null&&Eb(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[us]?.finishViewCreation(e),e.staticContentQueries&&Ob(e,t),e.staticViewQueries&&Rf(2,e.viewQuery,n);let s=e.components;s!==null&&KM(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[te]&=-5,sp()}}function KM(e,t){for(let n=0;n<t.length;n++)YM(e,t[n])}function QM(e,t,n,r){let o=ye(null);try{let s=t.tView,a=e[te]&4096?4096:16,c=kl(e,s,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[ds]=l;let d=e[us];return d!==null&&(c[us]=d.createEmbeddedView(s)),Sp(s,c,n),c}finally{ye(o)}}function JM(e,t){let n=$t+t;if(n<e.length)return e[n]}function Nf(e,t){return!t||t.firstChild===null||rb(e)}function Nb(e,t,n,r=!0){let o=t[le];if(fM(o,t,e,n),r){let i=Of(n,e),a=t[Ut],c=bp(a,e[zr]);c!==null&&uM(o,e[vn],a,t,c,i)}let s=t[sl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ek(e,t){let n=fl(e,t);return n!==void 0&&yp(n[le],n),n}function gl(e,t,n,r,o=!1){for(;n!==null;){let s=t[n.index];s!==null&&r.push(Xn(s)),er(s)&&tk(s,r);let i=n.type;if(i&8)gl(e,t,n.child,r);else if(i&32){let a=mp(n,t),c;for(;c=a();)r.push(c)}else if(i&16){let a=gb(t,n);if(Array.isArray(a))r.push(...a);else{let c=Hr(t[Nn]);gl(c[le],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function tk(e,t){for(let n=$t;n<e.length;n++){let r=e[n],o=r[le].firstChild;o!==null&&gl(r[le],r,o,t)}e[zr]!==e[Jn]&&t.push(e[zr])}var Lb=[];function nk(e){return e[Jt]??rk(e)}function rk(e){let t=Lb.pop()??Object.create(sk);return t.lView=e,t}function ok(e){e.lView[Jt]!==e&&(e.lView=null,Lb.push(e))}var sk=$e(z({},Oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{_l(e.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function ik(e){let t=e[Jt]??Object.create(ak);return t.lView=e,t}var ak=$e(z({},Oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Hr(e.lView);for(;t&&!Pb(t[le]);)t=Hr(t);t&&My(t)},consumerOnSignalRead(){this.lView[Jt]=this}});function Pb(e){return e.type!==2}var ck=100;function Fb(e,t=!0,n=0){let r=e[Yn],o=r.rendererFactory,s=!1;s||o.begin?.();try{lk(e,n)}catch(i){throw t&&Ab(e,i),i}finally{s||(o.end?.(),r.inlineEffectRunner?.flush())}}function lk(e,t){let n=Ny();try{k1(!0),Lf(e,t);let r=0;for(;Di(e);){if(r===ck)throw new Q(103,!1);r++,Lf(e,1)}}finally{k1(n)}}function dk(e,t,n,r){let o=t[te];if((o&256)===256)return;let s=!1,i=!1;!s&&t[Yn].inlineEffectRunner?.flush(),op(t);let a=!0,c=null,l=null;s||(Pb(e)?(l=nk(t),c=Ah(l)):j0()===null?(a=!1,l=ik(t),c=Ah(l)):t[Jt]&&(Nh(t[Jt]),t[Jt]=null));try{Ty(t),_T(e.bindingStartIndex),n!==null&&Eb(e,t,n,2,r);let d=(o&3)===3;if(!s)if(d){let f=e.preOrderCheckHooks;f!==null&&Kc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Qc(t,f,0,null),sf(t,0)}if(i||uk(t),jb(t,0),e.contentQueries!==null&&Ob(e,t),!s)if(d){let f=e.contentCheckHooks;f!==null&&Kc(t,f)}else{let f=e.contentHooks;f!==null&&Qc(t,f,1),sf(t,1)}TM(e,t);let u=e.components;u!==null&&Vb(t,u,0);let h=e.viewQuery;if(h!==null&&Rf(2,h,r),!s)if(d){let f=e.viewCheckHooks;f!==null&&Kc(t,f)}else{let f=e.viewHooks;f!==null&&Qc(t,f,2),sf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[of]){for(let f of t[of])f();t[of]=null}s||(t[te]&=-73)}catch(d){throw s||_l(t),d}finally{l!==null&&(B0(l,c),a&&ok(l)),sp()}}function jb(e,t){for(let n=sb(e);n!==null;n=ib(n))for(let r=$t;r<n.length;r++){let o=n[r];Bb(o,t)}}function uk(e){for(let t=sb(e);t!==null;t=ib(t)){if(!(t[te]&ll.HasTransplantedViews))continue;let n=t[cl];for(let r=0;r<n.length;r++){let o=n[r];My(o)}}}function hk(e,t,n){let r=Zr(t,e);Bb(r,n)}function Bb(e,t){rp(e)&&Lf(e,t)}function Lf(e,t){let r=e[le],o=e[te],s=e[Jt],i=!!(t===0&&o&16);if(i||=!!(o&64&&t===0),i||=!!(o&1024),i||=!!(s?.dirty&&Rh(s)),i||=!1,s&&(s.dirty=!1),e[te]&=-9217,i)dk(r,e,r.template,e[Rn]);else if(o&8192){jb(e,1);let a=r.components;a!==null&&Vb(e,a,1)}}function Vb(e,t,n){for(let r=0;r<t.length;r++)hk(e,t[r],n)}function Cp(e,t){let n=Ny()?64:1088;for(e[Yn].changeDetectionScheduler?.notify(t);e;){e[te]|=n;let r=Hr(e);if(xf(e)&&!r)return e;e=r}return null}var hs=class{get rootNodes(){let t=this._lView,n=t[le];return gl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(t){this._lView[Rn]=t}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ct];if(er(t)){let n=t[al],r=n?n.indexOf(this):-1;r>-1&&(fl(t,r),rl(n,r))}this._attachedToViewContainer=!1}yp(this._lView[le],this._lView)}onDestroy(t){ky(this._lView,t)}markForCheck(){Cp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Df(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,Fb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=xf(this._lView),n=this._lView[ds];n!==null&&!t&&vp(n,this._lView),hb(this._lView[le],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=t;let n=xf(this._lView),r=this._lView[ds];r!==null&&!n&&fb(r,this._lView),Df(this._lView)}};var VX=new RegExp(`^(\\d+)*(${sM}|${oM})*(.*)`);var fk=()=>null;function Pf(e,t){return fk(e,t)}var _i=class{},_p=new ae("",{providedIn:"root",factory:()=>!1});var $b=new ae(""),Ff=class{},ml=class{};function pk(e){let t=Error(`No component factory found for ${Vt(e)}.`);return t[gk]=e,t}var gk="ngComponent";var jf=class{resolveComponentFactory(t){throw pk(t)}},Rp=class Rp{};Rp.NULL=new jf;var fs=Rp,ps=class{},Ri=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>mk();let e=t;return e})();function mk(){let e=mt(),t=yn(),n=Zr(t.index,e);return(wr(n)?n:e)[Ut]}var vk=(()=>{let t=class t{};t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>null});let e=t;return e})();var V1=new Set;function Al(e){V1.has(e)||(V1.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Ub(e){let t=!0;return setTimeout(()=>{t&&(t=!1,e())}),typeof ff.requestAnimationFrame=="function"&&ff.requestAnimationFrame(()=>{t&&(t=!1,e())}),()=>{t=!1}}function $1(e){let t=!0;return queueMicrotask(()=>{t&&e()}),()=>{t=!1}}function U1(...e){}var Xe=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new St(!1),this.onMicrotaskEmpty=new St(!1),this.onStable=new St(!1),this.onError=new St(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,wk(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Q(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,yk,U1,U1);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},yk={};function Tp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bk(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{Ub(()=>{e.callbackScheduled=!1,Bf(e),e.isCheckStableRunning=!0,Tp(e),e.isCheckStableRunning=!1})}),Bf(e))}function wk(e){let t=()=>{bk(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(xk(a))return n.invokeTask(o,s,i,a);try{return z1(e),n.invokeTask(o,s,i,a)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),H1(e)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return z1(e),n.invoke(o,s,i,a,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Ek(a)&&t(),H1(e)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Bf(e),Tp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Bf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function z1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function H1(e){e._nesting--,Tp(e)}var Vf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new St,this.onMicrotaskEmpty=new St,this.onStable=new St,this.onError=new St}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function xk(e){return zb(e,"__ignore_ng_zone__")}function Ek(e){return zb(e,"__scheduler_tick__")}function zb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Hb=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function $f(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(t!==null)for(let i=0;i<t.length;i++){let a=t[i];if(typeof a=="number")s=a;else if(s==1)o=v1(o,a);else if(s==2){let c=a,l=t[++i];r=v1(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}var vl=class extends fs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Ur(t);return new Ti(n,this.ngModule)}};function G1(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function Dk(e){let t=e.toLowerCase();return t==="svg"?pT:t==="math"?gT:null}var Ti=class extends ml{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=G1(t.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return G1(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=W_(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let s=ye(null);try{o=o||this.ngModule;let i=o instanceof en?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let a=i?new Cf(t,i):t,c=a.get(ps,null);if(c===null)throw new Q(407,!1);let l=a.get(vk,null),d=a.get(Hb,null),u=a.get(_i,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?IM(f,r,this.componentDef.encapsulation,a):ub(f,p,Dk(p)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let m=null;v!==null&&(m=gp(v,a,!0));let w=Dp(0,null,null,1,0,null,null,null,null,null,null),y=kl(null,w,null,g,null,null,h,f,a,null,m);op(y);let S,E;try{let D=this.componentDef,C,T=null;D.findHostDirectiveDefs?(C=[],T=new Map,D.findHostDirectiveDefs(D,C,T),C.push(D)):C=[D];let A=Sk(y,v),M=Ck(A,v,D,C,y,h,f);E=_y(w,Ln),v&&Mk(f,D,v,r),n!==void 0&&kk(E,this.ngContentSelectors,n),S=Tk(M,D,C,T,y,[Ik]),Sp(w,y,null)}finally{sp()}return new Uf(this.componentType,S,up(E,y),y,E)}finally{ye(s)}}},Uf=class extends Ff{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hs(o,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView;Rb(s[le],s,o,t,n),this.previousInputValues.set(t,n);let i=Zr(this._tNode.index,s);Cp(i,1)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Sk(e,t){let n=e[le],r=Ln;return e[r]=t,Il(n,r,2,"#host",null)}function Ck(e,t,n,r,o,s,i){let a=o[le];_k(r,e,t,i);let c=null;t!==null&&(c=gp(t,o[ls]));let l=s.rendererFactory.createRenderer(t,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let u=kl(o,_b(n),null,d,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&Af(a,e,r.length-1),Ol(o,u),o[e.index]=u}function _k(e,t,n,r){for(let o of e)t.mergedAttrs=Xf(t.mergedAttrs,o.hostAttrs);t.mergedAttrs!==null&&($f(t,t.mergedAttrs,!0),n!==null&&vb(r,n,t))}function Tk(e,t,n,r,o,s){let i=yn(),a=o[le],c=Pn(i,o);Mb(a,o,i,n,null,r);for(let d=0;d<n.length;d++){let u=i.directiveStart+d,h=Ci(o,a,u,i);Wr(h,o)}kb(a,o,i),c&&Wr(c,o);let l=Ci(o,a,i.directiveStart+i.componentOffset,i);if(e[Rn]=o[Rn]=l,s!==null)for(let d of s)d(l,t);return Db(a,i,o),l}function Mk(e,t,n,r){if(r)mf(e,n,["ng-version","18.0.4"]);else{let{attrs:o,classes:s}=Z_(t.selectors[0]);o&&mf(e,n,o),s&&s.length>0&&mb(e,n,s.join(" "))}}function kk(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let s=n[o];r.push(s!=null?Array.from(s):null)}}function Ik(){let e=yn();cp(mt()[le],e)}var Rl=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Ok;let e=t;return e})();function Ok(){let e=yn();return Rk(e,mt())}var Ak=Rl,Gb=class extends Ak{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return up(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let t=lp(this._hostTNode,this._hostLView);if(Hy(t)){let n=hl(t,this._hostLView),r=ul(t),o=n[le].data[r+8];return new $r(o,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=q1(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(t,n,r){let o,s;typeof r=="number"?o=r:r!=null&&(o=r.index,s=r.injector);let i=Pf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},s,i);return this.insertImpl(a,o,Nf(this._hostTNode,i)),a}createComponent(t,n,r,o,s){let i=t&&!dT(t),a;if(i)a=n;else{let p=n||{};a=p.index,r=p.injector,o=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=i?t:new Ti(Ur(t)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(i?l:this.parentInjector).get(en,null);v&&(s=v)}let d=Ur(c.componentType??{}),u=Pf(this._lContainer,d?.id??null),h=u?.firstChild??null,f=c.create(l,o,h,s);return this.insertImpl(f.hostView,a,Nf(this._hostTNode,u)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(mT(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[Ct],l=new Gb(c,c[vn],c[Ct]);l.detach(l.indexOf(t))}}let s=this._adjustIndex(n),i=this._lContainer;return Nb(i,o,s,r),t.attachToViewContainerRef(),sy(uf(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=q1(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=fl(this._lContainer,n);r&&(rl(uf(this._lContainer),n),yp(r[le],r))}detach(t){let n=this._adjustIndex(t,-1),r=fl(this._lContainer,n);return r&&rl(uf(this._lContainer),n)!=null?new hs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function q1(e){return e[al]}function uf(e){return e[al]||(e[al]=[])}function Rk(e,t){let n,r=t[e.index];return er(r)?n=r:(n=Ib(r,t,null,e),t[e.index]=n,Ol(t,n)),Lk(n,t,e,r),new Gb(n,e,t)}function Nk(e,t){let n=e[Ut],r=n.createComment(""),o=Pn(t,e),s=bp(n,o);return pl(n,s,r,bM(n,o),!1),r}var Lk=jk,Pk=()=>!1;function Fk(e,t,n){return Pk(e,t,n)}function jk(e,t,n,r){if(e[zr])return;let o;n.type&8?o=Xn(r):o=Nk(t,n),e[zr]=o}var xr=class{},Mi=class{};var zf=class extends xr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vl(this);let o=fy(t);this._bootstrapComponents=db(o.bootstrap),this._r3Injector=eb(t,n,[{provide:xr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver},...r],Vt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Hf=class extends Mi{constructor(t){super(),this.moduleType=t}create(t){return new zf(this.moduleType,t,[])}};var yl=class extends xr{constructor(t){super(),this.componentFactoryResolver=new vl(this),this.instance=null;let n=new xi([...t.providers,{provide:xr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver}],t.parent||ep(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Mp(e,t,n=null){return new yl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Bk(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Vk(e){return(e.flags&32)===32}function $k(e,t,n,r,o,s,i,a,c){let l=t.consts,d=Il(t,e,4,i||null,a||null);Tb(t,n,d,dl(l,c)),cp(t,d);let u=d.tView=Dp(2,d,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}function Uk(e,t,n,r,o,s,i,a,c,l){let d=n+Ln,u=t.firstCreatePass?$k(d,t,e,r,o,s,i,a,c):t.data[d];Oi(u,!1);let h=zk(t,e,u,n);ip()&&wp(t,e,h,u),Wr(h,e);let f=Ib(h,e,h,u);return e[d]=f,Ol(e,f),Fk(f,u,e),np(u)&&Sb(t,e,u),c!=null&&Cb(e,u,l),u}function kp(e,t,n,r,o,s,i,a){let c=mt(),l=ms(),d=dl(l.consts,s);return Uk(c,l,e,t,n,r,o,d,i,a),kp}var zk=Hk;function Hk(e,t,n,r){return ap(!0),t[Ut].createComment("")}function W1(e,t,n,r,o){let s=t.inputs,i=o?"class":"style";Rb(e,n,s[i],i,r)}function qb(e,t){Al("NgControlFlow");let n=mt(),r=TT(),o=n[r]!==Ep?n[r]:-1,s=o!==-1?Z1(n,Ln+o):void 0,i=0;if(Bk(n,r,e)){let a=ye(null);try{if(s!==void 0&&ek(s,i),e!==-1){let c=Ln+e,l=Z1(n,c),d=Gk(n[le],c),u=Pf(l,d.tView.ssrId),h=QM(n,d,t,{dehydratedView:u});Nb(l,h,i,Nf(d,u))}}finally{ye(a)}}else if(s!==void 0){let a=JM(s,i);a!==void 0&&(a[Rn]=t)}}function Z1(e,t){return e[t]}function Gk(e,t){return _y(e,t)}function qk(e,t,n,r,o,s){let i=t.consts,a=dl(i,o),c=Il(t,e,2,r,a);return Tb(t,n,c,dl(i,s)),c.attrs!==null&&$f(c,c.attrs,!1),c.mergedAttrs!==null&&$f(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Xr(e,t,n,r){let o=mt(),s=ms(),i=Ln+e,a=o[Ut],c=s.firstCreatePass?qk(i,s,o,t,n,r):s.data[i],l=Wk(s,o,c,a,t,e);o[i]=l;let d=np(c);return Oi(c,!0),vb(a,l,c),!Vk(c)&&ip()&&wp(s,o,l,c),yT()===0&&Wr(l,o),bT(),d&&(Sb(s,o,c),Db(s,c,o)),r!==null&&Cb(o,c),Xr}function Kr(){let e=yn();Ry()?CT():(e=e.parent,Oi(e,!1));let t=e;ET(t)&&DT(),wT();let n=ms();return n.firstCreatePass&&(cp(n,e),xy(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&PT(t)&&W1(n,t,mt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&FT(t)&&W1(n,t,mt(),t.stylesWithoutHost,!1),Kr}function Qr(e,t,n,r){return Xr(e,t,n,r),Kr(),Qr}var Wk=(e,t,n,r,o,s)=>(ap(!0),ub(r,o,AT()));var bl="en-US";var Zk=bl;function Yk(e){typeof e=="string"&&(Zk=e.toLowerCase().replace(/_/g,"-"))}var Xk=(e,t,n)=>{};function Nl(e,t,n,r){let o=mt(),s=ms(),i=yn();return Qk(s,o,o[Ut],i,e,t,r),Nl}function Kk(e,t,n,r){let o=e.cleanup;if(o!=null)for(let s=0;s<o.length-1;s+=2){let i=o[s];if(i===n&&o[s+1]===r){let a=t[il],c=o[s+2];return a.length>c?a[c]:null}typeof i=="string"&&(s+=2)}return null}function Qk(e,t,n,r,o,s,i){let a=np(r),l=e.firstCreatePass&&ZM(e),d=t[Rn],u=WM(t),h=!0;if(r.type&3||i){let v=Pn(r,t),g=i?i(v):v,m=u.length,w=i?S=>i(Xn(S[r.index])):r.index,y=null;if(!i&&a&&(y=Kk(e,t,o,r.index)),y!==null){let S=y.__ngLastListenerFn__||y;S.__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,h=!1}else{s=X1(r,t,d,s),Xk(v,o,s);let S=n.listen(g,o,s);u.push(s,S),l&&l.push(o,w,m,m+1)}}else s=X1(r,t,d,s);let f=r.outputs,p;if(h&&f!==null&&(p=f[o])){let v=p.length;if(v)for(let g=0;g<v;g+=2){let m=p[g],w=p[g+1],E=t[m][w].subscribe(s),D=u.length;u.push(s,E),l&&l.push(o,r.index,D,-(D+1))}}}function Y1(e,t,n,r){let o=ye(null);try{return In(6,t,n),n(r)!==!1}catch(s){return Ab(e,s),!1}finally{In(7,t,n),ye(o)}}function X1(e,t,n,r){return function o(s){if(s===Function)return r;let i=e.componentOffset>-1?Zr(e.index,t):t;Cp(i,5);let a=Y1(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)a=Y1(t,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Ni(e,t=""){let n=mt(),r=ms(),o=e+Ln,s=r.firstCreatePass?Il(r,o,1,t,null):r.data[o],i=Jk(r,n,s,t,e);n[o]=i,ip()&&wp(r,n,i,s),Oi(s,!1)}var Jk=(e,t,n,r,o)=>(ap(!0),lM(t[Ut],r));var eI=(()=>{let t=class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=my(!1,r.type),s=o.length>0?Mp([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t(fe(en))});let e=t;return e})();function bs(e){Al("NgStandalone"),e.getStandaloneInjector=t=>t.get(eI).getOrCreateStandaloneInjector(e)}var Ll=(()=>{let t=class t{log(r){console.log(r)}warn(r){console.warn(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var Wb=new ae("");function Li(e){return!!e&&typeof e.then=="function"}function Zb(e){return!!e&&typeof e.subscribe=="function"}var Yb=new ae(""),Xb=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=j(Yb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let i=s();if(Li(i))r.push(i);else if(Zb(i)){let a=new Promise((c,l)=>{i.subscribe({complete:c,error:l})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(s=>{this.reject(s)}),r.length===0&&o(),this.initialized=!0}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ip=new ae("");function tI(){V0(()=>{throw new Q(600,!1)})}function nI(e){return e.isBoundToModule}var rI=10;function oI(e,t,n){try{let r=n();return Li(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var ws=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(tb),this.afterRenderEffectManager=j(Hb),this.zonelessEnabled=j(_p),this.externalTestViews=new Set,this.beforeRender=new Dt,this.afterTick=new Dt,this.componentTypes=[],this.components=[],this.isStable=j(vs).hasPendingTasks.pipe(he(r=>!r)),this._injector=j(en)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let s=r instanceof ml;if(!this._injector.get(Xb).done){let f=!s&&hy(r),p=!1;throw new Q(405,p)}let a;s?a=r:a=this._injector.get(fs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=nI(a)?void 0:this._injector.get(xr),l=o||a.selector,d=a.create(qr.NULL,[],l,c),u=d.location.nativeElement,h=d.injector.get(Wb,null);return h?.registerApplication(u),d.onDestroy(()=>{this.detachView(d.hostView),hf(this.components,d),h?.unregisterApplication(u)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let o=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ye(o),this.afterTick.next()}}detectChangesInAttachedViews(r){let o=null;this._injector.destroyed||(o=this._injector.get(ps,null,{optional:!0}));let s=0,i=this.afterRenderEffectManager;for(;s<rI;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)sI(c,l,a,this.zonelessEnabled)}else o?.begin?.(),o?.end?.();if(s++,i.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>Di(c))&&(i.execute(),!this.allViews.some(({_lView:c})=>Di(c))))break}}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;hf(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(Ip,[]);[...this._bootstrapListeners,...o].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>hf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function hf(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function sI(e,t,n,r){if(!n&&!Di(e))return;Fb(e,t,n&&!r?0:1)}var Gf=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Op=(()=>{let t=class t{compileModuleSync(r){return new Hf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),s=fy(r),i=db(s.declarations).reduce((a,c)=>{let l=Ur(c);return l&&a.push(new Ti(l)),a},[]);return new Gf(o,i)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var iI=(()=>{let t=class t{constructor(){this.zone=j(Xe),this.changeDetectionScheduler=j(_i),this.applicationRef=j(ws)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),aI=new ae("",{factory:()=>!1});function Kb({ngZoneFactory:e,ignoreChangesOutsideZone:t}){return e??=()=>new Xe(Jb()),[{provide:Xe,useFactory:e},{provide:as,multi:!0,useFactory:()=>{let n=j(iI,{optional:!0});return()=>n.initialize()}},{provide:as,multi:!0,useFactory:()=>{let n=j(lI);return()=>{n.initialize()}}},{provide:tb,useFactory:cI},t===!0?{provide:$b,useValue:!0}:[]]}function cI(){let e=j(Xe),t=j(Kn);return n=>e.runOutsideAngular(()=>t.handleError(n))}function Qb(e){let t=e?.ignoreChangesOutsideZone,n=Kb({ngZoneFactory:()=>{let r=Jb(e);return r.shouldCoalesceEventChangeDetection&&Al("NgZone_CoalesceEvent"),new Xe(r)},ignoreChangesOutsideZone:t});return El([{provide:aI,useValue:!0},{provide:_p,useValue:!1},n])}function Jb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var lI=(()=>{let t=class t{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=j(Xe),this.pendingTasks=j(vs)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dI=(()=>{let t=class t{constructor(){this.appRef=j(ws),this.taskService=j(vs),this.ngZone=j(Xe),this.zonelessEnabled=j(_p),this.disableScheduling=j($b,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Vf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?$1:Ub;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=o(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=o(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Xe.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(o),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function uI(){return typeof $localize<"u"&&$localize.locale||bl}var Ap=new ae("",{providedIn:"root",factory:()=>j(Ap,ie.Optional|ie.SkipSelf)||uI()});var ew=new ae("");var el=null;function hI(e=[],t){return qr.create({name:t,providers:[{provide:Dl,useValue:"platform"},{provide:ew,useValue:new Set([()=>el=null])},...e]})}function fI(e=[]){if(el)return el;let t=hI(e);return el=t,tI(),pI(t),t}function pI(e){e.get(fp,null)?.forEach(n=>n())}var Pi=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=gI;let e=t;return e})();function gI(e){return mI(yn(),mt(),(e&16)===16)}function mI(e,t,n){if(tp(e)&&!n){let r=Zr(e.index,t);return new hs(r,r)}else if(e.type&47){let r=t[Nn];return new hs(r,t)}return null}function tw(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=fI(r),s=[Kb({}),{provide:_i,useExisting:dI},...n||[]],a=new yl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Xe);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Kn,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:f=>{l.handleError(f)}})});let u=()=>a.destroy(),h=o.get(ew);return h.add(u),a.onDestroy(()=>{d.unsubscribe(),h.delete(u)}),oI(l,c,()=>{let f=a.get(Xb);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(Ap,bl);Yk(p||bl);let v=a.get(ws);return t!==void 0&&v.bootstrap(t),v})})})}catch(t){return Promise.reject(t)}}var aw=null;function xs(){return aw}function cw(e){aw??=e}var Pl=class{};var tn=new ae(""),lw=(()=>{let t=class t{historyGo(r){throw new Error("")}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>j(xI),providedIn:"platform"});let e=t;return e})();var xI=(()=>{let t=class t extends lw{constructor(){super(),this._doc=j(tn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xs().getBaseHref(this._doc)}onPopState(r){let o=xs().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){let o=xs().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,s){this._history.pushState(r,o,s)}replaceState(r,o,s){this._history.replaceState(r,o,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function dw(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function nw(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Jr(e){return e&&e[0]!=="?"?"?"+e:e}var jl=(()=>{let t=class t{historyGo(r){throw new Error("")}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>j(uw),providedIn:"root"});let e=t;return e})(),EI=new ae(""),uw=(()=>{let t=class t extends jl{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??j(tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return dw(this._baseHref,r)}path(r=!1){let o=this._platformLocation.pathname+Jr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${o}${s}`:o}pushState(r,o,s,i){let a=this.prepareExternalUrl(s+Jr(i));this._platformLocation.pushState(r,o,a)}replaceState(r,o,s,i){let a=this.prepareExternalUrl(s+Jr(i));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};t.\u0275fac=function(o){return new(o||t)(fe(lw),fe(EI,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ji=(()=>{let t=class t{constructor(r){this._subject=new St,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let o=this._locationStrategy.getBaseHref();this._basePath=CI(nw(rw(o))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Jr(o))}normalize(r){return t.stripTrailingSlash(SI(this._basePath,rw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",s=null){this._locationStrategy.pushState(s,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jr(o)),s)}replaceState(r,o="",s=null){this._locationStrategy.replaceState(s,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jr(o)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(s=>s(r,o))}subscribe(r,o,s){return this._subject.subscribe({next:r,error:o,complete:s})}};t.normalizeQueryParams=Jr,t.joinWithSlash=dw,t.stripTrailingSlash=nw,t.\u0275fac=function(o){return new(o||t)(fe(jl))},t.\u0275prov=oe({token:t,factory:()=>DI(),providedIn:"root"});let e=t;return e})();function DI(){return new ji(fe(jl))}function SI(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function rw(e){return e.replace(/\/index.html$/,"")}function CI(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function hw(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}var fw="browser",_I="server";function Np(e){return e===_I}var Fl=class{};var Fp=class extends Pl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jp=class e extends Fp{static makeCurrent(){cw(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=MI();return n==null?null:kI(n)}resetBaseElement(){Bi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hw(document.cookie,t)}},Bi=null;function MI(){return Bi=Bi||document.querySelector("base"),Bi?Bi.getAttribute("href"):null}function kI(e){return new URL(e,document.baseURI).pathname}var II=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac});let e=t;return e})(),Bp=new ae(""),vw=(()=>{let t=class t{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,s){return this._findPluginFor(o).addEventListener(r,o,s)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(i=>i.supports(r)),!o)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,o),o}};t.\u0275fac=function(o){return new(o||t)(fe(Bp),fe(Xe))},t.\u0275prov=oe({token:t,factory:t.\u0275fac});let e=t;return e})(),Bl=class{constructor(t){this._doc=t}},Lp="ng-app-id",yw=(()=>{let t=class t{constructor(r,o,s,i={}){this.doc=r,this.appId=o,this.nonce=s,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Np(i),this.resetHostNodes()}addStyles(r){for(let o of r)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(r){for(let o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){let o=this.styleRef;o.get(r)?.elements?.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Lp}="${this.appId}"]`);if(r?.length){let o=new Map;return r.forEach(s=>{s.textContent!=null&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,o){let s=this.styleRef;if(s.has(r)){let i=s.get(r);return i.usage+=o,i.usage}return s.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){let s=this.styleNodesInDOM,i=s?.get(o);if(i?.parentNode===r)return s.delete(o),i.removeAttribute(Lp),i;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Lp,this.appId),r.appendChild(a),a}}addStyleToHost(r,o){let s=this.getStyleElement(r,o),i=this.styleRef,a=i.get(o)?.elements;a?a.push(s):i.set(o,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};t.\u0275fac=function(o){return new(o||t)(fe(tn),fe(hp),fe(pp,8),fe(ys))},t.\u0275prov=oe({token:t,factory:t.\u0275fac});let e=t;return e})(),Pp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$p=/%COMP%/g,bw="%COMP%",OI=`_nghost-${bw}`,AI=`_ngcontent-${bw}`,RI=!0,NI=new ae("",{providedIn:"root",factory:()=>RI});function LI(e){return AI.replace($p,e)}function PI(e){return OI.replace($p,e)}function ww(e,t){return t.map(n=>n.replace($p,e))}var pw=(()=>{let t=class t{constructor(r,o,s,i,a,c,l,d=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Np(c),this.defaultRenderer=new Vi(r,a,l,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===An.ShadowDom&&(o=$e(z({},o),{encapsulation:An.Emulated}));let s=this.getOrCreateRenderer(r,o);return s instanceof Vl?s.applyToHost(r):s instanceof $i&&s.applyStyles(),s}getOrCreateRenderer(r,o){let s=this.rendererByCompId,i=s.get(o.id);if(!i){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(o.encapsulation){case An.Emulated:i=new Vl(l,d,o,this.appId,u,a,c,h);break;case An.ShadowDom:return new Vp(l,d,r,o,a,c,this.nonce,h);default:i=new $i(l,d,o,u,a,c,h);break}s.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(o){return new(o||t)(fe(vw),fe(yw),fe(hp),fe(NI),fe(tn),fe(ys),fe(Xe),fe(pp))},t.\u0275prov=oe({token:t,factory:t.\u0275fac});let e=t;return e})(),Vi=class{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Pp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(gw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(gw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let s=Pp[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Pp[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Yr.DashCase|Yr.Important)?t.style.setProperty(n,r,o&Yr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Yr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=xs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function gw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Vp=class extends Vi{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ww(o.id,o.styles);for(let d of l){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$i=class extends Vi{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?ww(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vl=class extends $i{constructor(t,n,r,o,s,i,a,c){let l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=LI(l),this.hostAttr=PI(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},FI=(()=>{let t=class t extends Bl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,s){return r.addEventListener(o,s,!1),()=>this.removeEventListener(r,o,s)}removeEventListener(r,o,s){return r.removeEventListener(o,s)}};t.\u0275fac=function(o){return new(o||t)(fe(tn))},t.\u0275prov=oe({token:t,factory:t.\u0275fac});let e=t;return e})(),mw=["alt","control","meta","shift"],jI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},VI=(()=>{let t=class t extends Bl{constructor(r){super(r)}supports(r){return t.parseEventName(r)!=null}addEventListener(r,o,s){let i=t.parseEventName(o),a=t.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xs().onAndCancel(r,i.domEventName,a))}static parseEventName(r){let o=r.toLowerCase().split("."),s=o.shift();if(o.length===0||!(s==="keydown"||s==="keyup"))return null;let i=t._normalizeKey(o.pop()),a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),mw.forEach(d=>{let u=o.indexOf(d);u>-1&&(o.splice(u,1),a+=d+".")}),a+=i,o.length!=0||i.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,o){let s=jI[r.key]||r.key,i="";return o.indexOf("code.")>-1&&(s=r.code,i="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),mw.forEach(a=>{if(a!==s){let c=BI[a];c(r)&&(i+=a+".")}}),i+=s,i===o)}static eventCallback(r,o,s){return i=>{t.matchEventFullKeyCode(i,r)&&s.runGuarded(()=>o(i))}}static _normalizeKey(r){return r==="esc"?"escape":r}};t.\u0275fac=function(o){return new(o||t)(fe(tn))},t.\u0275prov=oe({token:t,factory:t.\u0275fac});let e=t;return e})();function xw(e,t){return tw(z({rootComponent:e},$I(t)))}function $I(e){return{appProviders:[...qI,...e?.providers??[]],platformProviders:GI}}function UI(){jp.makeCurrent()}function zI(){return new Kn}function HI(){return cb(document),document}var GI=[{provide:ys,useValue:fw},{provide:fp,useValue:UI,multi:!0},{provide:tn,useFactory:HI,deps:[]}];var qI=[{provide:Dl,useValue:"root"},{provide:Kn,useFactory:zI,deps:[]},{provide:Bp,useClass:FI,multi:!0,deps:[tn,Xe,ys]},{provide:Bp,useClass:VI,multi:!0,deps:[tn]},pw,yw,vw,{provide:ps,useExisting:pw},{provide:Fl,useClass:II,deps:[]},[]];var Ew=(()=>{let t=class t{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};t.\u0275fac=function(o){return new(o||t)(fe(tn))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var se="primary",oa=Symbol("RouteTitle"),qp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ts(e){return new qp(e)}function ZI(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let s=0;s<r.length;s++){let i=r[s],a=e[s];if(i[0]===":")o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function YI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Fn(e[n],t[n]))return!1;return!0}function Fn(e,t){let n=e?Wp(e):void 0,r=t?Wp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!Iw(e[o],t[o]))return!1;return!0}function Wp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Iw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,s)=>r[s]===o)}else return e===t}function Ow(e){return e.length>0?e[e.length-1]:null}function Dr(e){return Yh(e)?e:Li(e)?tt(Promise.resolve(e)):re(e)}var XI={exact:Rw,subset:Nw},Aw={exact:KI,subset:QI,ignored:()=>!0};function Dw(e,t,n){return XI[n.paths](e.root,t.root,n.matrixParams)&&Aw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function KI(e,t){return Fn(e,t)}function Rw(e,t,n){if(!to(e.segments,t.segments)||!zl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Rw(e.children[r],t.children[r],n))return!1;return!0}function QI(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Iw(e[n],t[n]))}function Nw(e,t,n){return Lw(e,t,t.segments,n)}function Lw(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!to(o,n)||t.hasChildren()||!zl(o,n,r))}else if(e.segments.length===n.length){if(!to(e.segments,n)||!zl(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!Nw(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!to(e.segments,o)||!zl(e.segments,o,r)||!e.children[se]?!1:Lw(e.children[se],t,s,r)}}function zl(e,t,n){return t.every((r,o)=>Aw[n](e[o].parameters,r.parameters))}var Er=class{constructor(t=new ke([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return tO.serialize(this)}},ke=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hl(this)}},eo=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return Fw(this)}};function JI(e,t){return to(e,t)&&e.every((n,r)=>Fn(n.parameters,t[r].parameters))}function to(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function eO(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===se&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==se&&(n=n.concat(t(o,r)))}),n}var bg=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>new Zi,providedIn:"root"});let e=t;return e})(),Zi=class{parse(t){let n=new Yp(t);return new Er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ui(t.root,!0)}`,r=oO(t.queryParams),o=typeof t.fragment=="string"?`#${nO(t.fragment)}`:"";return`${n}${r}${o}`}},tO=new Zi;function Hl(e){return e.segments.map(t=>Fw(t)).join("/")}function Ui(e,t){if(!e.hasChildren())return Hl(e);if(t){let n=e.children[se]?Ui(e.children[se],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==se&&r.push(`${o}:${Ui(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=eO(e,(r,o)=>o===se?[Ui(e.children[se],!1)]:[`${o}:${Ui(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[se]!=null?`${Hl(e)}/${n[0]}`:`${Hl(e)}/(${n.join("//")})`}}function Pw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $l(e){return Pw(e).replace(/%3B/gi,";")}function nO(e){return encodeURI(e)}function Zp(e){return Pw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gl(e){return decodeURIComponent(e)}function Sw(e){return Gl(e.replace(/\+/g,"%20"))}function Fw(e){return`${Zp(e.path)}${rO(e.parameters)}`}function rO(e){return Object.entries(e).map(([t,n])=>`;${Zp(t)}=${Zp(n)}`).join("")}function oO(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${$l(n)}=${$l(o)}`).join("&"):`${$l(n)}=${$l(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var sO=/^[^\/()?;#]+/;function Up(e){let t=e.match(sO);return t?t[0]:""}var iO=/^[^\/()?;=#]+/;function aO(e){let t=e.match(iO);return t?t[0]:""}var cO=/^[^=?&#]+/;function lO(e){let t=e.match(cO);return t?t[0]:""}var dO=/^[^&#]+/;function uO(e){let t=e.match(dO);return t?t[0]:""}var Yp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[se]=new ke(t,n)),r}parseSegment(){let t=Up(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(t),new eo(Gl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=aO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Up(this.remaining);o&&(r=o,this.capture(r))}t[Gl(n)]=Gl(r)}parseQueryParam(t){let n=lO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=uO(this.remaining);i&&(r=i,this.capture(r))}let o=Sw(n),s=Sw(r);if(t.hasOwnProperty(o)){let i=t[o];Array.isArray(i)||(i=[i],t[o]=i),i.push(s)}else t[o]=s}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Up(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=se);let i=this.parseChildren();n[s]=Object.keys(i).length===1?i[se]:new ke([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Q(4011,!1)}};function jw(e){return e.segments.length>0?new ke([],{[se]:e}):e}function Bw(e){let t={};for(let[r,o]of Object.entries(e.children)){let s=Bw(o);if(r===se&&s.segments.length===0&&s.hasChildren())for(let[i,a]of Object.entries(s.children))t[i]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let n=new ke(e.segments,t);return hO(n)}function hO(e){if(e.numberOfChildren===1&&e.children[se]){let t=e.children[se];return new ke(e.segments.concat(t.segments),t.children)}return e}function Yi(e){return e instanceof Er}function fO(e,t,n=null,r=null){let o=Vw(e);return $w(o,t,n,r)}function Vw(e){let t;function n(s){let i={};for(let c of s.children){let l=n(c);i[c.outlet]=l}let a=new ke(s.url,i);return s===e&&(t=a),a}let r=n(e.root),o=jw(r);return t??o}function $w(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return zp(o,o,o,n,r);let s=pO(t);if(s.toRoot())return zp(o,o,new ke([],{}),n,r);let i=gO(s,o,e),a=i.processChildren?Gi(i.segmentGroup,i.index,s.commands):zw(i.segmentGroup,i.index,s.commands);return zp(o,i.segmentGroup,a,n,r)}function ql(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Xi(e){return typeof e=="object"&&e!=null&&e.outlets}function zp(e,t,n,r,o){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let i;e===t?i=n:i=Uw(e,t,n);let a=jw(Bw(i));return new Er(a,s,o)}function Uw(e,t,n){let r={};return Object.entries(e.children).forEach(([o,s])=>{s===t?r[o]=n:r[o]=Uw(s,t,n)}),new ke(e.segments,r)}var Wl=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ql(r[0]))throw new Q(4003,!1);let o=r.find(Xi);if(o&&o!==Ow(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pO(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Wl(!0,0,e);let t=0,n=!1,r=e.reduce((o,s,i)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return typeof s!="string"?[...o,s]:i===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,s]},[]);return new Wl(n,t,r)}var Ss=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function gO(e,t,n){if(e.isAbsolute)return new Ss(t,!0,0);if(!n)return new Ss(t,!1,NaN);if(n.parent===null)return new Ss(n,!0,0);let r=ql(e.commands[0])?0:1,o=n.segments.length-1+r;return mO(n,o,e.numberOfDoubleDots)}function mO(e,t,n){let r=e,o=t,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new Q(4005,!1);o=r.segments.length}return new Ss(r,!1,o-s)}function vO(e){return Xi(e[0])?e[0].outlets:{[se]:e}}function zw(e,t,n){if(e??=new ke([],{}),e.segments.length===0&&e.hasChildren())return Gi(e,t,n);let r=yO(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let s=new ke(e.segments.slice(0,r.pathIndex),{});return s.children[se]=new ke(e.segments.slice(r.pathIndex),e.children),Gi(s,0,o)}else return r.match&&o.length===0?new ke(e.segments,{}):r.match&&!e.hasChildren()?Xp(e,t,n):r.match?Gi(e,0,o):Xp(e,t,n)}function Gi(e,t,n){if(n.length===0)return new ke(e.segments,{});{let r=vO(n),o={};if(Object.keys(r).some(s=>s!==se)&&e.children[se]&&e.numberOfChildren===1&&e.children[se].segments.length===0){let s=Gi(e.children[se],t,n);return new ke(e.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(o[s]=zw(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{r[s]===void 0&&(o[s]=i)}),new ke(e.segments,o)}}function yO(e,t,n){let r=0,o=t,s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return s;let i=e.segments[o],a=n[r];if(Xi(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!_w(c,l,i))return s;r+=2}else{if(!_w(c,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Xp(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let s=n[o];if(Xi(s)){let c=bO(s.outlets);return new ke(r,c)}if(o===0&&ql(n[0])){let c=e.segments[t];r.push(new eo(c.path,Cw(n[0]))),o++;continue}let i=Xi(s)?s.outlets[se]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&ql(a)?(r.push(new eo(i,Cw(a))),o+=2):(r.push(new eo(i,{})),o++)}return new ke(r,{})}function bO(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Xp(new ke([],{}),0,r))}),t}function Cw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function _w(e,t,n){return e==n.path&&Fn(t,n.parameters)}var qi="imperative",ht=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ht||{}),nn=class{constructor(t,n){this.id=t,this.url=n}},Ki=class extends nn{constructor(t,n,r="imperative",o=null){super(t,n),this.type=ht.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},no=class extends nn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ht||{}),Kp=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Kp||{}),tr=class extends nn{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ro=class extends nn{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ht.NavigationSkipped}},Qi=class extends nn{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zl=class extends nn{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class extends nn{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jp=class extends nn{constructor(t,n,r,o,s){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},eg=class extends nn{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends nn{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class{constructor(t){this.route=t,this.type=ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rg=class{constructor(t){this.route=t,this.type=ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},og=class{constructor(t){this.snapshot=t,this.type=ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sg=class{constructor(t){this.snapshot=t,this.type=ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ig=class{constructor(t){this.snapshot=t,this.type=ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ag=class{constructor(t){this.snapshot=t,this.type=ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ji=class{},Ms=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};var cg=class{constructor(t){this.injector=t,this.outlet=null,this.route=null,this.children=new td(this.injector),this.attachRef=null}},td=(()=>{let t=class t{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,o){let s=this.getOrCreateContext(r);s.outlet=o,this.contexts.set(r,s)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new cg(this.parentInjector),this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}};t.\u0275fac=function(o){return new(o||t)(fe(en))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=lg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=lg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=dg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return dg(t,this._root).map(n=>n.value)}};function lg(e,t){if(e===t.value)return t;for(let n of t.children){let r=lg(e,n);if(r)return r}return null}function dg(e,t){if(e===t.value)return[t];for(let n of t.children){let r=dg(e,n);if(r.length)return r.unshift(t),r}return[]}var zt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ds(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Xl=class extends Yl{constructor(t,n){super(t),this.snapshot=n,wg(this,t)}toString(){return this.snapshot.toString()}};function Hw(e){let t=wO(e),n=new dt([new eo("",{})]),r=new dt({}),o=new dt({}),s=new dt({}),i=new dt(""),a=new ks(n,r,s,i,o,se,e,t.root);return a.snapshot=t.root,new Xl(new zt(a,[]),t)}function wO(e){let t={},n={},r={},o="",s=new Cs([],t,r,o,n,se,e,null,{});return new Ql("",new zt(s,[]))}var ks=class{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(he(l=>l[oa]))??re(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(t=>Ts(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(t=>Ts(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kl(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:z(z({},t.params),e.params),data:z(z({},t.data),e.data),resolve:z(z(z(z({},e.data),t.data),o?.data),e._resolvedData)}:r={params:z({},e.params),data:z({},e.data),resolve:z(z({},e.data),e._resolvedData??{})},o&&qw(o)&&(r.resolve[oa]=o.title),r}var Cs=class{get title(){return this.data?.[oa]}constructor(t,n,r,o,s,i,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ql=class extends Yl{constructor(t,n){super(n),this.url=t,wg(this,n)}toString(){return Gw(this._root)}};function wg(e,t){t.value._routerState=e,t.children.forEach(n=>wg(e,n))}function Gw(e){let t=e.children.length>0?` { ${e.children.map(Gw).join(", ")} } `:"";return`${e.value}${t}`}function Hp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Fn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Fn(t.params,n.params)||e.paramsSubject.next(n.params),YI(t.url,n.url)||e.urlSubject.next(n.url),Fn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ug(e,t){let n=Fn(e.params,t.params)&&JI(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||ug(e.parent,t.parent))}function qw(e){return typeof e.title=="string"||e.title===null}var xO=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new St,this.deactivateEvents=new St,this.attachEvents=new St,this.detachEvents=new St,this.parentContexts=j(td),this.location=j(Rl),this.changeDetector=j(Pi),this.inputBinder=j(xg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:s}=r.name;if(o)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new hg(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=Qf({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cl]});let e=t;return e})(),hg=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ks?this.route:t===td?this.childContexts:this.parent.get(t,n)}},xg=new ae("");function EO(e,t,n){let r=ea(e,t._root,n?n._root:void 0);return new Xl(r,t)}function ea(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=DO(e,t,n);return new zt(r,o)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(a=>ea(e,a)),i}}let r=SO(t.value),o=t.children.map(s=>ea(e,s));return new zt(r,o)}}function DO(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ea(e,r,o);return ea(e,r)})}function SO(e){return new ks(new dt(e.url),new dt(e.params),new dt(e.queryParams),new dt(e.fragment),new dt(e.data),e.outlet,e.component,e)}var ta=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Ww="ngNavigationCancelingError";function Jl(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Yi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Zw(!1,Ht.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function Zw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Ww]=!0,n.cancellationCode=t,n}function CO(e){return Yw(e)&&Yi(e.url)}function Yw(e){return!!e&&e[Ww]}var _O=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gs({type:t,selectors:[["ng-component"]],standalone:!0,features:[bs],decls:1,vars:0,template:function(o,s){o&1&&Qr(0,"router-outlet")},dependencies:[xO],encapsulation:2});let e=t;return e})();function TO(e,t){return e.providers&&!e._injector&&(e._injector=Mp(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Eg(e){let t=e.children&&e.children.map(Eg),n=t?$e(z({},e),{children:t}):z({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=_O),n}function bn(e){return e.outlet||se}function MO(e,t){let n=e.filter(r=>bn(r)===t);return n.push(...e.filter(r=>bn(r)!==t)),n}function sa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var kO=(e,t,n,r)=>he(o=>(new fg(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),fg=class{constructor(t,n,r,o,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Hp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Ds(n);t.children.forEach(s=>{let i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){let o=t.value,s=n?n.value:null;if(o===s)if(o.component){let i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Ds(t);for(let i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){let i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Ds(t);for(let i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Ds(n);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new ag(s.value.snapshot))}),t.children.length&&this.forwardEvent(new sg(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,s=n?n.value:null;if(Hp(o),o===s)if(o.component){let i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Hp(a.route.value),this.activateChildRoutes(t,null,i.children)}else{let a=sa(o.snapshot);i.attachRef=null,i.route=o,i.injector=a??i.injector,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,r)}},ed=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},_s=class{constructor(t,n){this.component=t,this.route=n}};function IO(e,t,n){let r=e._root,o=t?t._root:null;return zi(r,o,n,[r.value])}function OO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Os(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!J1(e)?e:t.get(e):r}function zi(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ds(t);return e.children.forEach(i=>{AO(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>Wi(a,n.getContext(i),o)),o}function AO(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){let c=RO(i,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ed(r)):(s.data=i.data,s._resolvedData=i._resolvedData),s.component?zi(e,t,a?a.children:null,r,o):zi(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new _s(a.outlet.component,i))}else i&&Wi(t,a,o),o.canActivateChecks.push(new ed(r)),s.component?zi(e,null,a?a.children:null,r,o):zi(e,null,n,r,o);return o}function RO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!to(e.url,t.url);case"pathParamsOrQueryParamsChange":return!to(e.url,t.url)||!Fn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ug(e,t)||!Fn(e.queryParams,t.queryParams);case"paramsChange":default:return!ug(e,t)}}function Wi(e,t,n){let r=Ds(e),o=e.value;Object.entries(r).forEach(([s,i])=>{o.component?t?Wi(i,t.children.getContext(s),n):Wi(i,null,n):Wi(i,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new _s(t.outlet.component,o)):n.canDeactivateChecks.push(new _s(null,o)):n.canDeactivateChecks.push(new _s(null,o))}function ia(e){return typeof e=="function"}function NO(e){return typeof e=="boolean"}function LO(e){return e&&ia(e.canLoad)}function PO(e){return e&&ia(e.canActivate)}function FO(e){return e&&ia(e.canActivateChild)}function jO(e){return e&&ia(e.canDeactivate)}function BO(e){return e&&ia(e.canMatch)}function Xw(e){return e instanceof Wn||e?.name==="EmptyError"}var Ul=Symbol("INITIAL_VALUE");function Is(){return Bt(e=>Wc(e.map(t=>t.pipe(Zn(1),tf(Ul)))).pipe(he(t=>{for(let n of t)if(n!==!0){if(n===Ul)return Ul;if(n===!1||VO(n))return n}return!0}),pn(t=>t!==Ul),Zn(1)))}function VO(e){return Yi(e)||e instanceof ta}function $O(e,t){return nt(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return i.length===0&&s.length===0?re($e(z({},n),{guardsResult:!0})):UO(i,r,o,e).pipe(nt(a=>a&&NO(a)?zO(r,s,e,t):re(a)),he(a=>$e(z({},n),{guardsResult:a})))})}function UO(e,t,n,r){return tt(e).pipe(nt(o=>ZO(o.component,o.route,n,t,r)),kn(o=>o!==!0,!0))}function zO(e,t,n,r){return tt(t).pipe(Qo(o=>Ko(GO(o.route.parent,r),HO(o.route,r),WO(e,o.path,n),qO(e,o.route,n))),kn(o=>o!==!0,!0))}function HO(e,t){return e!==null&&t&&t(new ig(e)),re(!0)}function GO(e,t){return e!==null&&t&&t(new og(e)),re(!0)}function qO(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let o=r.map(s=>Zc(()=>{let i=sa(t)??n,a=Os(s,i),c=PO(a)?a.canActivate(t,e):Qn(i,()=>a(t,e));return Dr(c).pipe(kn())}));return re(o).pipe(Is())}function WO(e,t,n){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>OO(i)).filter(i=>i!==null).map(i=>Zc(()=>{let a=i.guards.map(c=>{let l=sa(i.node)??n,d=Os(c,l),u=FO(d)?d.canActivateChild(r,e):Qn(l,()=>d(r,e));return Dr(u).pipe(kn())});return re(a).pipe(Is())}));return re(s).pipe(Is())}function ZO(e,t,n,r,o){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return re(!0);let i=s.map(a=>{let c=sa(t)??o,l=Os(a,c),d=jO(l)?l.canDeactivate(e,t,n,r):Qn(c,()=>l(e,t,n,r));return Dr(d).pipe(kn())});return re(i).pipe(Is())}function YO(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return re(!0);let s=o.map(i=>{let a=Os(i,e),c=LO(a)?a.canLoad(t,n):Qn(e,()=>a(t,n));return Dr(c)});return re(s).pipe(Is(),Kw(r))}function Kw(e){return zh(ut(t=>{if(typeof t!="boolean")throw Jl(e,t)}),he(t=>t===!0))}function XO(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return re(!0);let s=o.map(i=>{let a=Os(i,e),c=BO(a)?a.canMatch(t,n):Qn(e,()=>a(t,n));return Dr(c)});return re(s).pipe(Is(),Kw(r))}var na=class{constructor(t){this.segmentGroup=t||null}},ra=class extends Error{constructor(t){super(),this.urlTree=t}};function Es(e){return Xo(new na(e))}function KO(e){return Xo(new Q(4e3,!1))}function QO(e){return Xo(Zw(!1,Ht.GuardRejected))}var pg=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return re(r);if(o.numberOfChildren>1||!o.children[se])return KO(`${t.redirectTo}`);o=o.children[se]}}applyRedirectCommands(t,n,r,o,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:d,url:u,outlet:h,params:f,data:p,title:v}=o,g=Qn(s,()=>a({params:f,data:p,queryParams:c,fragment:l,routeConfig:d,url:u,outlet:h,title:v}));if(g instanceof Er)throw new ra(g);n=g}let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ra(i);return i}applyRedirectCreateUrlTree(t,n,r,o){let s=this.createSegmentGroup(t,n.root,r,o);return new Er(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(t,n,r,o){let s=this.createSegments(t,n.segments,r,o),i={};return Object.entries(n.children).forEach(([a,c])=>{i[a]=this.createSegmentGroup(t,c,r,o)}),new ke(s,i)}createSegments(t,n,r,o){return n.map(s=>s.path[0]===":"?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new Q(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},gg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JO(e,t,n,r,o){let s=Dg(e,t,n);return s.matched?(r=TO(t,r),XO(r,t,n,o).pipe(he(i=>i===!0?s:z({},gg)))):re(s)}function Dg(e,t,n){if(t.path==="**")return eA(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?z({},gg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||ZI)(n,e,t);if(!o)return z({},gg);let s={};Object.entries(o.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let i=o.consumed.length>0?z(z({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function eA(e){return{matched:!0,parameters:e.length>0?Ow(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Tw(e,t,n,r){return n.length>0&&rA(e,n,r)?{segmentGroup:new ke(t,nA(r,new ke(n,e.children))),slicedSegments:[]}:n.length===0&&oA(e,n,r)?{segmentGroup:new ke(e.segments,tA(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ke(e.segments,e.children),slicedSegments:n}}function tA(e,t,n,r){let o={};for(let s of n)if(nd(e,t,s)&&!r[bn(s)]){let i=new ke([],{});o[bn(s)]=i}return z(z({},r),o)}function nA(e,t){let n={};n[se]=t;for(let r of e)if(r.path===""&&bn(r)!==se){let o=new ke([],{});n[bn(r)]=o}return n}function rA(e,t,n){return n.some(r=>nd(e,t,r)&&bn(r)!==se)}function oA(e,t,n){return n.some(r=>nd(e,t,r))}function nd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sA(e,t,n,r){return bn(e)!==r&&(r===se||!nd(t,n,e))?!1:Dg(t,e,n).matched}function iA(e,t,n){return t.length===0&&!e.children[n]}var mg=class{};function aA(e,t,n,r,o,s,i="emptyOnly"){return new vg(e,t,n,r,o,i,s).recognize()}var cA=31,vg=class{constructor(t,n,r,o,s,i,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new pg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Q(4002,`'${t.segmentGroup}'`)}recognize(){let t=Tw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(he(({children:n,rootSnapshot:r})=>{let o=new zt(r,n),s=new Ql("",o),i=fO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),{state:s,tree:i}}))}match(t){let n=new Cs([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,se,n).pipe(he(r=>({children:r,rootSnapshot:n})),mr(r=>{if(r instanceof ra)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof na?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,s):this.processSegment(t,n,r,r.segments,o,!0,s).pipe(he(i=>i instanceof zt?[i]:[]))}processChildren(t,n,r,o){let s=[];for(let i of Object.keys(r.children))i==="primary"?s.unshift(i):s.push(i);return tt(s).pipe(Qo(i=>{let a=r.children[i],c=MO(n,i);return this.processSegmentGroup(t,c,a,i,o)}),ef((i,a)=>(i.push(...a),i)),vr(null),Jh(),nt(i=>{if(i===null)return Es(r);let a=Qw(i);return lA(a),re(a)}))}processSegment(t,n,r,o,s,i,a){return tt(n).pipe(Qo(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,s,i,a).pipe(mr(l=>{if(l instanceof na)return re(null);throw l}))),kn(c=>!!c),mr(c=>{if(Xw(c))return iA(r,o,s)?re(new mg):Es(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,s,i,a,c){return sA(r,o,s,i)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,s,i,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,s,i,c):Es(o):Es(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,s,i,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=Dg(n,o,s);if(!c)return Es(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cA&&(this.allowRedirects=!1));let f=new Cs(s,l,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Mw(o),bn(o),o.component??o._loadedComponent??null,o,kw(o)),p=Kl(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let v=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,f,t);return this.applyRedirects.lineralizeSegments(o,v).pipe(nt(g=>this.processSegment(t,r,n,g.concat(h),i,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,s,i){let a=JO(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Bt(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Bt(({routes:l})=>{let d=r._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:f}=c,p=new Cs(h,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Mw(r),bn(r),r.component??r._loadedComponent??null,r,kw(r)),v=Kl(p,i,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let{segmentGroup:g,slicedSegments:m}=Tw(n,h,f,l);if(m.length===0&&g.hasChildren())return this.processChildren(d,l,g,p).pipe(he(y=>new zt(p,y)));if(l.length===0&&m.length===0)return re(new zt(p,[]));let w=bn(r)===s;return this.processSegment(d,l,g,m,w?se:s,!0,p).pipe(he(y=>new zt(p,y instanceof zt?[y]:[])))}))):Es(n)))}getChildConfig(t,n,r){return n.children?re({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?re({routes:n._loadedRoutes,injector:n._loadedInjector}):YO(t,n,r,this.urlSerializer).pipe(nt(o=>o?this.configLoader.loadChildren(t,n).pipe(ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):QO(n))):re({routes:[],injector:t})}};function lA(e){e.sort((t,n)=>t.value.outlet===se?-1:n.value.outlet===se?1:t.value.outlet.localeCompare(n.value.outlet))}function dA(e){let t=e.value.routeConfig;return t&&t.path===""}function Qw(e){let t=[],n=new Set;for(let r of e){if(!dA(r)){t.push(r);continue}let o=t.find(s=>r.value.routeConfig===s.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=Qw(r.children);t.push(new zt(r.value,o))}return t.filter(r=>!n.has(r))}function Mw(e){return e.data||{}}function kw(e){return e.resolve||{}}function uA(e,t,n,r,o,s){return nt(i=>aA(e,t,n,r,i.extractedUrl,o,s).pipe(he(({state:a,tree:c})=>$e(z({},i),{targetSnapshot:a,urlAfterRedirects:c}))))}function hA(e,t){return nt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return re(n);let s=new Set(o.map(c=>c.route)),i=new Set;for(let c of s)if(!i.has(c))for(let l of Jw(c))i.add(l);let a=0;return tt(i).pipe(Qo(c=>s.has(c)?fA(c,r,e,t):(c.data=Kl(c,c.parent,e).resolve,re(void 0))),ut(()=>a++),Jo(1),nt(c=>a===i.size?re(n):jt))})}function Jw(e){let t=e.children.map(n=>Jw(n)).flat();return[e,...t]}function fA(e,t,n,r){let o=e.routeConfig,s=e._resolve;return o?.title!==void 0&&!qw(o)&&(s[oa]=o.title),pA(s,e,t,r).pipe(he(i=>(e._resolvedData=i,e.data=Kl(e,e.parent,n).resolve,null)))}function pA(e,t,n,r){let o=Wp(e);if(o.length===0)return re({});let s={};return tt(o).pipe(nt(i=>gA(e[i],t,n,r).pipe(kn(),ut(a=>{if(a instanceof ta)throw Jl(new Zi,a);s[i]=a}))),Jo(1),Qh(s),mr(i=>Xw(i)?jt:Xo(i)))}function gA(e,t,n,r){let o=sa(t)??r,s=Os(e,o),i=s.resolve?s.resolve(t,n):Qn(o,()=>s(t,n));return Dr(i)}function Gp(e){return Bt(t=>{let n=e(t);return n?tt(n).pipe(he(()=>t)):re(t)})}var ex=(()=>{let t=class t{buildTitle(r){let o,s=r.root;for(;s!==void 0;)o=this.getResolvedTitleForRoute(s)??o,s=s.children.find(i=>i.outlet===se);return o}getResolvedTitleForRoute(r){return r.data[oa]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>j(mA),providedIn:"root"});let e=t;return e})(),mA=(()=>{let t=class t extends ex{constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}};t.\u0275fac=function(o){return new(o||t)(fe(Ew))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Sg=new ae("",{providedIn:"root",factory:()=>({})}),Cg=new ae(""),vA=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(Op)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return re(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Dr(r.loadComponent()).pipe(he(tx),ut(i=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=i}),vi(()=>{this.componentLoaders.delete(r)})),s=new Zo(o,()=>new Dt).pipe(Wo());return this.componentLoaders.set(r,s),s}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return re({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let i=yA(o,this.compiler,r,this.onLoadEndListener).pipe(vi(()=>{this.childrenLoaders.delete(o)})),a=new Zo(i,()=>new Dt).pipe(Wo());return this.childrenLoaders.set(o,a),a}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yA(e,t,n,r){return Dr(e.loadChildren()).pipe(he(tx),nt(o=>o instanceof Mi||Array.isArray(o)?re(o):tt(t.compileModuleAsync(o))),he(o=>{r&&r(e);let s,i,a=!1;return Array.isArray(o)?(i=o,a=!0):(s=o.create(n).injector,i=s.get(Cg,[],{optional:!0,self:!0}).flat()),{routes:i.map(Eg),injector:s}}))}function bA(e){return e&&typeof e=="object"&&"default"in e}function tx(e){return bA(e)?e.default:e}var _g=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>j(wA),providedIn:"root"});let e=t;return e})(),wA=(()=>{let t=class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),xA=new ae("");var EA=new ae(""),DA=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt,this.transitionAbortSubject=new Dt,this.configLoader=j(vA),this.environmentInjector=j(en),this.urlSerializer=j(bg),this.rootContexts=j(td),this.location=j(ji),this.inputBindingEnabled=j(xg,{optional:!0})!==null,this.titleStrategy=j(ex),this.options=j(Sg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(_g),this.createViewTransition=j(xA,{optional:!0}),this.navigationErrorHandler=j(EA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ng(s)),o=s=>this.events.next(new rg(s));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next($e(z(z({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,s){return this.transitions=new dt({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:qi,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pn(i=>i.id!==0),he(i=>$e(z({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bt(i=>{let a=!1,c=!1;return re(i).pipe(Bt(l=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ht.SupersededByNewNavigation),jt;this.currentTransition=i,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?$e(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new ro(l.id,this.urlSerializer.serialize(l.rawUrl),h,Kp.IgnoredSameUrlNavigation)),l.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(Bt(h=>{let f=this.transitions?.getValue();return this.events.next(new Ki(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?jt:Promise.resolve(h)}),uA(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(h=>{i.targetSnapshot=h.targetSnapshot,i.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=$e(z({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Zl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:v,extras:g}=l,m=new Ki(h,this.urlSerializer.serialize(f),p,v);this.events.next(m);let w=Hw(this.rootComponentType).snapshot;return this.currentTransition=i=$e(z({},l),{targetSnapshot:w,urlAfterRedirects:f,extras:$e(z({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,re(i)}else{let h="";return this.events.next(new ro(l.id,this.urlSerializer.serialize(l.extractedUrl),h,Kp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),jt}}),ut(l=>{let d=new Qp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),he(l=>(this.currentTransition=i=$e(z({},l),{guards:IO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),i)),$O(this.environmentInjector,l=>this.events.next(l)),ut(l=>{if(i.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Jl(this.urlSerializer,l.guardsResult);let d=new Jp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),pn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ht.GuardRejected),!1)),Gp(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(ut(d=>{let u=new eg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Bt(d=>{let u=!1;return re(d).pipe(hA(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",Ht.NoDataFromResolver)}}))}),ut(d=>{let u=new tg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),Gp(l=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(ut(f=>{u.component=f}),he(()=>{})));for(let f of u.children)h.push(...d(f));return h};return Wc(d(l.targetSnapshot.root)).pipe(vr(null),Zn(1))}),Gp(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:l,targetSnapshot:d}=i,u=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return u?tt(u).pipe(he(()=>i)):re(i)}),he(l=>{let d=EO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=i=$e(z({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,i}),ut(()=>{this.events.next(new Ji)}),kO(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Zn(1),ut({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new no(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),nf(this.transitionAbortSubject.pipe(ut(l=>{throw l}))),vi(()=>{!a&&!c&&this.cancelNavigationTransition(i,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),mr(l=>{if(c=!0,Yw(l))this.events.next(new tr(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode)),CO(l)?this.events.next(new Ms(l.url,l.navigationBehaviorOptions)):i.resolve(!1);else{let d=new Qi(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);try{let u=Qn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(u instanceof ta){let{message:h,cancellationCode:f}=Jl(this.urlSerializer,u);this.events.next(new tr(i.id,this.urlSerializer.serialize(i.extractedUrl),h,f)),this.events.next(new Ms(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(d);let h=r.errorHandler(l);i.resolve(!!h)}}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return jt}))}))}cancelNavigationTransition(r,o,s){let i=new tr(r.id,this.urlSerializer.serialize(r.extractedUrl),o,s);this.events.next(i),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function SA(e){return e!==qi}var CA=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>j(_A),providedIn:"root"});let e=t;return e})(),yg=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},_A=(()=>{let t=class t extends yg{};t.\u0275fac=(()=>{let r;return function(s){return(r||(r=dp(t)))(s||t)}})(),t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),nx=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:()=>j(TA),providedIn:"root"});let e=t;return e})(),TA=(()=>{let t=class t extends nx{constructor(){super(...arguments),this.location=j(ji),this.urlSerializer=j(bg),this.options=j(Sg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(_g),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Hw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof Ki)this.stateMemento=this.createStateMemento();else if(r instanceof ro)this.rawUrlTree=o.initialUrl;else if(r instanceof Zl){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(s,o)}}else r instanceof Ji?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof tr&&(r.code===Ht.GuardRejected||r.code===Ht.NoDataFromResolver)?this.restoreHistory(o):r instanceof Qi?this.restoreHistory(o,!0):r instanceof no&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl){let i=this.browserPageId,a=z(z({},o.extras.state),this.generateNgRouterState(o.id,i));this.location.replaceState(s,"",a)}else{let i=z(z({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(s,"",i)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,i=this.currentPageId-s;i!==0?this.location.historyGo(i):this.currentUrlTree===r.finalUrl&&i===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}};t.\u0275fac=(()=>{let r;return function(s){return(r||(r=dp(t)))(s||t)}})(),t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Hi=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Hi||{});function MA(e,t){e.events.pipe(pn(n=>n instanceof no||n instanceof tr||n instanceof Qi||n instanceof ro),he(n=>n instanceof no||n instanceof ro?Hi.COMPLETE:(n instanceof tr?n.code===Ht.Redirect||n.code===Ht.SupersededByNewNavigation:!1)?Hi.REDIRECTING:Hi.FAILED),pn(n=>n!==Hi.REDIRECTING),Zn(1)).subscribe(()=>{t()})}function kA(e){throw e}var IA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rx=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(Ll),this.stateManager=j(nx),this.options=j(Sg,{optional:!0})||{},this.pendingTasks=j(vs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(DA),this.urlSerializer=j(bg),this.location=j(ji),this.urlHandlingStrategy=j(_g),this._events=new Dt,this.errorHandler=this.options.errorHandler||kA,this.navigated=!1,this.routeReuseStrategy=j(CA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(Cg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(xg,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let s=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(s!==null&&i!==null){if(this.stateManager.handleRouterEvent(o,i),o instanceof tr&&o.code!==Ht.Redirect&&o.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof no)this.navigated=!0;else if(o instanceof Ms){let a=o.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(o.url,s.currentRawUrl),l=z({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SA(s.source)},a);this.scheduleNavigation(c,qi,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}RA(o)&&this._events.next(o)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,s){let i={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=z({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,o,a,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Eg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:s,queryParams:i,fragment:a,queryParamsHandling:c,preserveFragment:l}=o,d=l?this.currentUrlTree.fragment:a,u=null;switch(c){case"merge":u=z(z({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=Vw(f)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return $w(h,r,u,d??null)}navigateByUrl(r,o={skipLocationChange:!1}){let s=Yi(r)?r:this.parseUrl(r),i=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(i,qi,null,o)}navigate(r,o={skipLocationChange:!1}){return AA(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let s;if(o===!0?s=z({},IA):o===!1?s=z({},OA):s=o,Yi(r))return Dw(this.currentUrlTree,r,s);let i=this.parseUrl(r);return Dw(this.currentUrlTree,i,s)}removeEmptyProps(r){return Object.entries(r).reduce((o,[s,i])=>(i!=null&&(o[s]=i),o),{})}scheduleNavigation(r,o,s,i,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((h,f)=>{c=h,l=f});let u=this.pendingTasks.add();return MA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:i,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function AA(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Q(4008,!1)}function RA(e){return!(e instanceof Ji)&&!(e instanceof Ms)}var NA=new ae("");function ox(e,...t){return El([{provide:Cg,multi:!0,useValue:e},[],{provide:ks,useFactory:LA,deps:[rx]},{provide:Ip,multi:!0,useFactory:PA},t.map(n=>n.\u0275providers)])}function LA(e){return e.routerState.root}function PA(){let e=j(qr);return t=>{let n=e.get(ws);if(t!==n.components[0])return;let r=e.get(rx),o=e.get(FA);e.get(jA)===1&&r.initialNavigation(),e.get(BA,null,ie.Optional)?.setUpPreloading(),e.get(NA,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var FA=new ae("",{factory:()=>new Dt}),jA=new ae("",{providedIn:"root",factory:()=>1});var BA=new ae("");var sx=[];var ix={providers:[Qb({eventCoalescing:!0}),ox(sx)]};var rd=(e=>(e.RENDER_FINISHED="render-finished",e.RESIZE="chart-resize",e.MOUSEOVER="chart-mouseover",e.MOUSEOUT="chart-mouseout",e))(rd||{}),od=(e=>(e.SHOW="show-modal",e.HIDE="hide-modal",e))(od||{}),sd=(e=>(e.UPDATE="model-update",e))(sd||{}),ax=(e=>(e.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",e.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu",e.BUTTON_CLICK="toolbar-button-click",e.SHOW_TOOLTIP="toolbar-show-tooltip",e.HIDE_TOOLTIP="toolbar-hide-tooltip",e))(ax||{}),id=(e=>(e.UPDATE="zoom-bar-update",e.SELECTION_START="zoom-bar-selection-start",e.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",e.SELECTION_END="zoom-bar-selection-end",e))(id||{}),ad=(e=>(e.CHANGE="zoom-domain-change",e))(ad||{}),cd=(e=>(e.CANVAS_ZOOM_IN="canvas-zoom-in",e.CANVAS_ZOOM_OUT="canvas-zoom-out",e))(cd||{}),ld=(e=>(e.LABEL_MOUSEOVER="axis-label-mouseover",e.LABEL_MOUSEMOVE="axis-label-mousemove",e.LABEL_CLICK="axis-label-click",e.LABEL_MOUSEOUT="axis-label-mouseout",e.LABEL_FOCUS="axis-label-focus",e.LABEL_BLUR="axis-label-blur",e.RENDER_COMPLETE="axis-render-complete",e))(ld||{}),dd=(e=>(e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout",e))(dd||{}),ud=(e=>(e.WORD_MOUSEOVER="wordcloud-word-mouseover",e.WORD_MOUSEMOVE="wordcloud-word-mousemove",e.WORD_CLICK="wordcloud-word-click",e.WORD_MOUSEOUT="wordcloud-word-mouseout",e))(ud||{}),hd=(e=>(e.SLICE_MOUSEOVER="pie-slice-mouseover",e.SLICE_MOUSEMOVE="pie-slice-mousemove",e.SLICE_CLICK="pie-slice-click",e.SLICE_MOUSEOUT="pie-slice-mouseout",e))(hd||{}),fd=(e=>(e.ARC_MOUSEOVER="gauge-arc-mouseover",e.ARC_MOUSEMOVE="gauge-arc-mousemove",e.ARC_CLICK="gauge-arc-click",e.ARC_MOUSEOUT="gauge-arc-mouseout",e))(fd||{}),pd=(e=>(e.BAR_MOUSEOVER="bar-mouseover",e.BAR_MOUSEMOVE="bar-mousemove",e.BAR_CLICK="bar-click",e.BAR_MOUSEOUT="bar-mouseout",e))(pd||{}),gd=(e=>(e.BOX_MOUSEOVER="box-mouseover",e.BOX_MOUSEMOVE="box-mousemove",e.BOX_CLICK="box-click",e.BOX_MOUSEOUT="box-mouseout",e.OUTLIER_MOUSEOVER="outlier-mouseover",e.OUTLIER_MOUSEMOVE="outlier-mousemove",e.OUTLIER_CLICK="outlier-click",e.OUTLIER_MOUSEOUT="outlier-mouseout",e))(gd||{}),md=(e=>(e.SCATTER_MOUSEOVER="scatter-mouseover",e.SCATTER_MOUSEMOVE="scatter-mousemove",e.SCATTER_CLICK="scatter-click",e.SCATTER_MOUSEOUT="scatter-mouseout",e))(md||{}),vd=(e=>(e.POINT_MOUSEOVER="scatter-mouseover",e.POINT_MOUSEMOVE="scatter-mousemove",e.POINT_CLICK="scatter-click",e.POINT_MOUSEOUT="scatter-mouseout",e))(vd||{}),yd=(e=>(e.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",e.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",e.X_AXIS_CLICK="radar-x-axis-click",e.X_AXIS_MOUSEOUT="radar-x-axis-mouseout",e))(yd||{}),bd=(e=>(e.NODE_MOUSEOVER="tree-node-mouseover",e.NODE_CLICK="tree-node-click",e.NODE_MOUSEOUT="tree-node-mouseout",e))(bd||{}),wd=(e=>(e.LEAF_MOUSEOVER="leaf-mouseover",e.LEAF_MOUSEMOVE="leaf-mousemove",e.LEAF_CLICK="leaf-click",e.LEAF_MOUSEOUT="leaf-mouseout",e))(wd||{}),aa=(e=>(e.SHOW="show-tooltip",e.MOVE="move-tooltip",e.HIDE="hide-tooltip",e))(aa||{}),xd=(e=>(e.SHOW="show-threshold",e.HIDE="hide-threshold",e))(xd||{}),cx=(e=>(e.ITEM_HOVER="legend-item-onhover",e.ITEM_CLICK="legend-item-onclick",e.ITEM_MOUSEOUT="legend-item-onmouseout",e.ITEMS_UPDATE="legend-items-update",e))(cx||{}),lx=(e=>(e.CIRCLE_MOUSEOVER="circle-leaf-mouseover",e.CIRCLE_CLICK="circle-leaf-click",e.CIRCLE_MOUSEOUT="circle-leaf-mouseout",e.CIRCLE_MOUSEMOVE="circle-leaf-mousemove",e))(lx||{}),dx=(e=>(e.NODE_MOUSEOVER="alluvial-node-mouseover",e.NODE_CLICK="alluvial-node-click",e.NODE_MOUSEOUT="alluvial-node-mouseout",e.NODE_MOUSEMOVE="alluvial-node-mousemove",e.LINE_MOUSEOVER="alluvial-line-mouseover",e.LINE_CLICK="alluvial-line-click",e.LINE_MOUSEOUT="alluvial-line-mouseout",e.LINE_MOUSEMOVE="alluvial-line-mousemove",e))(dx||{}),ux=(e=>(e.METER_MOUSEOVER="meter-mouseover",e.METER_CLICK="meter-click",e.METER_MOUSEOUT="meter-mouseout",e.METER_MOUSEMOVE="meter-mousemove",e))(ux||{}),hx=(e=>(e.HEATMAP_MOUSEOVER="heatmap-mouseover",e.HEATMAP_CLICK="heatmap-click",e.HEATMAP_MOUSEOUT="heatmap-mouseout",e.HEATMAP_MOUSEMOVE="hetmap-mousemove",e))(hx||{}),Tg=(e=>(e.CHOROPLETH_MOUSEOVER="choropleth-mouseover",e.CHOROPLETH_CLICK="choropleth-click",e.CHOROPLETH_MOUSEOUT="choropleth-mouseout",e.CHOROPLETH_MOUSEMOVE="choropleth-mousemove",e))(Tg||{}),fx=Object.freeze(Object.defineProperty({__proto__:null,Alluvial:dx,Area:dd,Axis:ld,Bar:pd,Boxplot:gd,CanvasZoom:cd,Chart:rd,Choropleth:Tg,CirclePack:lx,Gauge:fd,Heatmap:hx,Legend:cx,Line:vd,Meter:ux,Modal:od,Model:sd,Pie:hd,Radar:yd,Scatter:md,Threshold:xd,Toolbar:ax,Tooltip:aa,Tree:bd,Treemap:wd,WordCloud:ud,ZoomBar:id,ZoomDomain:ad},Symbol.toStringTag,{value:"Module"})),_=fx,be=(e=>(e.HTML="html",e.SVG="svg",e))(be||{}),ca=(e=>(e.WHITE="white",e.G100="g100",e.G90="g90",e.G10="g10",e))(ca||{}),Ke=(e=>(e.BACKGROUND="background",e.FILL="fill",e.STROKE="stroke",e.TOOLTIP="tooltip",e))(Ke||{}),k=(e=>(e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e))(k||{}),Ot=(e=>(e.GRAPH_VIEW="graph_view",e.SLIDER_VIEW="slider_view",e))(Ot||{}),_t=(e=>(e.END_LINE="end_line",e.MID_LINE="mid_line",e.FRONT_LINE="front_line",e.NONE="none",e))(_t||{}),Qe=(e=>(e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e))(Qe||{}),$=(e=>(e.TIME="time",e.LINEAR="linear",e.LOG="log",e.LABELS="labels",e.LABELS_RATIO="labels-ratio",e))($||{}),Sr=(e=>(e.RIGHT="right",e.LEFT="left",e.TOP="top",e.BOTTOM="bottom",e))(Sr||{}),Tt=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(Tt||{}),oo=(e=>(e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e))(oo||{}),As=(e=>(e.TREE="tree",e.DENDROGRAM="dendrogram",e))(As||{}),qe=(e=>(e.ROW="row",e.COLUMN="column",e.ROW_REVERSE="row-reverse",e.COLUMN_REVERSE="column-reverse",e))(qe||{}),Re=(e=>(e.FIXED="fixed",e.PREFERRED="preferred",e.STRETCH="stretch",e))(Re||{}),so=(e=>(e.CENTER="center",e))(so||{});var Cr=(e=>(e.GRID="grid",e.VERT_OR_HORIZ="vertOrHoriz",e.PIE="pie",e.DONUT="donut",e))(Cr||{});var Rs=(e=>(e.SEMI="semi",e.FULL="full",e))(Rs||{});var io=(e=>(e.ALWAYS="always",e.AUTO="auto",e.NEVER="never",e))(io||{}),jn=(e=>(e.SCATTER="scatter",e.LINE="line",e.SIMPLE_BAR="simple-bar",e.STACKED_BAR="stacked-bar",e.GROUPED_BAR="grouped-bar",e.AREA="area",e.STACKED_AREA="stacked-area",e))(jn||{}),we=(e=>(e.EXPORT_CSV="Export as CSV",e.EXPORT_PNG="Export as PNG",e.EXPORT_JPG="Export as JPG",e.ZOOM_IN="Zoom in",e.ZOOM_OUT="Zoom out",e.RESET_ZOOM="Reset zoom",e.MAKE_FULLSCREEN="Make fullscreen",e.EXIT_FULLSCREEN="Exit fullscreen",e.SHOW_AS_DATATABLE="Show as data-table",e.CUSTOM="Custom",e))(we||{}),Ns=(e=>(e.LEFT="left",e.RIGHT="right",e))(Ns||{}),ze=(e=>(e.CHECKBOX="checkbox",e.RADIUS="radius",e.AREA="area",e.SIZE="size",e.LINE="line",e.QUARTILE="quartile",e.ZOOM="zoom",e))(ze||{});var Ls=(e=>(e.ON="on",e.AUTO="auto",e.OFF="off",e))(Ls||{}),ao=(e=>(e.DEFAULT="default",e.HOVERABLE="hoverable",e))(ao||{}),Ps=(e=>(e.geoEqualEarth="geoEqualEarth",e.geoAlbers="geoAlbers",e.geoConicEqualArea="geoConicEqualArea",e.geoConicEquidistant="geoConicEquidistant",e.geoEquirectangular="geoEquirectangular",e.geoMercator="geoMercator",e.geoNaturalEarth1="geoNaturalEarth1",e))(Ps||{});function Mg(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}function la(e){return(t,n)=>{let r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){let i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;o=e.formattingValues[a]||e.formattingValues[i]}else{let i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[a]||e.values[i]}let s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}function da(e){return(t,n={})=>{let r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;let i=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?$A(a,u=>u.test(i)):VA(a,u=>u.test(i)),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let d=t.slice(i.length);return{value:l,rest:d}}}function VA(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function $A(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function UA(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let o=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;let a=t.slice(o.length);return{value:i,rest:a}}}function xe(e){let t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}var zA={};function Gd(){return zA}function ba(e,t){var n,r,o,s;let i=Gd(),a=t?.weekStartsOn??((r=(n=t?.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??i.weekStartsOn??((s=(o=i.locale)==null?void 0:o.options)==null?void 0:s.weekStartsOn)??0,c=xe(e),l=c.getDay(),d=(l<a?7:0)+l-a;return c.setDate(c.getDate()-d),c.setHours(0,0,0,0),c}var HA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GA=(e,t,n)=>{let r,o=HA[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},qA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WA=(e,t,n,r)=>qA[e],ZA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eR=(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tR={ordinalNumber:eR,era:la({values:ZA,defaultWidth:"wide"}),quarter:la({values:YA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:la({values:XA,defaultWidth:"wide"}),day:la({values:KA,defaultWidth:"wide"}),dayPeriod:la({values:QA,defaultWidth:"wide",formattingValues:JA,defaultFormattingWidth:"wide"})},nR=/^(\d+)(th|st|nd|rd)?/i,rR=/\d+/i,oR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sR={any:[/^b/i,/^(a|c)/i]},iR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aR={any:[/1/i,/2/i,/3/i,/4/i]},cR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pR={ordinalNumber:UA({matchPattern:nR,parsePattern:rR,valueCallback:e=>parseInt(e,10)}),era:da({matchPatterns:oR,defaultMatchWidth:"wide",parsePatterns:sR,defaultParseWidth:"any"}),quarter:da({matchPatterns:iR,defaultMatchWidth:"wide",parsePatterns:aR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:da({matchPatterns:cR,defaultMatchWidth:"wide",parsePatterns:lR,defaultParseWidth:"any"}),day:da({matchPatterns:dR,defaultMatchWidth:"wide",parsePatterns:uR,defaultParseWidth:"any"}),dayPeriod:da({matchPatterns:hR,defaultMatchWidth:"any",parsePatterns:fR,defaultParseWidth:"any"})},gR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yR={date:Mg({formats:gR,defaultWidth:"full"}),time:Mg({formats:mR,defaultWidth:"full"}),dateTime:Mg({formats:vR,defaultWidth:"full"})},vE={code:"en-US",formatDistance:GA,formatLong:yR,formatRelative:WA,localize:tR,match:pR,options:{weekStartsOn:0,firstWeekContainsDate:1}},yE=typeof global=="object"&&global&&global.Object===Object&&global,bR=typeof self=="object"&&self&&self.Object===Object&&self,cn=yE||bR||Function("return this")(),sn=cn.Symbol,bE=Object.prototype,wR=bE.hasOwnProperty,xR=bE.toString,ua=sn?sn.toStringTag:void 0;function ER(e){var t=wR.call(e,ua),n=e[ua];try{e[ua]=void 0;var r=!0}catch{}var o=xR.call(e);return r&&(t?e[ua]=n:delete e[ua]),o}var DR=Object.prototype,SR=DR.toString;function CR(e){return SR.call(e)}var _R="[object Null]",TR="[object Undefined]",px=sn?sn.toStringTag:void 0;function mo(e){return e==null?e===void 0?TR:_R:px&&px in Object(e)?ER(e):CR(e)}function Vn(e){return e!=null&&typeof e=="object"}var MR="[object Symbol]";function Ta(e){return typeof e=="symbol"||Vn(e)&&mo(e)==MR}function qd(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var it=Array.isArray,kR=1/0,gx=sn?sn.prototype:void 0,mx=gx?gx.toString:void 0;function wE(e){if(typeof e=="string")return e;if(it(e))return qd(e,wE)+"";if(Ta(e))return mx?mx.call(e):"";var t=e+"";return t=="0"&&1/e==-kR?"-0":t}function Gt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Yg(e){return e}var IR="[object AsyncFunction]",OR="[object Function]",AR="[object GeneratorFunction]",RR="[object Proxy]";function Xg(e){if(!Gt(e))return!1;var t=mo(e);return t==OR||t==AR||t==IR||t==RR}var kg=cn["__core-js_shared__"],vx=function(){var e=/[^.]+$/.exec(kg&&kg.keys&&kg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function NR(e){return!!vx&&vx in e}var LR=Function.prototype,PR=LR.toString;function vo(e){if(e!=null){try{return PR.call(e)}catch{}try{return e+""}catch{}}return""}var FR=/[\\^$.*+?()[\]{}|]/g,jR=/^\[object .+?Constructor\]$/,BR=Function.prototype,VR=Object.prototype,$R=BR.toString,UR=VR.hasOwnProperty,zR=RegExp("^"+$R.call(UR).replace(FR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HR(e){if(!Gt(e)||NR(e))return!1;var t=Xg(e)?zR:jR;return t.test(vo(e))}function GR(e,t){return e?.[t]}function yo(e,t){var n=GR(e,t);return HR(n)?n:void 0}var Ng=yo(cn,"WeakMap"),yx=Object.create,qR=function(){function e(){}return function(t){if(!Gt(t))return{};if(yx)return yx(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function WR(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ZR(){}function xE(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var YR=800,XR=16,KR=Date.now;function QR(e){var t=0,n=0;return function(){var r=KR(),o=XR-(r-n);if(n=r,o>0){if(++t>=YR)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function JR(e){return function(){return e}}var Ad=function(){try{var e=yo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),eN=Ad?function(e,t){return Ad(e,"toString",{configurable:!0,enumerable:!1,value:JR(t),writable:!0})}:Yg,Kg=QR(eN);function tN(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function nN(e,t,n,r){for(var o=e.length,s=n+-1;++s<o;)if(t(e[s],s,e))return s;return-1}function rN(e){return e!==e}function oN(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function sN(e,t,n){return t===t?oN(e,t,n):nN(e,rN,n)}function iN(e,t){var n=e==null?0:e.length;return!!n&&sN(e,t,0)>-1}var aN=9007199254740991,cN=/^(?:0|[1-9]\d*)$/;function Qg(e,t){var n=typeof e;return t=t??aN,!!t&&(n=="number"||n!="symbol"&&cN.test(e))&&e>-1&&e%1==0&&e<t}function Ma(e,t,n){t=="__proto__"&&Ad?Ad(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ka(e,t){return e===t||e!==e&&t!==t}var lN=Object.prototype,dN=lN.hasOwnProperty;function EE(e,t,n){var r=e[t];(!(dN.call(e,t)&&ka(r,n))||n===void 0&&!(t in e))&&Ma(e,t,n)}function bo(e,t,n,r){var o=!n;n||(n={});for(var s=-1,i=t.length;++s<i;){var a=t[s],c=void 0;c===void 0&&(c=e[a]),o?Ma(n,a,c):EE(n,a,c)}return n}var bx=Math.max;function Jg(e,t,n){return t=bx(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=bx(r.length-t,0),i=Array(s);++o<s;)i[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(i),WR(e,this,a)}}function Wd(e,t){return Kg(Jg(e,t,Yg),e+"")}var uN=9007199254740991;function em(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uN}function kr(e){return e!=null&&em(e.length)&&!Xg(e)}function hN(e,t,n){if(!Gt(n))return!1;var r=typeof t;return(r=="number"?kr(n)&&Qg(t,n.length):r=="string"&&t in n)?ka(n[t],e):!1}function fN(e){return Wd(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,i&&hN(n[0],n[1],i)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,s)}return t})}var pN=Object.prototype;function Zd(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||pN;return e===n}function gN(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var mN="[object Arguments]";function wx(e){return Vn(e)&&mo(e)==mN}var DE=Object.prototype,vN=DE.hasOwnProperty,yN=DE.propertyIsEnumerable,zs=wx(function(){return arguments}())?wx:function(e){return Vn(e)&&vN.call(e,"callee")&&!yN.call(e,"callee")};function bN(){return!1}var SE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xx=SE&&typeof module=="object"&&module&&!module.nodeType&&module,wN=xx&&xx.exports===SE,Ex=wN?cn.Buffer:void 0,xN=Ex?Ex.isBuffer:void 0,Hs=xN||bN,EN="[object Arguments]",DN="[object Array]",SN="[object Boolean]",CN="[object Date]",_N="[object Error]",TN="[object Function]",MN="[object Map]",kN="[object Number]",IN="[object Object]",ON="[object RegExp]",AN="[object Set]",RN="[object String]",NN="[object WeakMap]",LN="[object ArrayBuffer]",PN="[object DataView]",FN="[object Float32Array]",jN="[object Float64Array]",BN="[object Int8Array]",VN="[object Int16Array]",$N="[object Int32Array]",UN="[object Uint8Array]",zN="[object Uint8ClampedArray]",HN="[object Uint16Array]",GN="[object Uint32Array]",Be={};Be[FN]=Be[jN]=Be[BN]=Be[VN]=Be[$N]=Be[UN]=Be[zN]=Be[HN]=Be[GN]=!0;Be[EN]=Be[DN]=Be[LN]=Be[SN]=Be[PN]=Be[CN]=Be[_N]=Be[TN]=Be[MN]=Be[kN]=Be[IN]=Be[ON]=Be[AN]=Be[RN]=Be[NN]=!1;function qN(e){return Vn(e)&&em(e.length)&&!!Be[mo(e)]}function tm(e){return function(t){return e(t)}}var CE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,va=CE&&typeof module=="object"&&module&&!module.nodeType&&module,WN=va&&va.exports===CE,Ig=WN&&yE.process,Gs=function(){try{var e=va&&va.require&&va.require("util").types;return e||Ig&&Ig.binding&&Ig.binding("util")}catch{}}(),Dx=Gs&&Gs.isTypedArray,Yd=Dx?tm(Dx):qN,ZN=Object.prototype,YN=ZN.hasOwnProperty;function _E(e,t){var n=it(e),r=!n&&zs(e),o=!n&&!r&&Hs(e),s=!n&&!r&&!o&&Yd(e),i=n||r||o||s,a=i?gN(e.length,String):[],c=a.length;for(var l in e)(t||YN.call(e,l))&&!(i&&(l=="length"||o&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Qg(l,c)))&&a.push(l);return a}function TE(e,t){return function(n){return e(t(n))}}var XN=TE(Object.keys,Object),KN=Object.prototype,QN=KN.hasOwnProperty;function ME(e){if(!Zd(e))return XN(e);var t=[];for(var n in Object(e))QN.call(e,n)&&n!="constructor"&&t.push(n);return t}function Xs(e){return kr(e)?_E(e):ME(e)}function JN(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var e3=Object.prototype,t3=e3.hasOwnProperty;function n3(e){if(!Gt(e))return JN(e);var t=Zd(e),n=[];for(var r in e)r=="constructor"&&(t||!t3.call(e,r))||n.push(r);return n}function Ia(e){return kr(e)?_E(e,!0):n3(e)}var r3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o3=/^\w*$/;function nm(e,t){if(it(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ta(e)?!0:o3.test(e)||!r3.test(e)||t!=null&&e in Object(t)}var wa=yo(Object,"create");function s3(){this.__data__=wa?wa(null):{},this.size=0}function i3(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var a3="__lodash_hash_undefined__",c3=Object.prototype,l3=c3.hasOwnProperty;function d3(e){var t=this.__data__;if(wa){var n=t[e];return n===a3?void 0:n}return l3.call(t,e)?t[e]:void 0}var u3=Object.prototype,h3=u3.hasOwnProperty;function f3(e){var t=this.__data__;return wa?t[e]!==void 0:h3.call(t,e)}var p3="__lodash_hash_undefined__";function g3(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=wa&&t===void 0?p3:t,this}function ho(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ho.prototype.clear=s3;ho.prototype.delete=i3;ho.prototype.get=d3;ho.prototype.has=f3;ho.prototype.set=g3;function m3(){this.__data__=[],this.size=0}function Xd(e,t){for(var n=e.length;n--;)if(ka(e[n][0],t))return n;return-1}var v3=Array.prototype,y3=v3.splice;function b3(e){var t=this.__data__,n=Xd(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():y3.call(t,n,1),--this.size,!0}function w3(e){var t=this.__data__,n=Xd(t,e);return n<0?void 0:t[n][1]}function x3(e){return Xd(this.__data__,e)>-1}function E3(e,t){var n=this.__data__,r=Xd(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}or.prototype.clear=m3;or.prototype.delete=b3;or.prototype.get=w3;or.prototype.has=x3;or.prototype.set=E3;var xa=yo(cn,"Map");function D3(){this.size=0,this.__data__={hash:new ho,map:new(xa||or),string:new ho}}function S3(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Kd(e,t){var n=e.__data__;return S3(t)?n[typeof t=="string"?"string":"hash"]:n.map}function C3(e){var t=Kd(this,e).delete(e);return this.size-=t?1:0,t}function _3(e){return Kd(this,e).get(e)}function T3(e){return Kd(this,e).has(e)}function M3(e,t){var n=Kd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sr.prototype.clear=D3;sr.prototype.delete=C3;sr.prototype.get=_3;sr.prototype.has=T3;sr.prototype.set=M3;var k3="Expected a function";function rm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(k3);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var i=e.apply(this,r);return n.cache=s.set(o,i)||s,i};return n.cache=new(rm.Cache||sr),n}rm.Cache=sr;var I3=500;function O3(e){var t=rm(e,function(r){return n.size===I3&&n.clear(),r}),n=t.cache;return t}var A3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R3=/\\(\\)?/g,N3=O3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(A3,function(n,r,o,s){t.push(o?s.replace(R3,"$1"):r||n)}),t});function wo(e){return e==null?"":wE(e)}function Oa(e,t){return it(e)?e:nm(e,t)?[e]:N3(wo(e))}var L3=1/0;function Ks(e){if(typeof e=="string"||Ta(e))return e;var t=e+"";return t=="0"&&1/e==-L3?"-0":t}function Qd(e,t){t=Oa(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ks(t[n++])];return n&&n==r?e:void 0}function Ir(e,t,n){var r=e==null?void 0:Qd(e,t);return r===void 0?n:r}function om(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Sx=sn?sn.isConcatSpreadable:void 0;function P3(e){return it(e)||zs(e)||!!(Sx&&e&&e[Sx])}function Aa(e,t,n,r,o){var s=-1,i=e.length;for(n||(n=P3),o||(o=[]);++s<i;){var a=e[s];t>0&&n(a)?t>1?Aa(a,t-1,n,r,o):om(o,a):r||(o[o.length]=a)}return o}var sm=TE(Object.getPrototypeOf,Object),F3="[object Object]",j3=Function.prototype,B3=Object.prototype,kE=j3.toString,V3=B3.hasOwnProperty,$3=kE.call(Object);function im(e){if(!Vn(e)||mo(e)!=F3)return!1;var t=sm(e);if(t===null)return!0;var n=V3.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kE.call(n)==$3}function U3(){this.__data__=new or,this.size=0}function z3(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function H3(e){return this.__data__.get(e)}function G3(e){return this.__data__.has(e)}var q3=200;function W3(e,t){var n=this.__data__;if(n instanceof or){var r=n.__data__;if(!xa||r.length<q3-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sr(r)}return n.set(e,t),this.size=n.size,this}function xn(e){var t=this.__data__=new or(e);this.size=t.size}xn.prototype.clear=U3;xn.prototype.delete=z3;xn.prototype.get=H3;xn.prototype.has=G3;xn.prototype.set=W3;function Z3(e,t){return e&&bo(t,Xs(t),e)}function Y3(e,t){return e&&bo(t,Ia(t),e)}var IE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cx=IE&&typeof module=="object"&&module&&!module.nodeType&&module,X3=Cx&&Cx.exports===IE,_x=X3?cn.Buffer:void 0,Tx=_x?_x.allocUnsafe:void 0;function OE(e,t){if(t)return e.slice();var n=e.length,r=Tx?Tx(n):new e.constructor(n);return e.copy(r),r}function K3(e,t){for(var n=-1,r=e==null?0:e.length,o=0,s=[];++n<r;){var i=e[n];t(i,n,e)&&(s[o++]=i)}return s}function AE(){return[]}var Q3=Object.prototype,J3=Q3.propertyIsEnumerable,Mx=Object.getOwnPropertySymbols,am=Mx?function(e){return e==null?[]:(e=Object(e),K3(Mx(e),function(t){return J3.call(e,t)}))}:AE;function e4(e,t){return bo(e,am(e),t)}var t4=Object.getOwnPropertySymbols,RE=t4?function(e){for(var t=[];e;)om(t,am(e)),e=sm(e);return t}:AE;function n4(e,t){return bo(e,RE(e),t)}function NE(e,t,n){var r=t(e);return it(e)?r:om(r,n(e))}function Lg(e){return NE(e,Xs,am)}function cm(e){return NE(e,Ia,RE)}var Pg=yo(cn,"DataView"),Fg=yo(cn,"Promise"),Vs=yo(cn,"Set"),kx="[object Map]",r4="[object Object]",Ix="[object Promise]",Ox="[object Set]",Ax="[object WeakMap]",Rx="[object DataView]",o4=vo(Pg),s4=vo(xa),i4=vo(Fg),a4=vo(Vs),c4=vo(Ng),rn=mo;(Pg&&rn(new Pg(new ArrayBuffer(1)))!=Rx||xa&&rn(new xa)!=kx||Fg&&rn(Fg.resolve())!=Ix||Vs&&rn(new Vs)!=Ox||Ng&&rn(new Ng)!=Ax)&&(rn=function(e){var t=mo(e),n=t==r4?e.constructor:void 0,r=n?vo(n):"";if(r)switch(r){case o4:return Rx;case s4:return kx;case i4:return Ix;case a4:return Ox;case c4:return Ax}return t});var l4=Object.prototype,d4=l4.hasOwnProperty;function u4(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&d4.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Rd=cn.Uint8Array;function lm(e){var t=new e.constructor(e.byteLength);return new Rd(t).set(new Rd(e)),t}function h4(e,t){var n=t?lm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var f4=/\w*$/;function p4(e){var t=new e.constructor(e.source,f4.exec(e));return t.lastIndex=e.lastIndex,t}var Nx=sn?sn.prototype:void 0,Lx=Nx?Nx.valueOf:void 0;function g4(e){return Lx?Object(Lx.call(e)):{}}function LE(e,t){var n=t?lm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var m4="[object Boolean]",v4="[object Date]",y4="[object Map]",b4="[object Number]",w4="[object RegExp]",x4="[object Set]",E4="[object String]",D4="[object Symbol]",S4="[object ArrayBuffer]",C4="[object DataView]",_4="[object Float32Array]",T4="[object Float64Array]",M4="[object Int8Array]",k4="[object Int16Array]",I4="[object Int32Array]",O4="[object Uint8Array]",A4="[object Uint8ClampedArray]",R4="[object Uint16Array]",N4="[object Uint32Array]";function L4(e,t,n){var r=e.constructor;switch(t){case S4:return lm(e);case m4:case v4:return new r(+e);case C4:return h4(e,n);case _4:case T4:case M4:case k4:case I4:case O4:case A4:case R4:case N4:return LE(e,n);case y4:return new r;case b4:case E4:return new r(e);case w4:return p4(e);case x4:return new r;case D4:return g4(e)}}function PE(e){return typeof e.constructor=="function"&&!Zd(e)?qR(sm(e)):{}}var P4="[object Map]";function F4(e){return Vn(e)&&rn(e)==P4}var Px=Gs&&Gs.isMap,j4=Px?tm(Px):F4,B4="[object Set]";function V4(e){return Vn(e)&&rn(e)==B4}var Fx=Gs&&Gs.isSet,$4=Fx?tm(Fx):V4,U4=1,z4=2,H4=4,FE="[object Arguments]",G4="[object Array]",q4="[object Boolean]",W4="[object Date]",Z4="[object Error]",jE="[object Function]",Y4="[object GeneratorFunction]",X4="[object Map]",K4="[object Number]",BE="[object Object]",Q4="[object RegExp]",J4="[object Set]",e5="[object String]",t5="[object Symbol]",n5="[object WeakMap]",r5="[object ArrayBuffer]",o5="[object DataView]",s5="[object Float32Array]",i5="[object Float64Array]",a5="[object Int8Array]",c5="[object Int16Array]",l5="[object Int32Array]",d5="[object Uint8Array]",u5="[object Uint8ClampedArray]",h5="[object Uint16Array]",f5="[object Uint32Array]",Fe={};Fe[FE]=Fe[G4]=Fe[r5]=Fe[o5]=Fe[q4]=Fe[W4]=Fe[s5]=Fe[i5]=Fe[a5]=Fe[c5]=Fe[l5]=Fe[X4]=Fe[K4]=Fe[BE]=Fe[Q4]=Fe[J4]=Fe[e5]=Fe[t5]=Fe[d5]=Fe[u5]=Fe[h5]=Fe[f5]=!0;Fe[Z4]=Fe[jE]=Fe[n5]=!1;function $s(e,t,n,r,o,s){var i,a=t&U4,c=t&z4,l=t&H4;if(n&&(i=o?n(e,r,o,s):n(e)),i!==void 0)return i;if(!Gt(e))return e;var d=it(e);if(d){if(i=u4(e),!a)return xE(e,i)}else{var u=rn(e),h=u==jE||u==Y4;if(Hs(e))return OE(e,a);if(u==BE||u==FE||h&&!o){if(i=c||h?{}:PE(e),!a)return c?n4(e,Y3(i,e)):e4(e,Z3(i,e))}else{if(!Fe[u])return o?e:{};i=L4(e,u,a)}}s||(s=new xn);var f=s.get(e);if(f)return f;s.set(e,i),$4(e)?e.forEach(function(g){i.add($s(g,t,n,g,e,s))}):j4(e)&&e.forEach(function(g,m){i.set(m,$s(g,t,n,m,e,s))});var p=l?c?cm:Lg:c?Ia:Xs,v=d?void 0:p(e);return tN(v||e,function(g,m){v&&(m=g,g=e[m]),EE(i,m,$s(g,t,n,m,e,s))}),i}var p5=1,g5=4;function xo(e){return $s(e,p5|g5)}var m5="__lodash_hash_undefined__";function v5(e){return this.__data__.set(e,m5),this}function y5(e){return this.__data__.has(e)}function Ea(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new sr;++t<n;)this.add(e[t])}Ea.prototype.add=Ea.prototype.push=v5;Ea.prototype.has=y5;function dm(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function VE(e,t){return e.has(t)}var b5=1,w5=2;function $E(e,t,n,r,o,s){var i=n&b5,a=e.length,c=t.length;if(a!=c&&!(i&&c>a))return!1;var l=s.get(e),d=s.get(t);if(l&&d)return l==t&&d==e;var u=-1,h=!0,f=n&w5?new Ea:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var p=e[u],v=t[u];if(r)var g=i?r(v,p,u,t,e,s):r(p,v,u,e,t,s);if(g!==void 0){if(g)continue;h=!1;break}if(f){if(!dm(t,function(m,w){if(!VE(f,w)&&(p===m||o(p,m,n,r,s)))return f.push(w)})){h=!1;break}}else if(!(p===v||o(p,v,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function x5(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function um(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var E5=1,D5=2,S5="[object Boolean]",C5="[object Date]",_5="[object Error]",T5="[object Map]",M5="[object Number]",k5="[object RegExp]",I5="[object Set]",O5="[object String]",A5="[object Symbol]",R5="[object ArrayBuffer]",N5="[object DataView]",jx=sn?sn.prototype:void 0,Og=jx?jx.valueOf:void 0;function L5(e,t,n,r,o,s,i){switch(n){case N5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R5:return!(e.byteLength!=t.byteLength||!s(new Rd(e),new Rd(t)));case S5:case C5:case M5:return ka(+e,+t);case _5:return e.name==t.name&&e.message==t.message;case k5:case O5:return e==t+"";case T5:var a=x5;case I5:var c=r&E5;if(a||(a=um),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;r|=D5,i.set(e,t);var d=$E(a(e),a(t),r,o,s,i);return i.delete(e),d;case A5:if(Og)return Og.call(e)==Og.call(t)}return!1}var P5=1,F5=Object.prototype,j5=F5.hasOwnProperty;function B5(e,t,n,r,o,s){var i=n&P5,a=Lg(e),c=a.length,l=Lg(t),d=l.length;if(c!=d&&!i)return!1;for(var u=c;u--;){var h=a[u];if(!(i?h in t:j5.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=i;++u<c;){h=a[u];var m=e[h],w=t[h];if(r)var y=i?r(w,m,h,t,e,s):r(m,w,h,e,t,s);if(!(y===void 0?m===w||o(m,w,n,r,s):y)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var S=e.constructor,E=t.constructor;S!=E&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(v=!1)}return s.delete(e),s.delete(t),v}var V5=1,Bx="[object Arguments]",Vx="[object Array]",Ed="[object Object]",$5=Object.prototype,$x=$5.hasOwnProperty;function U5(e,t,n,r,o,s){var i=it(e),a=it(t),c=i?Vx:rn(e),l=a?Vx:rn(t);c=c==Bx?Ed:c,l=l==Bx?Ed:l;var d=c==Ed,u=l==Ed,h=c==l;if(h&&Hs(e)){if(!Hs(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new xn),i||Yd(e)?$E(e,t,n,r,o,s):L5(e,t,c,n,r,o,s);if(!(n&V5)){var f=d&&$x.call(e,"__wrapped__"),p=u&&$x.call(t,"__wrapped__");if(f||p){var v=f?e.value():e,g=p?t.value():t;return s||(s=new xn),o(v,g,n,r,s)}}return h?(s||(s=new xn),B5(e,t,n,r,o,s)):!1}function Ra(e,t,n,r,o){return e===t?!0:e==null||t==null||!Vn(e)&&!Vn(t)?e!==e&&t!==t:U5(e,t,n,r,Ra,o)}var z5=1,H5=2;function G5(e,t,n,r){var o=n.length,s=o;if(e==null)return!s;for(e=Object(e);o--;){var i=n[o];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<s;){i=n[o];var a=i[0],c=e[a],l=i[1];if(i[2]){if(c===void 0&&!(a in e))return!1}else{var d=new xn,u;if(!(u===void 0?Ra(l,c,z5|H5,r,d):u))return!1}}return!0}function UE(e){return e===e&&!Gt(e)}function q5(e){for(var t=Xs(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,UE(o)]}return t}function zE(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function W5(e){var t=q5(e);return t.length==1&&t[0][2]?zE(t[0][0],t[0][1]):function(n){return n===e||G5(n,e,t)}}function Z5(e,t){return e!=null&&t in Object(e)}function Y5(e,t,n){t=Oa(t,e);for(var r=-1,o=t.length,s=!1;++r<o;){var i=Ks(t[r]);if(!(s=e!=null&&n(e,i)))break;e=e[i]}return s||++r!=o?s:(o=e==null?0:e.length,!!o&&em(o)&&Qg(i,o)&&(it(e)||zs(e)))}function X5(e,t){return e!=null&&Y5(e,t,Z5)}var K5=1,Q5=2;function J5(e,t){return nm(e)&&UE(t)?zE(Ks(e),t):function(n){var r=Ir(n,e);return r===void 0&&r===t?X5(n,e):Ra(t,r,K5|Q5)}}function eL(e){return function(t){return t?.[e]}}function tL(e){return function(t){return Qd(t,e)}}function nL(e){return nm(e)?eL(Ks(e)):tL(e)}function Na(e){return typeof e=="function"?e:e==null?Yg:typeof e=="object"?it(e)?J5(e[0],e[1]):W5(e):nL(e)}function rL(e){return function(t,n,r){for(var o=-1,s=Object(t),i=r(t),a=i.length;a--;){var c=i[++o];if(n(s[c],c,s)===!1)break}return t}}var hm=rL();function jg(e,t,n){(n!==void 0&&!ka(e[t],n)||n===void 0&&!(t in e))&&Ma(e,t,n)}function Bg(e){return Vn(e)&&kr(e)}function Vg(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function oL(e){return bo(e,Ia(e))}function sL(e,t,n,r,o,s,i){var a=Vg(e,n),c=Vg(t,n),l=i.get(c);if(l){jg(e,n,l);return}var d=s?s(a,c,n+"",e,t,i):void 0,u=d===void 0;if(u){var h=it(c),f=!h&&Hs(c),p=!h&&!f&&Yd(c);d=c,h||f||p?it(a)?d=a:Bg(a)?d=xE(a):f?(u=!1,d=OE(c,!0)):p?(u=!1,d=LE(c,!0)):d=[]:im(c)||zs(c)?(d=a,zs(a)?d=oL(a):(!Gt(a)||Xg(a))&&(d=PE(c))):u=!1}u&&(i.set(c,d),o(d,c,r,s,i),i.delete(c)),jg(e,n,d)}function HE(e,t,n,r,o){e!==t&&hm(t,function(s,i){if(o||(o=new xn),Gt(s))sL(e,t,i,n,HE,r,o);else{var a=r?r(Vg(e,i),s,i+"",e,t,o):void 0;a===void 0&&(a=s),jg(e,i,a)}},Ia)}function fm(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iL="[object Map]",aL="[object Set]",cL=Object.prototype,lL=cL.hasOwnProperty;function pm(e){if(e==null)return!0;if(kr(e)&&(it(e)||typeof e=="string"||typeof e.splice=="function"||Hs(e)||Yd(e)||zs(e)))return!e.length;var t=rn(e);if(t==iL||t==aL)return!e.size;if(Zd(e))return!ME(e).length;for(var n in e)if(lL.call(e,n))return!1;return!0}var J=fN(function(e,t,n){HE(e,t,n)}),dL=1/0,uL=Vs&&1/um(new Vs([,-0]))[1]==dL?function(e){return new Vs(e)}:ZR,hL=200;function GE(e,t,n){var r=-1,o=iN,s=e.length,i=!0,a=[],c=a;if(s>=hL){var l=t?null:uL(e);if(l)return um(l);i=!1,o=VE,c=new Ea}else c=t?[]:a;e:for(;++r<s;){var d=e[r],u=t?t(d):d;if(d=d!==0?d:0,i&&u===u){for(var h=c.length;h--;)if(c[h]===u)continue e;t&&c.push(u),a.push(d)}else o(c,u,n)||(c!==a&&c.push(u),a.push(d))}return a}var fL=Wd(function(e){var t=fm(e);return Bg(t)&&(t=void 0),GE(Aa(e,1,Bg,!0),Na(t))});function Or(e){return e&&e.length?GE(e):[]}function ya(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jd(e){let t,n,r;e.length!==2?(t=ya,n=(a,c)=>ya(e(a),c),r=(a,c)=>e(a)-c):(t=e===ya||e===pL?e:gL,n=e,r=e);function o(a,c,l=0,d=a.length){if(l<d){if(t(c,c)!==0)return d;do{let u=l+d>>>1;n(a[u],c)<0?l=u+1:d=u}while(l<d)}return l}function s(a,c,l=0,d=a.length){if(l<d){if(t(c,c)!==0)return d;do{let u=l+d>>>1;n(a[u],c)<=0?l=u+1:d=u}while(l<d)}return l}function i(a,c,l=0,d=a.length){let u=o(a,c,l,d-1);return u>l&&r(a[u-1],c)>-r(a[u],c)?u-1:u}return{left:o,center:i,right:s}}function gL(){return 0}function mL(e){return e===null?NaN:+e}var vL=Jd(ya),gm=vL.right;Jd(mL).center;function ir(e,t){let n,r;if(t===void 0)for(let o of e)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}var Nd=class extends Map{constructor(t,n=wL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,o]of t)this.set(r,o)}get(t){return super.get(Ux(this,t))}has(t){return super.has(Ux(this,t))}set(t,n){return super.set(yL(this,t),n)}delete(t){return super.delete(bL(this,t))}};function Ux({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function yL({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function bL({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function wL(e){return e!==null&&typeof e=="object"?e.valueOf():e}var xL=Math.sqrt(50),EL=Math.sqrt(10),DL=Math.sqrt(2);function Ld(e,t,n){let r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),s=r/Math.pow(10,o),i=s>=xL?10:s>=EL?5:s>=DL?2:1,a,c,l;return o<0?(l=Math.pow(10,-o)/i,a=Math.round(e*l),c=Math.round(t*l),a/l<e&&++a,c/l>t&&--c,l=-l):(l=Math.pow(10,o)*i,a=Math.round(e/l),c=Math.round(t/l),a*l<e&&++a,c*l>t&&--c),c<a&&.5<=n&&n<2?Ld(e,t,n*2):[a,c,l]}function Qs(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[o,s,i]=r?Ld(t,e,n):Ld(e,t,n);if(!(s>=o))return[];let a=s-o+1,c=new Array(a);if(r)if(i<0)for(let l=0;l<a;++l)c[l]=(s-l)/-i;else for(let l=0;l<a;++l)c[l]=(s-l)*i;else if(i<0)for(let l=0;l<a;++l)c[l]=(o+l)/-i;else for(let l=0;l<a;++l)c[l]=(o+l)*i;return c}function fo(e,t,n){return t=+t,e=+e,n=+n,Ld(e,t,n)[2]}function eu(e,t,n){t=+t,e=+e,n=+n;let r=t<e,o=r?fo(t,e,n):fo(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function tu(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function mm(e,t){let n;for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}var SL={value:()=>{}};function nu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Md(n)}function Md(e){this._=e}function CL(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Md.prototype=nu.prototype={constructor:Md,on:function(e,t){var n=this._,r=CL(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=_L(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=zx(n[o],e.name,t);else if(t==null)for(o in n)n[o]=zx(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Md(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function _L(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function zx(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=SL,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var $g="http://www.w3.org/1999/xhtml",Hx={svg:"http://www.w3.org/2000/svg",xhtml:$g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ru(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Hx.hasOwnProperty(t)?{space:Hx[t],local:e}:e}function TL(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$g&&t.documentElement.namespaceURI===$g?t.createElement(e):t.createElementNS(n,e)}}function ML(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qE(e){var t=ru(e);return(t.local?ML:TL)(t)}function kL(){}function vm(e){return e==null?kL:function(){return this.querySelector(e)}}function IL(e){typeof e!="function"&&(e=vm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=new Array(i),c,l,d=0;d<i;++d)(c=s[d])&&(l=e.call(c,c.__data__,d,s))&&("__data__"in c&&(l.__data__=c.__data__),a[d]=l);return new Rt(r,this._parents)}function OL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function AL(){return[]}function WE(e){return e==null?AL:function(){return this.querySelectorAll(e)}}function RL(e){return function(){return OL(e.apply(this,arguments))}}function NL(e){typeof e=="function"?e=RL(e):e=WE(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],a=i.length,c,l=0;l<a;++l)(c=i[l])&&(r.push(e.call(c,c.__data__,l,i)),o.push(c));return new Rt(r,o)}function ZE(e){return function(){return this.matches(e)}}function YE(e){return function(t){return t.matches(e)}}var LL=Array.prototype.find;function PL(e){return function(){return LL.call(this.children,e)}}function FL(){return this.firstElementChild}function jL(e){return this.select(e==null?FL:PL(typeof e=="function"?e:YE(e)))}var BL=Array.prototype.filter;function VL(){return Array.from(this.children)}function $L(e){return function(){return BL.call(this.children,e)}}function UL(e){return this.selectAll(e==null?VL:$L(typeof e=="function"?e:YE(e)))}function zL(e){typeof e!="function"&&(e=ZE(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=[],c,l=0;l<i;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&a.push(c);return new Rt(r,this._parents)}function XE(e){return new Array(e.length)}function HL(){return new Rt(this._enter||this._groups.map(XE),this._parents)}function Pd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pd.prototype={constructor:Pd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function GL(e){return function(){return e}}function qL(e,t,n,r,o,s){for(var i=0,a,c=t.length,l=s.length;i<l;++i)(a=t[i])?(a.__data__=s[i],r[i]=a):n[i]=new Pd(e,s[i]);for(;i<c;++i)(a=t[i])&&(o[i]=a)}function WL(e,t,n,r,o,s,i){var a,c,l=new Map,d=t.length,u=s.length,h=new Array(d),f;for(a=0;a<d;++a)(c=t[a])&&(h[a]=f=i.call(c,c.__data__,a,t)+"",l.has(f)?o[a]=c:l.set(f,c));for(a=0;a<u;++a)f=i.call(e,s[a],a,s)+"",(c=l.get(f))?(r[a]=c,c.__data__=s[a],l.delete(f)):n[a]=new Pd(e,s[a]);for(a=0;a<d;++a)(c=t[a])&&l.get(h[a])===c&&(o[a]=c)}function ZL(e){return e.__data__}function YL(e,t){if(!arguments.length)return Array.from(this,ZL);var n=t?WL:qL,r=this._parents,o=this._groups;typeof e!="function"&&(e=GL(e));for(var s=o.length,i=new Array(s),a=new Array(s),c=new Array(s),l=0;l<s;++l){var d=r[l],u=o[l],h=u.length,f=XL(e.call(d,d&&d.__data__,l,r)),p=f.length,v=a[l]=new Array(p),g=i[l]=new Array(p),m=c[l]=new Array(h);n(d,u,v,g,m,f,t);for(var w=0,y=0,S,E;w<p;++w)if(S=v[w]){for(w>=y&&(y=w+1);!(E=g[y])&&++y<p;);S._next=E||null}}return i=new Rt(i,r),i._enter=a,i._exit=c,i}function XL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KL(){return new Rt(this._exit||this._groups.map(XE),this._parents)}function QL(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function JL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),a=new Array(o),c=0;c<i;++c)for(var l=n[c],d=r[c],u=l.length,h=a[c]=new Array(u),f,p=0;p<u;++p)(f=l[p]||d[p])&&(h[p]=f);for(;c<o;++c)a[c]=n[c];return new Rt(a,this._parents)}function eP(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function tP(e){e||(e=nP);function t(u,h){return u&&h?e(u.__data__,h.__data__):!u-!h}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],a=i.length,c=o[s]=new Array(a),l,d=0;d<a;++d)(l=i[d])&&(c[d]=l);c.sort(t)}return new Rt(o,this._parents).order()}function nP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rP(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function oP(){return Array.from(this)}function sP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function iP(){let e=0;for(let t of this)++e;return e}function aP(){return!this.node()}function cP(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,a;s<i;++s)(a=o[s])&&e.call(a,a.__data__,s,o);return this}function lP(e){return function(){this.removeAttribute(e)}}function dP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uP(e,t){return function(){this.setAttribute(e,t)}}function hP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function gP(e,t){var n=ru(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?dP:lP:typeof t=="function"?n.local?pP:fP:n.local?hP:uP)(n,t))}function KE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mP(e){return function(){this.style.removeProperty(e)}}function vP(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yP(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bP(e,t,n){return arguments.length>1?this.each((t==null?mP:typeof t=="function"?yP:vP)(e,t,n??"")):qs(this.node(),e)}function qs(e,t){return e.style.getPropertyValue(t)||KE(e).getComputedStyle(e,null).getPropertyValue(t)}function wP(e){return function(){delete this[e]}}function xP(e,t){return function(){this[e]=t}}function EP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function DP(e,t){return arguments.length>1?this.each((t==null?wP:typeof t=="function"?EP:xP)(e,t)):this.node()[e]}function QE(e){return e.trim().split(/^|\s+/)}function ym(e){return e.classList||new JE(e)}function JE(e){this._node=e,this._names=QE(e.getAttribute("class")||"")}JE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function e2(e,t){for(var n=ym(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function t2(e,t){for(var n=ym(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function SP(e){return function(){e2(this,e)}}function CP(e){return function(){t2(this,e)}}function _P(e,t){return function(){(t.apply(this,arguments)?e2:t2)(this,e)}}function TP(e,t){var n=QE(e+"");if(arguments.length<2){for(var r=ym(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?_P:t?SP:CP)(n,t))}function MP(){this.textContent=""}function kP(e){return function(){this.textContent=e}}function IP(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function OP(e){return arguments.length?this.each(e==null?MP:(typeof e=="function"?IP:kP)(e)):this.node().textContent}function AP(){this.innerHTML=""}function RP(e){return function(){this.innerHTML=e}}function NP(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function LP(e){return arguments.length?this.each(e==null?AP:(typeof e=="function"?NP:RP)(e)):this.node().innerHTML}function PP(){this.nextSibling&&this.parentNode.appendChild(this)}function FP(){return this.each(PP)}function jP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function BP(){return this.each(jP)}function VP(e){var t=typeof e=="function"?e:qE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $P(){return null}function UP(e,t){var n=typeof e=="function"?e:qE(e),r=t==null?$P:typeof t=="function"?t:vm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zP(){var e=this.parentNode;e&&e.removeChild(this)}function HP(){return this.each(zP)}function GP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function WP(e){return this.select(e?qP:GP)}function ZP(e){return arguments.length?this.property("__data__",e):this.node().__data__}function YP(e){return function(t){e.call(this,t,this.__data__)}}function XP(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function KP(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function QP(e,t,n){return function(){var r=this.__on,o,s=YP(t);if(r){for(var i=0,a=r.length;i<a;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function JP(e,t,n){var r=XP(e+""),o,s=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,d;c<l;++c)for(o=0,d=a[c];o<s;++o)if((i=r[o]).type===d.type&&i.name===d.name)return d.value}return}for(a=t?QP:KP,o=0;o<s;++o)this.each(a(r[o],t,n));return this}function n2(e,t,n){var r=KE(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function eF(e,t){return function(){return n2(this,e,t)}}function tF(e,t){return function(){return n2(this,e,t.apply(this,arguments))}}function nF(e,t){return this.each((typeof t=="function"?tF:eF)(e,t))}function*rF(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var bm=[null];function Rt(e,t){this._groups=e,this._parents=t}function La(){return new Rt([[document.documentElement]],bm)}function oF(){return this}Rt.prototype=La.prototype={constructor:Rt,select:IL,selectAll:NL,selectChild:jL,selectChildren:UL,filter:zL,data:YL,enter:HL,exit:KL,join:QL,merge:JL,selection:oF,order:eP,sort:tP,call:rP,nodes:oP,node:sP,size:iP,empty:aP,each:cP,attr:gP,style:bP,property:DP,classed:TP,text:OP,html:LP,raise:FP,lower:BP,append:VP,insert:UP,remove:HP,clone:WP,datum:ZP,on:JP,dispatch:nF,[Symbol.iterator]:rF};function sF(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ar(e,t){if(e=sF(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}function wm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function r2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pa(){}var Da=.7,Fd=1/Da,Us="\\s*([+-]?\\d+)\\s*",Sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iF=/^#([0-9a-f]{3,8})$/,aF=new RegExp(`^rgb\\(${Us},${Us},${Us}\\)$`),cF=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),lF=new RegExp(`^rgba\\(${Us},${Us},${Us},${Sa}\\)$`),dF=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Sa}\\)$`),uF=new RegExp(`^hsl\\(${Sa},${Bn},${Bn}\\)$`),hF=new RegExp(`^hsla\\(${Sa},${Bn},${Bn},${Sa}\\)$`),Gx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wm(Pa,Mr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qx,formatHex:qx,formatHex8:fF,formatHsl:pF,formatRgb:Wx,toString:Wx});function qx(){return this.rgb().formatHex()}function fF(){return this.rgb().formatHex8()}function pF(){return o2(this).formatHsl()}function Wx(){return this.rgb().formatRgb()}function Mr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zx(t):n===3?new At(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aF.exec(e))?new At(t[1],t[2],t[3],1):(t=cF.exec(e))?new At(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lF.exec(e))?Dd(t[1],t[2],t[3],t[4]):(t=dF.exec(e))?Dd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uF.exec(e))?Kx(t[1],t[2]/100,t[3]/100,1):(t=hF.exec(e))?Kx(t[1],t[2]/100,t[3]/100,t[4]):Gx.hasOwnProperty(e)?Zx(Gx[e]):e==="transparent"?new At(NaN,NaN,NaN,0):null}function Zx(e){return new At(e>>16&255,e>>8&255,e&255,1)}function Dd(e,t,n,r){return r<=0&&(e=t=n=NaN),new At(e,t,n,r)}function gF(e){return e instanceof Pa||(e=Mr(e)),e?(e=e.rgb(),new At(e.r,e.g,e.b,e.opacity)):new At}function Ug(e,t,n,r){return arguments.length===1?gF(e):new At(e,t,n,r??1)}function At(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wm(At,Ug,r2(Pa,{brighter(e){return e=e==null?Fd:Math.pow(Fd,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Da:Math.pow(Da,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new At(uo(this.r),uo(this.g),uo(this.b),jd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yx,formatHex:Yx,formatHex8:mF,formatRgb:Xx,toString:Xx}));function Yx(){return`#${lo(this.r)}${lo(this.g)}${lo(this.b)}`}function mF(){return`#${lo(this.r)}${lo(this.g)}${lo(this.b)}${lo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xx(){let e=jd(this.opacity);return`${e===1?"rgb(":"rgba("}${uo(this.r)}, ${uo(this.g)}, ${uo(this.b)}${e===1?")":`, ${e})`}`}function jd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lo(e){return e=uo(e),(e<16?"0":"")+e.toString(16)}function Kx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wn(e,t,n,r)}function o2(e){if(e instanceof wn)return new wn(e.h,e.s,e.l,e.opacity);if(e instanceof Pa||(e=Mr(e)),!e)return new wn;if(e instanceof wn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,a=s-o,c=(s+o)/2;return a?(t===s?i=(n-r)/a+(n<r)*6:n===s?i=(r-t)/a+2:i=(t-n)/a+4,a/=c<.5?s+o:2-s-o,i*=60):a=c>0&&c<1?0:i,new wn(i,a,c,e.opacity)}function s2(e,t,n,r){return arguments.length===1?o2(e):new wn(e,t,n,r??1)}function wn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wm(wn,s2,r2(Pa,{brighter(e){return e=e==null?Fd:Math.pow(Fd,e),new wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Da:Math.pow(Da,e),new wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new At(Ag(e>=240?e-240:e+120,o,r),Ag(e,o,r),Ag(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new wn(Qx(this.h),Sd(this.s),Sd(this.l),jd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=jd(this.opacity);return`${e===1?"hsl(":"hsla("}${Qx(this.h)}, ${Sd(this.s)*100}%, ${Sd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qx(e){return e=(e||0)%360,e<0?e+360:e}function Sd(e){return Math.max(0,Math.min(1,e||0))}function Ag(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var xm=e=>()=>e;function vF(e,t){return function(n){return e+n*t}}function yF(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bF(e){return(e=+e)==1?i2:function(t,n){return n-t?yF(t,n,e):xm(isNaN(t)?n:t)}}function i2(e,t){var n=t-e;return n?vF(e,n):xm(isNaN(e)?t:e)}var Bd=function e(t){var n=bF(t);function r(o,s){var i=n((o=Ug(o)).r,(s=Ug(s)).r),a=n(o.g,s.g),c=n(o.b,s.b),l=i2(o.opacity,s.opacity);return function(d){return o.r=i(d),o.g=a(d),o.b=c(d),o.opacity=l(d),o+""}}return r.gamma=e,r}(1);function wF(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(s){for(o=0;o<n;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function xF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function EF(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),s=new Array(n),i;for(i=0;i<r;++i)o[i]=Fa(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(a){for(i=0;i<r;++i)s[i]=o[i](a);return s}}function DF(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function on(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function SF(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Fa(e[o],t[o]):r[o]=t[o];return function(s){for(o in n)r[o]=n[o](s);return r}}var zg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rg=new RegExp(zg.source,"g");function CF(e){return function(){return e}}function _F(e){return function(t){return e(t)+""}}function a2(e,t){var n=zg.lastIndex=Rg.lastIndex=0,r,o,s,i=-1,a=[],c=[];for(e=e+"",t=t+"";(r=zg.exec(e))&&(o=Rg.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(r=r[0])===(o=o[0])?a[i]?a[i]+=o:a[++i]=o:(a[++i]=null,c.push({i,x:on(r,o)})),n=Rg.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?c[0]?_F(c[0].x):CF(t):(t=c.length,function(l){for(var d=0,u;d<t;++d)a[(u=c[d]).i]=u.x(l);return a.join("")})}function Fa(e,t){var n=typeof t,r;return t==null||n==="boolean"?xm(t):(n==="number"?on:n==="string"?(r=Mr(t))?(t=r,Bd):a2:t instanceof Mr?Bd:t instanceof Date?DF:xF(t)?wF:Array.isArray(t)?EF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SF:on)(e,t)}function c2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Jx=180/Math.PI,l2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function d2(e,t,n,r,o,s){var i,a,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*Jx,skewX:Math.atan(c)*Jx,scaleX:i,scaleY:a}}var Cd;function TF(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?l2:d2(t.a,t.b,t.c,t.d,t.e,t.f)}function MF(e){return e==null||(Cd||(Cd=document.createElementNS("http://www.w3.org/2000/svg","g")),Cd.setAttribute("transform",e),!(e=Cd.transform.baseVal.consolidate()))?l2:(e=e.matrix,d2(e.a,e.b,e.c,e.d,e.e,e.f))}function u2(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function s(l,d,u,h,f,p){if(l!==u||d!==h){var v=f.push("translate(",null,t,null,n);p.push({i:v-4,x:on(l,u)},{i:v-2,x:on(d,h)})}else(u||h)&&f.push("translate("+u+t+h+n)}function i(l,d,u,h){l!==d?(l-d>180?d+=360:d-l>180&&(l+=360),h.push({i:u.push(o(u)+"rotate(",null,r)-2,x:on(l,d)})):d&&u.push(o(u)+"rotate("+d+r)}function a(l,d,u,h){l!==d?h.push({i:u.push(o(u)+"skewX(",null,r)-2,x:on(l,d)}):d&&u.push(o(u)+"skewX("+d+r)}function c(l,d,u,h,f,p){if(l!==u||d!==h){var v=f.push(o(f)+"scale(",null,",",null,")");p.push({i:v-4,x:on(l,u)},{i:v-2,x:on(d,h)})}else(u!==1||h!==1)&&f.push(o(f)+"scale("+u+","+h+")")}return function(l,d){var u=[],h=[];return l=e(l),d=e(d),s(l.translateX,l.translateY,d.translateX,d.translateY,u,h),i(l.rotate,d.rotate,u,h),a(l.skewX,d.skewX,u,h),c(l.scaleX,l.scaleY,d.scaleX,d.scaleY,u,h),l=d=null,function(f){for(var p=-1,v=h.length,g;++p<v;)u[(g=h[p]).i]=g.x(f);return u.join("")}}}var kF=u2(TF,"px, ","px)","deg)"),IF=u2(MF,", ",")",")"),Ws=0,pa=0,ha=0,h2=1e3,Vd,ga,$d=0,po=0,ou=0,Ca=typeof performance=="object"&&performance.now?performance:Date,f2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Em(){return po||(f2(OF),po=Ca.now()+ou)}function OF(){po=0}function Ud(){this._call=this._time=this._next=null}Ud.prototype=p2.prototype={constructor:Ud,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Em():+n)+(t==null?0:+t),!this._next&&ga!==this&&(ga?ga._next=this:Vd=this,ga=this),this._call=e,this._time=n,Hg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hg())}};function p2(e,t,n){var r=new Ud;return r.restart(e,t,n),r}function AF(){Em(),++Ws;for(var e=Vd,t;e;)(t=po-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ws}function eE(){po=($d=Ca.now())+ou,Ws=pa=0;try{AF()}finally{Ws=0,NF(),po=0}}function RF(){var e=Ca.now(),t=e-$d;t>h2&&(ou-=t,$d=e)}function NF(){for(var e,t=Vd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vd=n);ga=e,Hg(r)}function Hg(e){if(!Ws){pa&&(pa=clearTimeout(pa));var t=e-po;t>24?(e<1/0&&(pa=setTimeout(eE,e-Ca.now()-ou)),ha&&(ha=clearInterval(ha))):(ha||($d=Ca.now(),ha=setInterval(RF,h2)),Ws=1,f2(eE))}}function tE(e,t,n){var r=new Ud;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var LF=nu("start","end","cancel","interrupt"),PF=[],g2=0,nE=1,Gg=2,kd=3,rE=4,qg=5,Id=6;function su(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;FF(e,n,{name:t,index:r,group:o,on:LF,tween:PF,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:g2})}function Dm(e,t){var n=En(e,t);if(n.state>g2)throw new Error("too late; already scheduled");return n}function $n(e,t){var n=En(e,t);if(n.state>kd)throw new Error("too late; already running");return n}function En(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function FF(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=p2(s,0,n.time);function s(l){n.state=nE,n.timer.restart(i,n.delay,n.time),n.delay<=l&&i(l-n.delay)}function i(l){var d,u,h,f;if(n.state!==nE)return c();for(d in r)if(f=r[d],f.name===n.name){if(f.state===kd)return tE(i);f.state===rE?(f.state=Id,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[d]):+d<t&&(f.state=Id,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[d])}if(tE(function(){n.state===kd&&(n.state=rE,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Gg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Gg){for(n.state=kd,o=new Array(h=n.tween.length),d=0,u=-1;d<h;++d)(f=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=f);o.length=u+1}}function a(l){for(var d=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=qg,1),u=-1,h=o.length;++u<h;)o[u].call(e,d);n.state===qg&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Id,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function iu(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>Gg&&r.state<qg,r.state=Id,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function jF(e){return this.each(function(){iu(this,e)})}function BF(e,t){var n,r;return function(){var o=$n(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function VF(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=$n(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var a={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=a;break}c===l&&o.push(a)}s.tween=o}}function $F(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=En(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?BF:VF)(n,e,t))}function Sm(e,t,n){var r=e._id;return e.each(function(){var o=$n(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return En(o,r).value[t]}}function m2(e,t){var n;return(typeof t=="number"?on:t instanceof Mr?Bd:(n=Mr(t))?(t=n,Bd):a2)(e,t)}function UF(e){return function(){this.removeAttribute(e)}}function zF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HF(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function GF(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function qF(e,t,n){var r,o,s;return function(){var i,a=n(this),c;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=a+"",i===c?null:i===r&&c===o?s:(o=c,s=t(r=i,a)))}}function WF(e,t,n){var r,o,s;return function(){var i,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=a+"",i===c?null:i===r&&c===o?s:(o=c,s=t(r=i,a)))}}function ZF(e,t){var n=ru(e),r=n==="transform"?IF:m2;return this.attrTween(e,typeof t=="function"?(n.local?WF:qF)(n,r,Sm(this,"attr."+e,t)):t==null?(n.local?zF:UF)(n):(n.local?GF:HF)(n,r,t))}function YF(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function XF(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function KF(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&XF(e,s)),n}return o._value=t,o}function QF(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&YF(e,s)),n}return o._value=t,o}function JF(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ru(e);return this.tween(n,(r.local?KF:QF)(r,t))}function e8(e,t){return function(){Dm(this,e).delay=+t.apply(this,arguments)}}function t8(e,t){return t=+t,function(){Dm(this,e).delay=t}}function n8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?e8:t8)(t,e)):En(this.node(),t).delay}function r8(e,t){return function(){$n(this,e).duration=+t.apply(this,arguments)}}function o8(e,t){return t=+t,function(){$n(this,e).duration=t}}function s8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?r8:o8)(t,e)):En(this.node(),t).duration}function i8(e,t){if(typeof t!="function")throw new Error;return function(){$n(this,e).ease=t}}function a8(e){var t=this._id;return arguments.length?this.each(i8(t,e)):En(this.node(),t).ease}function c8(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$n(this,e).ease=n}}function l8(e){if(typeof e!="function")throw new Error;return this.each(c8(this._id,e))}function d8(e){typeof e!="function"&&(e=ZE(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=[],c,l=0;l<i;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&a.push(c);return new rr(r,this._parents,this._name,this._id)}function u8(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),a=0;a<s;++a)for(var c=t[a],l=n[a],d=c.length,u=i[a]=new Array(d),h,f=0;f<d;++f)(h=c[f]||l[f])&&(u[f]=h);for(;a<r;++a)i[a]=t[a];return new rr(i,this._parents,this._name,this._id)}function h8(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function f8(e,t,n){var r,o,s=h8(t)?Dm:$n;return function(){var i=s(this,e),a=i.on;a!==r&&(o=(r=a).copy()).on(t,n),i.on=o}}function p8(e,t){var n=this._id;return arguments.length<2?En(this.node(),n).on.on(e):this.each(f8(n,e,t))}function g8(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function m8(){return this.on("end.remove",g8(this._id))}function v8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vm(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var a=r[i],c=a.length,l=s[i]=new Array(c),d,u,h=0;h<c;++h)(d=a[h])&&(u=e.call(d,d.__data__,h,a))&&("__data__"in d&&(u.__data__=d.__data__),l[h]=u,su(l[h],t,n,h,l,En(d,n)));return new rr(s,this._parents,t,n)}function y8(e){var t=this._name,n=this._id;typeof e!="function"&&(e=WE(e));for(var r=this._groups,o=r.length,s=[],i=[],a=0;a<o;++a)for(var c=r[a],l=c.length,d,u=0;u<l;++u)if(d=c[u]){for(var h=e.call(d,d.__data__,u,c),f,p=En(d,n),v=0,g=h.length;v<g;++v)(f=h[v])&&su(f,t,n,v,h,p);s.push(h),i.push(d)}return new rr(s,i,t,n)}var b8=La.prototype.constructor;function w8(){return new b8(this._groups,this._parents)}function x8(e,t){var n,r,o;return function(){var s=qs(this,e),i=(this.style.removeProperty(e),qs(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function v2(e){return function(){this.style.removeProperty(e)}}function E8(e,t,n){var r,o=n+"",s;return function(){var i=qs(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function D8(e,t,n){var r,o,s;return function(){var i=qs(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),qs(this,e))),i===c?null:i===r&&c===o?s:(o=c,s=t(r=i,a))}}function S8(e,t){var n,r,o,s="style."+t,i="end."+s,a;return function(){var c=$n(this,e),l=c.on,d=c.value[s]==null?a||(a=v2(t)):void 0;(l!==n||o!==d)&&(r=(n=l).copy()).on(i,o=d),c.on=r}}function C8(e,t,n){var r=(e+="")=="transform"?kF:m2;return t==null?this.styleTween(e,x8(e,r)).on("end.style."+e,v2(e)):typeof t=="function"?this.styleTween(e,D8(e,r,Sm(this,"style."+e,t))).each(S8(this._id,e)):this.styleTween(e,E8(e,r,t),n).on("end.style."+e,null)}function _8(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function T8(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&_8(e,i,n)),r}return s._value=t,s}function M8(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,T8(e,t,n??""))}function k8(e){return function(){this.textContent=e}}function I8(e){return function(){var t=e(this);this.textContent=t??""}}function O8(e){return this.tween("text",typeof e=="function"?I8(Sm(this,"text",e)):k8(e==null?"":e+""))}function A8(e){return function(t){this.textContent=e.call(this,t)}}function R8(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&A8(o)),t}return r._value=e,r}function N8(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,R8(e))}function L8(){for(var e=this._name,t=this._id,n=y2(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],a=i.length,c,l=0;l<a;++l)if(c=i[l]){var d=En(c,t);su(c,e,n,l,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new rr(r,this._parents,e,n)}function P8(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var a={value:i},c={value:function(){--o===0&&s()}};n.each(function(){var l=$n(this,r),d=l.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),l.on=t}),o===0&&s()})}var F8=0;function rr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function y2(){return++F8}var nr=La.prototype;rr.prototype={constructor:rr,select:v8,selectAll:y8,selectChild:nr.selectChild,selectChildren:nr.selectChildren,filter:d8,merge:u8,selection:w8,transition:L8,call:nr.call,nodes:nr.nodes,node:nr.node,size:nr.size,empty:nr.empty,each:nr.each,on:p8,attr:ZF,attrTween:JF,style:C8,styleTween:M8,text:O8,textTween:N8,remove:m8,tween:$F,delay:n8,duration:s8,ease:a8,easeVarying:l8,end:P8,[Symbol.iterator]:nr[Symbol.iterator]};function b2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var j8={time:null,delay:0,duration:250,ease:b2};function B8(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function V8(e){var t,n;e instanceof rr?(t=e._id,e=e._name):(t=y2(),(n=j8).time=Em(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],a=i.length,c,l=0;l<a;++l)(c=i[l])&&su(c,e,t,l,i,n||B8(c,t));return new rr(r,this._parents,e,t)}La.prototype.interrupt=jF;La.prototype.transition=V8;function $8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zs(e){return e=zd(Math.abs(e)),e?e[1]:NaN}function U8(e,t){return function(n,r){for(var o=n.length,s=[],i=0,a=e[0],c=0;o>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(o-=a,o+a)),!((c+=a+1)>r));)a=e[i=(i+1)%e.length];return s.reverse().join(t)}}function z8(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var H8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ys(e){if(!(t=H8.exec(e)))throw new Error("invalid format: "+e);var t;return new Cm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ys.prototype=Cm.prototype;function Cm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G8(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var w2;function q8(e,t){var n=zd(e,t);if(!n)return e+"";var r=n[0],o=n[1],s=o-(w2=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=r.length;return s===i?r:s>i?r+new Array(s-i+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+zd(e,Math.max(0,t+s-1))[0]}function oE(e,t){var n=zd(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var sE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oE(e*100,t),r:oE,s:q8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iE(e){return e}var aE=Array.prototype.map,cE=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function W8(e){var t=e.grouping===void 0||e.thousands===void 0?iE:U8(aE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?iE:z8(aE.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(u){u=Ys(u);var h=u.fill,f=u.align,p=u.sign,v=u.symbol,g=u.zero,m=u.width,w=u.comma,y=u.precision,S=u.trim,E=u.type;E==="n"?(w=!0,E="g"):sE[E]||(y===void 0&&(y=12),S=!0,E="g"),(g||h==="0"&&f==="=")&&(g=!0,h="0",f="=");var D=v==="$"?n:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",C=v==="$"?r:/[%p]/.test(E)?i:"",T=sE[E],A=/[defgprs%]/.test(E);y=y===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function M(I){var W=D,N=C,U,Ie,me;if(E==="c")N=T(I)+N,I="";else{I=+I;var q=I<0||1/I<0;if(I=isNaN(I)?c:T(Math.abs(I),y),S&&(I=G8(I)),q&&+I==0&&p!=="+"&&(q=!1),W=(q?p==="("?p:a:p==="-"||p==="("?"":p)+W,N=(E==="s"?cE[8+w2/3]:"")+N+(q&&p==="("?")":""),A){for(U=-1,Ie=I.length;++U<Ie;)if(me=I.charCodeAt(U),48>me||me>57){N=(me===46?o+I.slice(U+1):I.slice(U))+N,I=I.slice(0,U);break}}}w&&!g&&(I=t(I,1/0));var _e=W.length+I.length+N.length,ne=_e<m?new Array(m-_e+1).join(h):"";switch(w&&g&&(I=t(ne+I,ne.length?m-N.length:1/0),ne=""),f){case"<":I=W+I+N+ne;break;case"=":I=W+ne+I+N;break;case"^":I=ne.slice(0,_e=ne.length>>1)+W+I+N+ne.slice(_e);break;default:I=ne+W+I+N;break}return s(I)}return M.toString=function(){return u+""},M}function d(u,h){var f=l((u=Ys(u),u.type="f",u)),p=Math.max(-8,Math.min(8,Math.floor(Zs(h)/3)))*3,v=Math.pow(10,-p),g=cE[8+p/3];return function(m){return f(v*m)+g}}return{format:l,formatPrefix:d}}var _d,au,x2;Z8({thousands:",",grouping:[3],currency:["$",""]});function Z8(e){return _d=W8(e),au=_d.format,x2=_d.formatPrefix,_d}function Y8(e){return Math.max(0,-Zs(Math.abs(e)))}function X8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zs(t)/3)))*3-Zs(Math.abs(e)))}function K8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zs(t)-Zs(e))+1}function Eo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var lE=Symbol("implicit");function ja(){var e=new Nd,t=[],n=[],r=lE;function o(s){let i=e.get(s);if(i===void 0){if(r!==lE)return r;e.set(s,i=t.push(s)-1)}return n[i%n.length]}return o.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Nd;for(let i of s)e.has(i)||e.set(i,t.push(i)-1);return o},o.range=function(s){return arguments.length?(n=Array.from(s),o):n.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return ja(t,n).unknown(r)},Eo.apply(o,arguments),o}function Q8(e){return function(){return e}}function J8(e){return+e}var dE=[0,1];function js(e){return e}function Wg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Q8(isNaN(t)?NaN:.5)}function e6(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function t6(e,t,n){var r=e[0],o=e[1],s=t[0],i=t[1];return o<r?(r=Wg(o,r),s=n(i,s)):(r=Wg(r,o),s=n(s,i)),function(a){return s(r(a))}}function n6(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),s=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=Wg(e[i],e[i+1]),s[i]=n(t[i],t[i+1]);return function(a){var c=gm(e,a,1,r)-1;return s[c](o[c](a))}}function Ba(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _m(){var e=dE,t=dE,n=Fa,r,o,s,i=js,a,c,l;function d(){var h=Math.min(e.length,t.length);return i!==js&&(i=e6(e[0],e[h-1])),a=h>2?n6:t6,c=l=null,u}function u(h){return h==null||isNaN(h=+h)?s:(c||(c=a(e.map(r),t,n)))(r(i(h)))}return u.invert=function(h){return i(o((l||(l=a(t,e.map(r),on)))(h)))},u.domain=function(h){return arguments.length?(e=Array.from(h,J8),d()):e.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),n=c2,d()},u.clamp=function(h){return arguments.length?(i=h?!0:js,d()):i!==js},u.interpolate=function(h){return arguments.length?(n=h,d()):n},u.unknown=function(h){return arguments.length?(s=h,u):s},function(h,f){return r=h,o=f,d()}}function Tm(){return _m()(js,js)}function r6(e,t,n,r){var o=eu(e,t,n),s;switch(r=Ys(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=X8(o,i))&&(r.precision=s),x2(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=K8(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Y8(o))&&(r.precision=s-(r.type==="%")*2);break}}return au(r)}function o6(e){var t=e.domain;return e.ticks=function(n){var r=t();return Qs(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return r6(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,s=r.length-1,i=r[o],a=r[s],c,l,d=10;for(a<i&&(l=i,i=a,a=l,l=o,o=s,s=l);d-- >0;){if(l=fo(i,a,n),l===c)return r[o]=i,r[s]=a,t(r);if(l>0)i=Math.floor(i/l)*l,a=Math.ceil(a/l)*l;else if(l<0)i=Math.ceil(i*l)/l,a=Math.floor(a*l)/l;else break;c=l}return e},e}function Do(){var e=Tm();return e.copy=function(){return Ba(e,Do())},Eo.apply(e,arguments),o6(e)}function ma(e,t,n){this.k=e,this.x=t,this.y=n}ma.prototype={constructor:ma,scale:function(e){return e===1?this:new ma(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ma(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ma.prototype;var ft="cds",Dn={opacity:{unselected:.05,selected:.4}},Sn={ticks:{number:7,rotateIfSmallerThan:30,verticalSpaceRatio:2.5,horizontalSpaceRatio:3.5},ratio:{reference:"value",compareTo:"marker"},paddingRatio:.1,hover:{rectanglePadding:4}},Va={duration:1e3,ease:b2,zoomLevel:3},Mm={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},depth:2},km={pairingOptions:{"1-color":4,"2-color":5,"3-color":5,"4-color":3,"5-color":2,"14-color":1}};var Im={defaultBins:10},Je={items:{status:{ACTIVE:1,DISABLED:0},horizontalSpace:12,verticalSpace:24,textYOffset:8,spaceAfter:4},checkbox:{radius:6.5},radius:{iconData:[{cx:7,cy:7,r:6.5},{cx:7,cy:10,r:3.5}],fill:null,stroke:"#8c8c8c"},line:{yPosition:6,width:24,strokeWidth:1.4,fill:null,stroke:"#999999"},area:{width:24,height:14,fill:"#6f6f6f",stroke:null},size:{iconData:[{width:23,height:12},{width:13,height:6}],fill:null,stroke:"#8D8D8D"},quartile:{iconData:[{x:0,y:0,width:24,height:13},{x:11,y:4,width:1,height:4}]},zoom:{iconData:[{x:0,y:0,width:12,height:12}],color:"#8D8D8D"},color:{barWidth:300,barHeight:8,axisYTranslation:10}},$a={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}};var So={radiusOffset:-15,innerRadius:2,padAngle:.007,hoverArc:{outerRadiusOffset:3},xOffset:30,yOffset:20,yOffsetCallout:10,callout:{minSliceDegree:5,offsetX:15,offsetY:12,horizontalLineLength:8,textMargin:2}};var cu={default:{size:24}},lu={defaultOffset:4,horizontalOffset:10},du={default:{duration:300},pie_slice_mouseover:{duration:100},pie_slice_mouseout:{duration:100},pie_chart_titles:{duration:375},graph_element_mouseover_fill_update:{duration:100},graph_element_mouseout_fill_update:{duration:100}};var yt={height:{[Ot.GRAPH_VIEW]:32,[Ot.SLIDER_VIEW]:10},spacerHeight:8,handleWidth:5,handleBarWidth:1,handleBarHeight:12},E2=[{type:ze.RADIUS,name:"Radius"},{type:ze.AREA,name:"Poor area"},{type:ze.AREA,name:"Satisfactory area"},{type:ze.AREA,name:"Great area"},{type:ze.QUARTILE,name:"Quartiles"}],Bs={type:_t.END_LINE,threshold:16,numCharacter:14},s6={code:typeof navigator<"u"&&navigator?.language||"en-US",number:(e,t=navigator?.language||"en-US")=>e.toLocaleString(t),date:(e,t=navigator?.language||"en-US",n={},r=null)=>r||e.toLocaleDateString(t,n),time:(e,t=navigator?.language||"en-US",n={},r=null)=>r||e.toLocaleTimeString(t,n),optionsObject:{"15seconds":{primary:{"MMM d, pp":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hourCycle:"h12"},"MMM d, h:mm:ss.SSS a":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",fractionalSecondDigits:3,hourCycle:"h12"}},secondary:{pp:{hour:"numeric",minute:"2-digit",second:"2-digit",hourCycle:"h12"},"h:mm:ss.SSS a":{hour:"numeric",minute:"2-digit",fractionalSecondDigits:3,hourCycle:"h12"}},type:"time"},minute:{primary:{"MMM d, p":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hourCycle:"h12"}},secondary:{p:{hour:"numeric",minute:"2-digit",hourCycle:"h12"}},type:"time"},"30minutes":{primary:{"MMM d, p":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hourCycle:"h12"}},secondary:{p:{hour:"numeric",minute:"2-digit",hourCycle:"h12"}},type:"time"},hourly:{primary:{"MMM d, hh a":{month:"short",day:"numeric",hour:"2-digit",hourCycle:"h12"}},secondary:{"hh a":{hour:"2-digit",hourCycle:"h12"}},type:"time"},daily:{primary:{"MMM d":{month:"short",day:"numeric"}},secondary:{d:{day:"numeric"}},type:"date"},weekly:{primary:{"eee, MMM d":{weekday:"short",month:"short",day:"numeric"}},secondary:{eee:{weekday:"short"}},type:"date"},monthly:{primary:{"MMM yyyy":{month:"short",year:"numeric"}},secondary:{MMM:{month:"short"}},type:"date"},quarterly:{primary:{},secondary:{},type:"date"},yearly:{primary:{yyyy:{year:"numeric"}},secondary:{yyyy:{year:"numeric"}},type:"date"}},translations:{group:"Group",total:"Total",meter:{title:""},tabularRep:{title:"Tabular representation",downloadAsCSV:"Download as CSV"},toolbar:{exportAsCSV:"Export to CSV",exportAsJPG:"Export to JPG",exportAsPNG:"Export to PNG",zoomIn:"Zoom in",zoomOut:"Zoom out",resetZoom:"Reset zoom",moreOptions:"More options",makeFullScreen:"Make fullscreen",exitFullScreen:"Exit fullscreen",showAsTable:"Show as table"}}},i6={enabled:!0,position:Sr.BOTTOM,clickable:!0,truncation:Bs,alignment:Tt.LEFT,order:null,additionalItems:[]},D2={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},S2={enabled:!0},Om={enabled:!0,showTotal:!0,truncation:Bs,groupLabel:"Group"},C2={top:{visible:!0,includeZero:!0,truncation:Bs},bottom:{visible:!0,includeZero:!0,truncation:Bs},left:{visible:!0,includeZero:!0,truncation:Bs},right:{visible:!0,includeZero:!0,truncation:Bs}},Ua={addSpaceOnEdges:1,showDayName:!1,localeObject:vE,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}},_2=!1;try{_2=typeof document<"u"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}catch(e){console.warn("Fullscreen capabilities check failed: ",e.message)}var vt={width:null,height:null,resizable:!0,theme:ca.WHITE,tooltip:Om,legend:i6,locale:s6,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:[{type:we.SHOW_AS_DATATABLE},..._2?[{type:we.MAKE_FULLSCREEN}]:[],{type:we.EXPORT_CSV},{type:we.EXPORT_PNG},{type:we.EXPORT_JPG}]}},T2=J({},vt,{thematic:{projection:Ps.geoNaturalEarth1}}),za=J({},vt,{axes:C2,timeScale:Ua,grid:D2,ruler:S2,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:Ot.GRAPH_VIEW}}}),go=J({},za,{bars:{maxWidth:16,spacingFactor:.25},timeScale:J(Ua,{addSpaceOnEdges:1})}),a6=J({},go,{}),c6=J({},go,{}),l6=J({},go,{bars:J({},go.bars,{dividerSize:1.5})}),d6=J({},go,{}),Am=J({},za,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),u6=Am,M2=J({},Am,{points:{radius:3,filled:!1,enabled:!0}}),k2=J({},M2,{timeScale:J(Ua,{addSpaceOnEdges:0})}),h6=k2,f6=J({},za,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:e=>{let t=Math.min(e.width,e.height);return[t*3/400,t*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:ze.RADIUS,name:"Radius"}]}}),p6=J({},za,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:ze.AREA,name:"Poor area"},{type:ze.AREA,name:"Satisfactory area"},{type:ze.AREA,name:"Great area"},{type:ze.QUARTILE,name:"Quartiles"}]}}),g6=J({},go,{bars:{dividerSize:1.5},timeScale:J(Ua,{addSpaceOnEdges:0})}),m6=J({},vt,{tooltip:J({},Om,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:e=>{let t=Math.min(e.width,e.height);return[t*20/400,t*75/400]},wordMapsTo:"word"}}),I2=J({},vt,{pie:{labels:{formatter:null,enabled:!0},alignment:Tt.LEFT,sortFunction:null,valueMapsTo:"value"}}),v6=J({},vt,{legend:{enabled:!1},gauge:{type:Rs.SEMI,arcWidth:16,deltaArrow:{size:e=>e/8,enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:e=>e/8,valueFontSize:e=>e/2.5,alignment:Tt.LEFT}}),y6=J({},I2,{donut:{center:{numberFontSize:e=>`${Math.min(e/100*24,24)}px`,titleFontSize:e=>`${Math.min(e/100*15,15)}px`,titleYPosition:e=>Math.min(e/80*20,20)},alignment:Tt.LEFT}}),O2=J({},vt,{legend:{enabled:!1,clickable:!1},meter:{showLabels:!0,proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}}),b6=J({},O2,{legend:{enabled:!0}}),w6=J({},vt,{radar:{axes:{angle:"key",value:"value"},alignment:Tt.LEFT},tooltip:{gridline:{enabled:!0}}}),x6=J({},go,{comboChartTypes:[]}),E6=J({tree:{type:As.TREE}},vt,{}),D6=J({},vt,{data:J(vt.data,{groupMapsTo:"name"})}),S6=J({},vt,Mm,{data:J(vt.data,{groupMapsTo:"name"})}),C6=J({},vt,{alluvial:{data:J(vt.data,{groupMapsTo:"source"}),nodeAlignment:Tt.CENTER,nodePadding:24,monochrome:!1,nodes:[]}}),_6=J({},vt,{axes:C2,heatmap:{divider:{state:Ls.AUTO},colorLegend:{type:"linear"}}}),T6=J({},T2,{choropleth:{colorLegend:{type:"linear"}}}),A2={alluvialChart:C6,areaChart:k2,axisChart:za,boxplotChart:d6,bubbleChart:f6,bulletChart:p6,chart:vt,circlePackChart:S6,choroplethChart:T6,comboChart:x6,donutChart:y6,gaugeChart:v6,groupedBarChart:c6,heatmapChart:_6,histogramChart:g6,lineChart:M2,lollipopChart:u6,meterChart:O2,pieChart:I2,proportionalMeterChart:b6,radarChart:w6,scatterChart:Am,simpleBarChart:a6,stackedAreaChart:h6,stackedBarChart:l6,thematicChart:T2,treeChart:E6,treemapChart:D6,wordCloudChart:m6};function R2(e,t,n){let r=null;return function(...o){let s=this;s.mousePosition=Ar(o[0],n),clearTimeout(r),r=setTimeout(function(){e.apply(s,o)},t)}}function N2(e,t){var n;let r=xo(e),o=Object.keys(t.axes||{});(n=t?.toolbar)!=null&&n.controls&&delete r.toolbar.controls,o.length===0&&delete r.axes;for(let s in r.axes)if(o.includes(s)){let i=t.axes[s];if((i.primary||i.secondary)&&console.warn("`primary` & `secondary` are no longer needed for axis configurations. Read more here https://charts.carbondesignsystem.com/?path=/story/docs-tutorials--tabular-data-format"),i.mapsTo==null){let c=i.scaleType;c==null?i.mapsTo="value":c===$.TIME?i.mapsTo="date":c===$.LABELS&&(i.mapsTo="key")}}else delete r.axes[s];return Rm(r,t),J(r,t)}function Un(e){if(!e)return;let t=/translate\([0-9]+\.?[0-9]*,[0-9]+\.?[0-9]*\)/,n=e.getAttribute("transform").match(t);if(!n)return null;if(n[0]){let r=n[0].replace(/translate\(/,"").replace(/\)/,"").split(",");return{tx:r[0],ty:r[1]}}return null}function Js(e,t,n){if(n>e.length)return e;if(t===_t.MID_LINE)return e.substr(0,n/2)+"..."+e.substr(-n/2);if(t===_t.FRONT_LINE)return"..."+e.substr(-n);if(t===_t.END_LINE)return e.substr(0,n)+"..."}function Rm(e,t){let n=b(e,"legend","additionalItems"),r=b(t,"legend","additionalItems");if(n&&r){let o=r.map(a=>a.type),s=n.map(a=>a.type),i=E2.filter(a=>s.includes(a.type)&&!o.includes(a.type));e.legend.additionalItems=i,t.legend.additionalItems=fL(i,r,"name")}}var b=(e,...t)=>{let n=e;if(n){for(let r of t)if(n[r]!==null&&n[r]!==void 0)n=n[r];else return null;return n}return null},Nm=(e,t)=>t===Qe.HORIZONTAL?{y0:e.x0,y1:e.x1,x0:e.y0,x1:e.y1}:e,uu=(e,t)=>{let{x0:n,x1:r,y0:o,y1:s}=Nm(e,t);return`M${n},${o}L${n},${s}L${r},${s}L${r},${o}L${n},${o}`};function Co(e,t,n){return n===Qe.VERTICAL?[e,t]:[t,e]}var L2=6048e5,M6=864e5,Lm=6e4,Pm=36e5;function uE(e){let t=xe(e);return t.setHours(0,0,0,0),t}function hE(e){let t=xe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Fm(e,t){let n=uE(e),r=uE(t),o=+n-hE(n),s=+r-hE(r);return Math.round((o-s)/M6)}function an(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function k6(e){let t=xe(e),n=an(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function I6(e){let t=xe(e);return Fm(t,k6(t))+1}function Hd(e){return ba(e,{weekStartsOn:1})}function P2(e){let t=xe(e),n=t.getFullYear(),r=an(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let o=Hd(r),s=an(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);let i=Hd(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function O6(e){let t=P2(e),n=an(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Hd(n)}function A6(e){let t=xe(e),n=+Hd(t)-+O6(t);return Math.round(n/L2)+1}function F2(e,t){var n,r,o,s;let i=xe(e),a=i.getFullYear(),c=Gd(),l=t?.firstWeekContainsDate??((r=(n=t?.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((s=(o=c.locale)==null?void 0:o.options)==null?void 0:s.firstWeekContainsDate)??1,d=an(e,0);d.setFullYear(a+1,0,l),d.setHours(0,0,0,0);let u=ba(d,t),h=an(e,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);let f=ba(h,t);return i.getTime()>=u.getTime()?a+1:i.getTime()>=f.getTime()?a:a-1}function R6(e,t){var n,r,o,s;let i=Gd(),a=t?.firstWeekContainsDate??((r=(n=t?.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??i.firstWeekContainsDate??((s=(o=i.locale)==null?void 0:o.options)==null?void 0:s.firstWeekContainsDate)??1,c=F2(e,t),l=an(e,0);return l.setFullYear(c,0,a),l.setHours(0,0,0,0),ba(l,t)}function N6(e,t){let n=xe(e),r=+ba(n,t)-+R6(n,t);return Math.round(r/L2)+1}function Ne(e,t){let n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}var _r={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return Ne(t==="yy"?r%100:r,t.length)},M(e,t){let n=e.getMonth();return t==="M"?String(n+1):Ne(n+1,2)},d(e,t){return Ne(e.getDate(),t.length)},a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ne(e.getHours()%12||12,t.length)},H(e,t){return Ne(e.getHours(),t.length)},m(e,t){return Ne(e.getMinutes(),t.length)},s(e,t){return Ne(e.getSeconds(),t.length)},S(e,t){let n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Ne(o,t.length)}},Fs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fE={G:function(e,t,n){let r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){let r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return _r.y(e,t)},Y:function(e,t,n,r){let o=F2(e,r),s=o>0?o:1-o;if(t==="YY"){let i=s%100;return Ne(i,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ne(s,t.length)},R:function(e,t){let n=P2(e);return Ne(n,t.length)},u:function(e,t){let n=e.getFullYear();return Ne(n,t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ne(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ne(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return _r.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ne(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let o=N6(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Ne(o,t.length)},I:function(e,t,n){let r=A6(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ne(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_r.d(e,t)},D:function(e,t,n){let r=I6(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ne(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ne(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ne(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Ne(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r=e.getHours(),o;switch(r===12?o=Fs.noon:r===0?o=Fs.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r=e.getHours(),o;switch(r>=17?o=Fs.evening:r>=12?o=Fs.afternoon:r>=4?o=Fs.morning:o=Fs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _r.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_r.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ne(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ne(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_r.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_r.s(e,t)},S:function(e,t){return _r.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return gE(r);case"XXXX":case"XX":return co(r);case"XXXXX":case"XXX":default:return co(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return gE(r);case"xxxx":case"xx":return co(r);case"xxxxx":case"xxx":default:return co(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pE(r,":");case"OOOO":default:return"GMT"+co(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pE(r,":");case"zzzz":default:return"GMT"+co(r,":")}},t:function(e,t,n){let r=Math.trunc(e.getTime()/1e3);return Ne(r,t.length)},T:function(e,t,n){let r=e.getTime();return Ne(r,t.length)}};function pE(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+Ne(s,2)}function gE(e,t){return e%60===0?(e>0?"-":"+")+Ne(Math.abs(e)/60,2):co(e,t)}function co(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),o=Ne(Math.trunc(r/60),2),s=Ne(r%60,2);return n+o+t+s}var mE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},j2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},L6=(e,t)=>{let n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return mE(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",mE(r,t)).replace("{{time}}",j2(o,t))},P6={p:j2,P:L6},F6=/^D+$/,j6=/^Y+$/,B6=["D","DD","YY","YYYY"];function V6(e){return F6.test(e)}function $6(e){return j6.test(e)}function U6(e,t,n){let r=z6(e,t,n);if(console.warn(r),B6.includes(e))throw new RangeError(r)}function z6(e,t,n){let r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function H6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function G6(e){if(!H6(e)&&typeof e!="number")return!1;let t=xe(e);return!isNaN(Number(t))}var q6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z6=/^'([^]*?)'?$/,Y6=/''/g,X6=/[a-zA-Z]/;function Zg(e,t,n){var r,o,s,i,a,c,l,d;let u=Gd(),h=n?.locale??u.locale??vE,f=n?.firstWeekContainsDate??((o=(r=n?.locale)==null?void 0:r.options)==null?void 0:o.firstWeekContainsDate)??u.firstWeekContainsDate??((i=(s=u.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,p=n?.weekStartsOn??((c=(a=n?.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??u.weekStartsOn??((d=(l=u.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??0,v=xe(e);if(!G6(v))throw new RangeError("Invalid time value");let g=t.match(W6).map(w=>{let y=w[0];if(y==="p"||y==="P"){let S=P6[y];return S(w,h.formatLong)}return w}).join("").match(q6).map(w=>{if(w==="''")return{isToken:!1,value:"'"};let y=w[0];if(y==="'")return{isToken:!1,value:K6(w)};if(fE[y])return{isToken:!0,value:w};if(y.match(X6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});h.localize.preprocessor&&(g=h.localize.preprocessor(v,g));let m={firstWeekContainsDate:f,weekStartsOn:p,locale:h};return g.map(w=>{if(!w.isToken)return w.value;let y=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$6(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&V6(y))&&U6(y,t,String(e));let S=fE[y[0]];return S(v,y,h.localize,m)}).join("")}function K6(e){let t=e.match(Z6);return t?t[1].replace(Y6,"'"):e}var B2=(e=>(e["15seconds"]="15seconds",e.minute="minute",e["30minutes"]="30minutes",e.hourly="hourly",e.daily="daily",e.weekly="weekly",e.monthly="monthly",e.quarterly="quarterly",e.yearly="yearly",e))(B2||{}),Od=[["15seconds",15*1e3],["minute",60*1e3],["30minutes",30*60*1e3],["hourly",60*60*1e3],["daily",24*60*60*1e3],["monthly",30*24*60*60*1e3],["quarterly",3*30*24*60*60*1e3],["yearly",12*30*24*60*60*1e3]];function hu(e,t,n,r,o){let s=t===0,i=Number(Zg(new Date(e),"c"))===2,a=Number(Zg(new Date(e),"q"))===1,c=t!==0?n[t-1]:null;switch(r){case"15seconds":return s||Td(e)||fa(e,c)||Tr(e);case"minute":return s||Td(e)||fa(e,c)||Tr(e);case"30minutes":return s||Td(e)||fa(e,c)||Tr(e);case"hourly":return s||Td(e)||fa(e,c)||Tr(e);case"daily":return o?s||i||Tr(e):s||fa(e,c)||Tr(e);case"weekly":return s||i||Tr(e);case"monthly":return s||Tr(e);case"quarterly":return s||a;case"yearly":return!1;default:throw new Error(`${r} is not a valid time interval.`)}}function Ha(e,t,n,r,o,s){let i=o.showDayName,a=r==="daily"&&i?"weekly":r,c=new Date(e),l=b(o,"timeIntervalFormats")[a],d=b(l,"primary"),u=b(l,"secondary"),h=hu(e,t,n,r,i),f=h?d:u;r==="15seconds"&&c.getMilliseconds()!==0&&(f=f.replace("pp","h:mm:ss.SSS a"));let p=o.localeObject,{code:v,optionsObject:g}=s,m=g[r].type,w=g[r][h?"primary":"secondary"][f];if(r==="quarterly"||!w){let y=Zg(c,f,{locale:p}).split("").map(S=>{let E=Number(S);return S!==" "&&!Number.isNaN(E)?E.toLocaleString(v):S});return s[m](c,v,{},y.join(""))}else return s[m](c,v,w)}function _a(e){let t=new Date(e);return{M:t.getMonth()+1,d:t.getDate(),H:t.getHours(),m:t.getMinutes(),s:t.getSeconds()}}function Q6(e){if(e)return e.slice(1).map((t,n)=>t-e[n])}function J6(e){let t=Od.reduce((n,[,r],o)=>{let s=Od[n][1],i=Math.abs(s-e),a=Math.abs(r-e);return i<a?n:o},0);return Od[t][0]}function Ga(e,t){if(B2[t])return t;if(e.length===1)return"15seconds";let n=Q6(e),r=mm(n);return J6(r)}function Td(e){let{s:t,m:n,H:r}=_a(e);return r===0&&n===0&&t===0}function fa(e,t){let n=_a(e).M,r=_a(t).M;return n!==r}function Tr(e){let{M:t,d:n,s:r,m:o,H:s}=_a(e);return t===1&&n===1&&s===0&&o===0&&r===0}function fu(e){return e===void 0?"":e.toISOString()}var We=(e=>(e.GRAPHICS_DOCUMENT="graphics-document",e.GRAPHICS_OBJECT="graphics-object",e.GRAPHICS_SYMBOL="graphics-symbol",e.GROUP="group",e.DOCUMENT="document",e.CHECKBOX="checkbox",e.BUTTON="button",e.MENU="menu",e.MENU_ITEM="menuitem",e.IMG="img",e))(We||{});function e9(e,t){return e&&hm(e,t,Xs)}function t9(e,t){return function(n,r){if(n==null)return n;if(!kr(n))return e(n,r);for(var o=n.length,s=-1,i=Object(n);++s<o&&r(i[s],s,i)!==!1;);return n}}var pu=t9(e9);function Ee(e){return function(){return e}}var n9=Array.prototype.slice;function qa(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o9(e,t,n,r){for(var o=-1,s=e==null?0:e.length;++o<s;){var i=e[o];t(r,i,n(i),e)}return r}function s9(e,t,n,r){return pu(e,function(o,s,i){t(r,o,n(o),i)}),r}function i9(e,t){return function(n,r){var o=it(n)?o9:s9,s={};return o(n,e,Na(r),s)}}function a9(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}var c9=Object.prototype,l9=c9.hasOwnProperty,d9=i9(function(e,t,n){l9.call(e,n)?e[n].push(t):Ma(e,n,[t])});function u9(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function h9(e){return e}var f9=Array.prototype,p9=f9.slice;function jm(e){return()=>e}function g9(e,t,n){let r;for(;;){let o=fo(e,t,n);if(o===r||o===0||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}function m9(e){return Math.max(1,Math.ceil(Math.log(u9(e))/Math.LN2)+1)}function v9(){var e=h9,t=ir,n=m9;function r(o){Array.isArray(o)||(o=Array.from(o));var s,i=o.length,a,c,l=new Array(i);for(s=0;s<i;++s)l[s]=e(o[s],s,o);var d=t(l),u=d[0],h=d[1],f=n(l,u,h);if(!Array.isArray(f)){let y=h,S=+f;if(t===ir&&([u,h]=g9(u,h,S)),f=Qs(u,h,S),f[0]<=u&&(c=fo(u,h,S)),f[f.length-1]>=h)if(y>=h&&t===ir){let E=fo(u,h,S);isFinite(E)&&(E>0?h=(Math.floor(h/E)+1)*E:E<0&&(h=(Math.ceil(h*-E)+1)/-E))}else f.pop()}for(var p=f.length,v=0,g=p;f[v]<=u;)++v;for(;f[g-1]>h;)--g;(v||g<p)&&(f=f.slice(v,g),p=g-v);var m=new Array(p+1),w;for(s=0;s<=p;++s)w=m[s]=[],w.x0=s>0?f[s-1]:u,w.x1=s<p?f[s]:h;if(isFinite(c)){if(c>0)for(s=0;s<i;++s)(a=l[s])!=null&&u<=a&&a<=h&&m[Math.min(p,Math.floor((a-u)/c))].push(o[s]);else if(c<0){for(s=0;s<i;++s)if((a=l[s])!=null&&u<=a&&a<=h){let y=Math.floor((u-a)*c);m[Math.min(p,y+(f[y]<=a))].push(o[s])}}}else for(s=0;s<i;++s)(a=l[s])!=null&&u<=a&&a<=h&&m[gm(f,a,0,p)].push(o[s]);return m}return r.value=function(o){return arguments.length?(e=typeof o=="function"?o:jm(o),r):e},r.domain=function(o){return arguments.length?(t=typeof o=="function"?o:jm([o[0],o[1]]),r):t},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:jm(Array.isArray(o)?p9.call(o):o),r):n},r}function q2(e,t){if((i=e.length)>1)for(var n=1,r,o,s=e[t[0]],i,a=s.length;n<i;++n)for(o=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function W2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function y9(e,t){return e[t]}function b9(e){let t=[];return t.key=e,t}function Bm(){var e=Ee([]),t=W2,n=q2,r=y9;function o(s){var i=Array.from(e.apply(this,arguments),b9),a,c=i.length,l=-1,d;for(let u of s)for(a=0,++l;a<c;++a)(i[a][l]=[0,+r(u,i[a].key,l,s)]).data=u;for(a=0,d=qa(t(i));a<c;++a)i[d[a]].index=a;return n(i,d),i}return o.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ee(Array.from(s)),o):e},o.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ee(+s),o):r},o.order=function(s){return arguments.length?(t=s==null?W2:typeof s=="function"?s:Ee(Array.from(s)),o):t},o.offset=function(s){return arguments.length?(n=s??q2,o):n},o}function w9(e,t){if((c=e.length)>0)for(var n,r=0,o,s,i,a,c,l=e[t[0]].length;r<l;++r)for(i=a=0,n=0;n<c;++n)(s=(o=e[t[n]][r])[1]-o[0])>0?(o[0]=i,o[1]=i+=s):s<0?(o[1]=a,o[0]=a+=s):(o[0]=0,o[1]=s)}function x9(e){let t=e.trim();return["=","+","-","@","	","\r"].includes(t.charAt(0))?`\xA0${t}`:/[,\"\n]/.test(t)?`"${t}"`:t}var Wa=class{constructor(t){this.state={options:{}},this.colorScale={},this.colorClassNames={},this.services=t}formatTable({headers:t,cells:n}){let r=this.getOptions(),{code:o,date:s,number:i}=b(r,"locale"),a=b(r,"tabularRepModal","tableHeadingFormatter"),c=b(r,"tabularRepModal","tableCellFormatter"),{cartesianScales:l}=this.services,d=l?.getDomainAxisScaleType(),u;return d===$.TIME&&(u=h=>s(h,o,{month:"short",day:"numeric",year:"numeric"})),[typeof a=="function"?a(t):t,...typeof c=="function"?c(n):n.map(h=>{u&&(h[1]=u(h[1]));for(let f in h){let p=h[f];typeof p=="number"&&(h[f]=i(p,o))}return h})]}getAllDataFromDomain(t){if(!this.getData())return null;let n=this.getOptions(),r=this.getData(),o=this.getDataGroups(),{groupMapsTo:s}=b(n,"data"),i=b(n,"axes");return t&&(r=r.filter(a=>t.includes(a[s]))),i&&Object.keys(i).forEach(a=>{let c=i[a].mapsTo,l=i[a].scaleType;if((l===$.LINEAR||l===$.LOG)&&(r=r.map(d=>$e(z({},d),{[c]:d[c]===null?d[c]:Number(d[c])}))),c&&i[a].domain)if(l===$.LABELS)r=r.filter(d=>i[a].domain.includes(d[c]));else{let[d,u]=i[a].domain;r=r.filter(h=>!(c in h)||h[c]>=d&&h[c]<=u)}}),r.filter(a=>o.find(c=>c.name===a[s]))}getDisplayData(t){if(!this.get("data"))return null;let{ACTIVE:n}=Je.items.status,r=this.getDataGroups(t),{groupMapsTo:o}=this.getOptions().data;return this.getAllDataFromDomain(t).filter(s=>r.find(i=>i.name===s[o]&&i.status===n))}getData(){return this.get("data")}isDataEmpty(){return!this.getData().length}setData(t){let n=this.sanitize(xo(t)),r=this.generateDataGroups(n);return this.set({data:n,dataGroups:r}),n}getDataGroups(t){return b(this.getOptions(),"data","loading")?[]:t?this.get("dataGroups").filter(n=>t.includes(n.name)):this.get("dataGroups")}getActiveDataGroups(t){let{ACTIVE:n}=Je.items.status;return this.getDataGroups(t).filter(r=>r.status===n)}getDataGroupNames(t){return this.getDataGroups(t).map(n=>n.name)}getActiveDataGroupNames(t){return this.getActiveDataGroups(t).map(n=>n.name)}aggregateBinDataByGroup(t){return d9(t,"group")}getBinConfigurations(){let t=this.getDisplayData(),n=this.getOptions(),r=this.services.cartesianScales.getMainXAxisPosition(),o=this.services.cartesianScales.getDomainIdentifier(),s=n.axes[r],{groupMapsTo:i}=n.data,{bins:a=Im.defaultBins}=s,c=Array.isArray(a),l=v9().value(f=>f[o]).thresholds(a)(t);if(c)l[l.length-1].x1=a[a.length-1];else{let f=l[0].x1-l[0].x0;l[l.length-1].x1=+l[l.length-1].x0+f}let d=c?[a[0],a[a.length-1]]:[l[0].x0,l[l.length-1].x1],u=Array.from(new Set(t.map(f=>f[i]))),h=[];return l.forEach(f=>{let p=`${f.x0}-${f.x1}`,v=this.aggregateBinDataByGroup(f);u.forEach(g=>{h.push({group:g,key:p,value:v[g]||0,bin:f.x0})})}),{bins:l,binsDomain:d}}getBinnedStackedData(){let t=this.getOptions(),{groupMapsTo:n}=t.data,r=this.getActiveDataGroupNames(),{bins:o}=this.getBinConfigurations(),s=this.getDataValuesGroupedByKeys({bins:o});return Bm().keys(r)(s).map((i,a)=>Object.keys(i).filter(c=>!isNaN(c)).map(c=>{let l=i[c];return l[n]=r[a],l}))}getGroupedData(t){let n=this.getDisplayData(t),r={},{groupMapsTo:o}=this.getOptions().data;return n.map(s=>{let i=s[o];r[i]!==null&&r[i]!==void 0?r[i].push(s):r[i]=[s]}),Object.keys(r).map(s=>({name:s,data:r[s]}))}getStackKeys({bins:t=null,groups:n=null}={bins:null,groups:null}){let r=this.getOptions(),o=this.getDisplayData(n),s;t?s=t.map(c=>`${c.x0}:${c.x1}`):s=Or(o.map(c=>{let l=this.services.cartesianScales.getDomainIdentifier(c);return c[l]instanceof Date?fu(c[l]):c[l]&&typeof c[l].toString=="function"?c[l].toString():c[l]}));let i=this.services.cartesianScales.domainAxisPosition,a=r.axes[i].scaleType;return a===$.TIME?s.sort((c,l)=>{let d=new Date(c),u=new Date(l);return d-u}):(a===$.LOG||a===$.LINEAR)&&s.sort((c,l)=>c-l),s}getDataValuesGroupedByKeys({bins:t=null,groups:n=null}){let r=this.getOptions(),{groupMapsTo:o}=r.data,s=this.getDisplayData(n),i=this.getDataGroupNames(),a=this.getStackKeys({bins:t,groups:n});return t?a.map(c=>{let[l,d]=c.split(":"),u={x0:l,x1:d},h=t.find(f=>f.x0.toString()===l.toString());return i.forEach(f=>{u[f]=h.filter(p=>p[o]===f).length}),u}):a.map(c=>{let l={sharedStackKey:c};return i.forEach(d=>{let u=s.find(f=>{let p=this.services.cartesianScales.getDomainIdentifier(f);return f[o]===d&&Object.prototype.hasOwnProperty.call(f,p)&&(f[p]instanceof Date?fu(f[p])===c:f[p].toString()===c)}),h=this.services.cartesianScales.getRangeIdentifier(l);l[d]=u?u[h]:null}),l})}getStackedData({percentage:t=!1,groups:n=null,divergent:r=!1}){let o=this.getOptions(),{groupMapsTo:s}=o.data,i=this.getActiveDataGroupNames(n),a=this.getDataValuesGroupedByKeys({groups:n});if(t){let c=a9(a.map(l=>[l.sharedStackKey,0]));a.forEach(l=>{i.forEach(d=>{c[l.sharedStackKey]+=l[d]})}),a.forEach(l=>{i.forEach(d=>{let u=c[l.sharedStackKey];c[l.sharedStackKey]?l[d]=l[d]/u*100:l[d]=0})})}return(r?Bm().offset(w9):Bm()).keys(i)(a).map((c,l)=>Object.keys(c).filter(d=>!isNaN(d)).map(d=>{let u=c[d];return u[s]=i[l],u}))}getOptions(){return this.state.options}set(t,n){this.state=Object.assign({},this.state,t);let r=Object.assign({skipUpdate:!1,animate:!0},n);r.skipUpdate||this.update(r.animate)}get(t){return t?this.state[t]:this.state}setOptions(t){let n=this.getOptions();Rm(n,t),this.set({options:J(n,t)})}update(t=!0){this.getDisplayData()&&(this.updateAllDataGroups(),this.setCustomColorScale(),this.setColorClassNames(),this.services.events.dispatchEvent(_.Model.UPDATE,{animate:t}))}toggleDataLabel(t){let{ACTIVE:n,DISABLED:r}=Je.items.status,o=this.getDataGroups(),s=o.some(l=>l.status===r),i=o.filter(l=>l.status===n);if(s)if(i.length===1&&i[0].name===t)o.forEach((l,d)=>{o[d].status=n});else{let l=o.findIndex(d=>d.name===t);o[l].status=o[l].status===r?n:r}else o.forEach((l,d)=>{o[d].status=l.name===t?n:r});let a=o.filter(l=>l.status===n),c=this.getOptions();o.some(l=>l.status===r)?c.data.selectedGroups=a.map(l=>l.name):c.data.selectedGroups=[],this.services.events.dispatchEvent(_.Legend.ITEMS_UPDATE,{dataGroups:o}),this.set({dataGroups:o})}getIsFilled(t,n,r,o){let s=this.getOptions();return s.getIsFilled?s.getIsFilled(t,n,r,o):o}getFillColor(t,n,r){let o=this.getOptions(),s=b(this.colorScale,t);return o.getFillColor?o.getFillColor(t,n,r,s):s}getStrokeColor(t,n,r){let o=this.getOptions(),s=b(this.colorScale,t);return o.getStrokeColor?o.getStrokeColor(t,n,r,s):s}isUserProvidedColorScaleValid(){let t=b(this.getOptions(),"color","scale"),n=this.getDataGroups();return t==null||Object.keys(t).length==0?!1:n.some(r=>Object.keys(t).includes(r.name))}getColorClassName(t){let n=this.colorClassNames(t.dataGroupName),r=t.originalClassName;return t.classNameTypes.forEach(o=>r=t.originalClassName?`${r} ${o}-${n}`:`${o}-${n}`),r||""}getStatus(){return null}getAllDataGroupsNames(){return this.allDataGroups}transformToTabularData(t){console.warn("We've updated the charting data format to be tabular by default. The current format you're using is deprecated and will be removed in v1.0, read more here https://charts.carbondesignsystem.com/");let n=[],{datasets:r,labels:o}=t;return r.forEach(s=>{s.data.forEach((i,a)=>{let c,l=b(s,"label");if(l===null){let u=b(o,a);u?c=u:c="Ungrouped"}else c=l;let d={group:c,key:o[a]};isNaN(i)?(d.value=i.value,d.date=i.date):d.value=i,n.push(d)})}),n}getTabularDataArray(){return[]}exportToCSV(){let t=this.getTabularDataArray().map(s=>s.map(i=>`"${(i==="&ndash;"?"\u2013":i).split(/[,;'"`]/).map(a=>x9(a)).join("")}"`)).map(s=>s.join(",")).join(`
`),n=this.getOptions(),r="myChart",o=b(n,"fileDownload","fileName");typeof o=="function"?r=o("csv"):typeof o=="string"&&(r=o),this.services.files.downloadCSV(t,`${r}.csv`)}getTabularData(t){return Array.isArray(t)?t:this.transformToTabularData(t)}sanitize(t){return t=this.getTabularData(t),t}updateAllDataGroups(){this.allDataGroups?this.getDataGroupNames().forEach(t=>{this.allDataGroups.indexOf(t)===-1&&this.allDataGroups.push(t)}):this.allDataGroups=this.getDataGroupNames()}generateDataGroups(t){let{groupMapsTo:n}=this.getOptions().data,{ACTIVE:r,DISABLED:o}=Je.items.status,s=this.getOptions(),i=Or(t.map(c=>c[n]));s.data.selectedGroups.length&&(s.data.selectedGroups.every(c=>i.includes(c))||(s.data.selectedGroups=[]));let a=c=>!s.data.selectedGroups.length||s.data.selectedGroups.includes(c)?r:o;return i.map(c=>({name:c,status:a(c)}))}setCustomColorScale(){if(!this.isUserProvidedColorScaleValid())return;let t=this.getOptions(),n=b(t,"color","scale");Object.keys(n).forEach(r=>{this.allDataGroups.includes(r)||console.warn(`"${r}" does not exist in data groups.`)}),this.allDataGroups.filter(r=>n[r]).forEach(r=>this.colorScale[r]=n[r])}setColorClassNames(){let t=b(this.getOptions(),"color","pairing"),n=b(t,"numberOfVariants");(!n||n<this.allDataGroups.length)&&(n=this.allDataGroups.length);let r=b(t,"option"),o=km.pairingOptions,s=n>5?14:n,i=`${s}-color`;r=r<=o[i]?r:1;let a=this.allDataGroups.map((c,l)=>`${s}-${r}-${l%14+1}`);this.colorClassNames=ja().range(a).domain(this.allDataGroups)}},gu=class extends Wa{constructor(t){super(t),this.axisFlavor=ao.DEFAULT}assignRangeAndDomains(){let{cartesianScales:t}=this.services,n=this.getOptions(),r=t.isDualAxes(),o={primaryDomain:t.domainAxisPosition,primaryRange:t.rangeAxisPosition,secondaryDomain:null,secondaryRange:null};return r&&(o.secondaryDomain=t.secondaryDomainAxisPosition,o.secondaryRange=t.secondaryRangeAxisPosition),Object.keys(o).forEach(s=>{let i=o[s];t.scales[i]?o[s]={position:i,label:t.getScaleLabel(i),identifier:b(n,"axes",i,"mapsTo")}:o[s]=null}),o}getTabularDataArray(){let t=this.getDisplayData(),n=this.getOptions(),{groupMapsTo:r}=n.data,{primaryDomain:o,primaryRange:s,secondaryDomain:i,secondaryRange:a}=this.assignRangeAndDomains(),{number:c,code:l}=b(this.getOptions(),"locale"),d=["Group",o.label,s.label,...i?[i.label]:[],...a?[a.label]:[]],u=t.map(h=>[h[r],h[o.identifier]===null?"&ndash;":h[o.identifier],h[s.identifier]===null||isNaN(h[s.identifier])?"&ndash;":c(h[s.identifier],l),...i?[h[i.identifier]===null?"&ndash;":h[i.identifier]]:[],...a?[h[a.identifier]===null||isNaN(h[a.identifier])?"&ndash;":h[a.identifier]]:[]]);return super.formatTable({headers:d,cells:u})}setData(t){let n;if(t&&(n=super.setData(t),b(this.getOptions(),"zoomBar",k.TOP,"enabled"))){let r=b(this.getOptions(),"zoomBar",k.TOP,"data");this.setZoomBarData(r)}return n}setZoomBarData(t){let n=t?this.sanitize(xo(t)):this.getDisplayData(),r=n,{cartesianScales:o}=this.services;if(n&&o.domainAxisPosition&&o.rangeAxisPosition){let s=o.getDomainIdentifier(),i=o.getRangeIdentifier(),a=n.map(c=>c[s].getTime());a=Or(a).sort(),r=a.map(c=>{let l=0,d={};return n.forEach(u=>{u[s].getTime()===c&&(l+=u[i])}),d[s]=new Date(c),d[i]=l,d})}this.set({zoomBarData:r})}getZoomBarData(){return this.get("zoomBarData")}sanitizeDateValues(t){let n=this.getOptions();if(!n.axes)return t;let r=[];return Object.keys(k).forEach(o=>{let s=k[o],i=n.axes[s];if(i&&i.scaleType===$.TIME){let a=i.mapsTo;(a!==null||a!==void 0)&&r.push(a)}}),r.length>0&&t.forEach(o=>{r.forEach(s=>{b(o,s,"getTime")===null&&(o[s]=new Date(o[s]))})}),t}sanitize(t){return t=super.sanitize(t),t=this.sanitizeDateValues(t),t}};var E9=/\s/;function D9(e){for(var t=e.length;t--&&E9.test(e.charAt(t)););return t}var S9=/^\s+/;function C9(e){return e&&e.slice(0,D9(e)+1).replace(S9,"")}var Z2=NaN,_9=/^[-+]0x[0-9a-f]+$/i,T9=/^0b[01]+$/i,M9=/^0o[0-7]+$/i,k9=parseInt;function _o(e){if(typeof e=="number")return e;if(Ta(e))return Z2;if(Gt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Gt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=C9(e);var n=T9.test(e);return n||M9.test(e)?k9(e.slice(2),n?2:8):_9.test(e)?Z2:+e}var Vm=function(){return cn.Date.now()},I9="Expected a function",O9=Math.max,A9=Math.min;function fD(e,t,n){var r,o,s,i,a,c,l=0,d=!1,u=!1,h=!0;if(typeof e!="function")throw new TypeError(I9);t=_o(t)||0,Gt(n)&&(d=!!n.leading,u="maxWait"in n,s=u?O9(_o(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function f(D){var C=r,T=o;return r=o=void 0,l=D,i=e.apply(T,C),i}function p(D){return l=D,a=setTimeout(m,t),d?f(D):i}function v(D){var C=D-c,T=D-l,A=t-C;return u?A9(A,s-T):A}function g(D){var C=D-c,T=D-l;return c===void 0||C>=t||C<0||u&&T>=s}function m(){var D=Vm();if(g(D))return w(D);a=setTimeout(m,v(D))}function w(D){return a=void 0,h&&r?f(D):(r=o=void 0,i)}function y(){a!==void 0&&clearTimeout(a),l=0,r=c=o=a=void 0}function S(){return a===void 0?i:w(Vm())}function E(){var D=Vm(),C=g(D);if(r=arguments,o=this,c=D,C){if(a===void 0)return p(c);if(u)return clearTimeout(a),a=setTimeout(m,t),f(c)}return a===void 0&&(a=setTimeout(m,t)),i}return E.cancel=y,E.flush=S,E}function R9(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(o);++r<o;)s[r]=e+r*n;return s}function R(e){return typeof e=="string"?new Rt([[document.querySelector(e)]],[document.documentElement]):new Rt([[e]],bm)}function Qa(){var e=ja().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,s,i,a=!1,c=0,l=0,d=.5;delete e.unknown;function u(){var h=t().length,f=o<r,p=f?o:r,v=f?r:o;s=(v-p)/Math.max(1,h-c+l*2),a&&(s=Math.floor(s)),p+=(v-p-s*(h-c))*d,i=s*(1-c),a&&(p=Math.round(p),i=Math.round(i));var g=R9(h).map(function(m){return p+s*m});return n(f?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),u()):t()},e.range=function(h){return arguments.length?([r,o]=h,r=+r,o=+o,u()):[r,o]},e.rangeRound=function(h){return[r,o]=h,r=+r,o=+o,a=!0,u()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(a=!!h,u()):a},e.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),u()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),u()):c},e.paddingOuter=function(h){return arguments.length?(l=+h,u()):l},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),u()):d},e.copy=function(){return Qa(t(),[r,o]).round(a).paddingInner(c).paddingOuter(l).align(d)},Eo.apply(u(),arguments)}function Zm(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],s=e[r],i;return s<o&&(i=n,n=r,r=i,i=o,o=s,s=i),e[n]=t.floor(o),e[r]=t.ceil(s),e}var $m=new Date,Um=new Date;function rt(e,t,n,r){function o(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return o.floor=s=>(e(s=new Date(+s)),s),o.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),o.round=s=>{let i=o(s),a=o.ceil(s);return s-i<a-s?i:a},o.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),o.range=(s,i,a)=>{let c=[];if(s=o.ceil(s),a=a==null?1:Math.floor(a),!(s<i)||!(a>0))return c;let l;do c.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<i);return c},o.filter=s=>rt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,a)=>{if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!s(i););else for(;--a>=0;)for(;t(i,1),!s(i););}),n&&(o.count=(s,i)=>($m.setTime(+s),Um.setTime(+i),e($m),e(Um),Math.floor(n($m,Um))),o.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?o.filter(r?i=>r(i)%s===0:i=>o.count(0,i)%s===0):o)),o}var vu=rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vu);vu.range;var ar=1e3,ln=ar*60,cr=ln*60,dr=cr*24,Ym=dr*7,Y2=dr*30,zm=dr*365,ti=rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ar)},(e,t)=>(t-e)/ar,e=>e.getUTCSeconds());ti.range;var Xm=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ar)},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getMinutes());Xm.range;var N9=rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getUTCMinutes());N9.range;var Km=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ar-e.getMinutes()*ln)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getHours());Km.range;var L9=rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getUTCHours());L9.range;var Ja=rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ln)/dr,e=>e.getDate()-1);Ja.range;var Qm=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dr,e=>e.getUTCDate()-1);Qm.range;var P9=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dr,e=>Math.floor(e/dr));P9.range;function ko(e){return rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ln)/Ym)}var Eu=ko(0),yu=ko(1),F9=ko(2),j9=ko(3),ni=ko(4),B9=ko(5),V9=ko(6);Eu.range;yu.range;F9.range;j9.range;ni.range;B9.range;V9.range;function Io(e){return rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ym)}var pD=Io(0),bu=Io(1),$9=Io(2),U9=Io(3),ri=Io(4),z9=Io(5),H9=Io(6);pD.range;bu.range;$9.range;U9.range;ri.range;z9.range;H9.range;var Jm=rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jm.range;var G9=rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());G9.range;var ur=rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ur.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ur.range;var To=rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});To.range;function q9(e,t,n,r,o,s){let i=[[ti,1,ar],[ti,5,5*ar],[ti,15,15*ar],[ti,30,30*ar],[s,1,ln],[s,5,5*ln],[s,15,15*ln],[s,30,30*ln],[o,1,cr],[o,3,3*cr],[o,6,6*cr],[o,12,12*cr],[r,1,dr],[r,2,2*dr],[n,1,Ym],[t,1,Y2],[t,3,3*Y2],[e,1,zm]];function a(l,d,u){let h=d<l;h&&([l,d]=[d,l]);let f=u&&typeof u.range=="function"?u:c(l,d,u),p=f?f.range(l,+d+1):[];return h?p.reverse():p}function c(l,d,u){let h=Math.abs(d-l)/u,f=Jd(([,,g])=>g).right(i,h);if(f===i.length)return e.every(eu(l/zm,d/zm,u));if(f===0)return vu.every(Math.max(eu(l,d,u),1));let[p,v]=i[h/i[f-1][2]<i[f][2]/h?f-1:f];return p.every(v)}return[a,c]}var[W9,Z9]=q9(ur,Jm,Eu,Ja,Km,Xm);function Hm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Za(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Y9(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,s=e.days,i=e.shortDays,a=e.months,c=e.shortMonths,l=Ya(o),d=Xa(o),u=Ya(s),h=Xa(s),f=Ya(i),p=Xa(i),v=Ya(a),g=Xa(a),m=Ya(c),w=Xa(c),y={a:q,A:_e,b:ne,B:K,c:null,d:tD,e:tD,f:yj,g:Mj,G:Ij,H:gj,I:mj,j:vj,L:gD,m:bj,M:wj,p:Se,q:Y,Q:oD,s:sD,S:xj,u:Ej,U:Dj,V:Sj,w:Cj,W:_j,x:null,X:null,y:Tj,Y:kj,Z:Oj,"%":rD},S={a:xt,A:ce,b:Ve,B,c:null,d:nD,e:nD,f:Lj,g:Gj,G:Wj,H:Aj,I:Rj,j:Nj,L:vD,m:Pj,M:Fj,p:Z,q:ue,Q:oD,s:sD,S:jj,u:Bj,U:Vj,V:$j,w:Uj,W:zj,x:null,X:null,y:Hj,Y:qj,Z:Zj,"%":rD},E={a:M,A:I,b:W,B:N,c:U,d:J2,e:J2,f:uj,g:Q2,G:K2,H:eD,I:eD,j:aj,L:dj,m:ij,M:cj,p:A,q:sj,Q:fj,s:pj,S:lj,u:ej,U:tj,V:nj,w:J9,W:rj,x:Ie,X:me,y:Q2,Y:K2,Z:oj,"%":hj};y.x=D(n,y),y.X=D(r,y),y.c=D(t,y),S.x=D(n,S),S.X=D(r,S),S.c=D(t,S);function D(L,H){return function(X){var O=[],Te=-1,ve=0,et=L.length,He,G,Le;for(X instanceof Date||(X=new Date(+X));++Te<et;)L.charCodeAt(Te)===37&&(O.push(L.slice(ve,Te)),(G=X2[He=L.charAt(++Te)])!=null?He=L.charAt(++Te):G=He==="e"?" ":"0",(Le=H[He])&&(He=Le(X,G)),O.push(He),ve=Te+1);return O.push(L.slice(ve,Te)),O.join("")}}function C(L,H){return function(X){var O=Za(1900,void 0,1),Te=T(O,L,X+="",0),ve,et;if(Te!=X.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(H&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(ve=Gm(Za(O.y,0,1)),et=ve.getUTCDay(),ve=et>4||et===0?bu.ceil(ve):bu(ve),ve=Qm.offset(ve,(O.V-1)*7),O.y=ve.getUTCFullYear(),O.m=ve.getUTCMonth(),O.d=ve.getUTCDate()+(O.w+6)%7):(ve=Hm(Za(O.y,0,1)),et=ve.getDay(),ve=et>4||et===0?yu.ceil(ve):yu(ve),ve=Ja.offset(ve,(O.V-1)*7),O.y=ve.getFullYear(),O.m=ve.getMonth(),O.d=ve.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),et="Z"in O?Gm(Za(O.y,0,1)).getUTCDay():Hm(Za(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(et+5)%7:O.w+O.U*7-(et+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,Gm(O)):Hm(O)}}function T(L,H,X,O){for(var Te=0,ve=H.length,et=X.length,He,G;Te<ve;){if(O>=et)return-1;if(He=H.charCodeAt(Te++),He===37){if(He=H.charAt(Te++),G=E[He in X2?H.charAt(Te++):He],!G||(O=G(L,X,O))<0)return-1}else if(He!=X.charCodeAt(O++))return-1}return O}function A(L,H,X){var O=l.exec(H.slice(X));return O?(L.p=d.get(O[0].toLowerCase()),X+O[0].length):-1}function M(L,H,X){var O=f.exec(H.slice(X));return O?(L.w=p.get(O[0].toLowerCase()),X+O[0].length):-1}function I(L,H,X){var O=u.exec(H.slice(X));return O?(L.w=h.get(O[0].toLowerCase()),X+O[0].length):-1}function W(L,H,X){var O=m.exec(H.slice(X));return O?(L.m=w.get(O[0].toLowerCase()),X+O[0].length):-1}function N(L,H,X){var O=v.exec(H.slice(X));return O?(L.m=g.get(O[0].toLowerCase()),X+O[0].length):-1}function U(L,H,X){return T(L,t,H,X)}function Ie(L,H,X){return T(L,n,H,X)}function me(L,H,X){return T(L,r,H,X)}function q(L){return i[L.getDay()]}function _e(L){return s[L.getDay()]}function ne(L){return c[L.getMonth()]}function K(L){return a[L.getMonth()]}function Se(L){return o[+(L.getHours()>=12)]}function Y(L){return 1+~~(L.getMonth()/3)}function xt(L){return i[L.getUTCDay()]}function ce(L){return s[L.getUTCDay()]}function Ve(L){return c[L.getUTCMonth()]}function B(L){return a[L.getUTCMonth()]}function Z(L){return o[+(L.getUTCHours()>=12)]}function ue(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var H=D(L+="",y);return H.toString=function(){return L},H},parse:function(L){var H=C(L+="",!1);return H.toString=function(){return L},H},utcFormat:function(L){var H=D(L+="",S);return H.toString=function(){return L},H},utcParse:function(L){var H=C(L+="",!0);return H.toString=function(){return L},H}}}var X2={"-":"",_:" ",0:"0"},at=/^\s*\d+/,X9=/^%/,K9=/[\\^$*+?|[\]().{}]/g;function De(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",s=o.length;return r+(s<n?new Array(n-s+1).join(t)+o:o)}function Q9(e){return e.replace(K9,"\\$&")}function Ya(e){return new RegExp("^(?:"+e.map(Q9).join("|")+")","i")}function Xa(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function J9(e,t,n){var r=at.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ej(e,t,n){var r=at.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tj(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nj(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rj(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function K2(e,t,n){var r=at.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Q2(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oj(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sj(e,t,n){var r=at.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ij(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function J2(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aj(e,t,n){var r=at.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function eD(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cj(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lj(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function dj(e,t,n){var r=at.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function uj(e,t,n){var r=at.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hj(e,t,n){var r=X9.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fj(e,t,n){var r=at.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pj(e,t,n){var r=at.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function tD(e,t){return De(e.getDate(),t,2)}function gj(e,t){return De(e.getHours(),t,2)}function mj(e,t){return De(e.getHours()%12||12,t,2)}function vj(e,t){return De(1+Ja.count(ur(e),e),t,3)}function gD(e,t){return De(e.getMilliseconds(),t,3)}function yj(e,t){return gD(e,t)+"000"}function bj(e,t){return De(e.getMonth()+1,t,2)}function wj(e,t){return De(e.getMinutes(),t,2)}function xj(e,t){return De(e.getSeconds(),t,2)}function Ej(e){var t=e.getDay();return t===0?7:t}function Dj(e,t){return De(Eu.count(ur(e)-1,e),t,2)}function mD(e){var t=e.getDay();return t>=4||t===0?ni(e):ni.ceil(e)}function Sj(e,t){return e=mD(e),De(ni.count(ur(e),e)+(ur(e).getDay()===4),t,2)}function Cj(e){return e.getDay()}function _j(e,t){return De(yu.count(ur(e)-1,e),t,2)}function Tj(e,t){return De(e.getFullYear()%100,t,2)}function Mj(e,t){return e=mD(e),De(e.getFullYear()%100,t,2)}function kj(e,t){return De(e.getFullYear()%1e4,t,4)}function Ij(e,t){var n=e.getDay();return e=n>=4||n===0?ni(e):ni.ceil(e),De(e.getFullYear()%1e4,t,4)}function Oj(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function nD(e,t){return De(e.getUTCDate(),t,2)}function Aj(e,t){return De(e.getUTCHours(),t,2)}function Rj(e,t){return De(e.getUTCHours()%12||12,t,2)}function Nj(e,t){return De(1+Qm.count(To(e),e),t,3)}function vD(e,t){return De(e.getUTCMilliseconds(),t,3)}function Lj(e,t){return vD(e,t)+"000"}function Pj(e,t){return De(e.getUTCMonth()+1,t,2)}function Fj(e,t){return De(e.getUTCMinutes(),t,2)}function jj(e,t){return De(e.getUTCSeconds(),t,2)}function Bj(e){var t=e.getUTCDay();return t===0?7:t}function Vj(e,t){return De(pD.count(To(e)-1,e),t,2)}function yD(e){var t=e.getUTCDay();return t>=4||t===0?ri(e):ri.ceil(e)}function $j(e,t){return e=yD(e),De(ri.count(To(e),e)+(To(e).getUTCDay()===4),t,2)}function Uj(e){return e.getUTCDay()}function zj(e,t){return De(bu.count(To(e)-1,e),t,2)}function Hj(e,t){return De(e.getUTCFullYear()%100,t,2)}function Gj(e,t){return e=yD(e),De(e.getUTCFullYear()%100,t,2)}function qj(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function Wj(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ri(e):ri.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function Zj(){return"+0000"}function rD(){return"%"}function oD(e){return+e}function sD(e){return Math.floor(+e/1e3)}var ei,bD;Yj({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yj(e){return ei=Y9(e),bD=ei.format,ei.parse,ei.utcFormat,ei.utcParse,ei}function Xj(e){return new Date(e)}function Kj(e){return e instanceof Date?+e:+new Date(+e)}function wD(e,t,n,r,o,s,i,a,c,l){var d=Tm(),u=d.invert,h=d.domain,f=l(".%L"),p=l(":%S"),v=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),w=l("%b %d"),y=l("%B"),S=l("%Y");function E(D){return(c(D)<D?f:a(D)<D?p:i(D)<D?v:s(D)<D?g:r(D)<D?o(D)<D?m:w:n(D)<D?y:S)(D)}return d.invert=function(D){return new Date(u(D))},d.domain=function(D){return arguments.length?h(Array.from(D,Kj)):h().map(Xj)},d.ticks=function(D){var C=h();return e(C[0],C[C.length-1],D??10)},d.tickFormat=function(D,C){return C==null?E:l(C)},d.nice=function(D){var C=h();return(!D||typeof D.range!="function")&&(D=t(C[0],C[C.length-1],D??10)),D?h(Zm(C,D)):d},d.copy=function(){return Ba(d,wD(e,t,n,r,o,s,i,a,c,l))},d}function Du(){return Eo.apply(wD(W9,Z9,ur,Jm,Eu,Ja,Km,Xm,ti,bD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var ev=Math.abs,pt=Math.atan2,Rr=Math.cos,xD=Math.max,Su=Math.min,Cn=Math.sin,Oo=Math.sqrt,ct=1e-12,oi=Math.PI,Ka=oi/2,ED=2*oi;function DD(e){return e>1?0:e<-1?oi:Math.acos(e)}function tv(e){return e>=1?Ka:e<=-1?-Ka:Math.asin(e)}function SD(e){this._context=e}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function si(e){return new SD(e)}function hr(){}function CD(e){this._context=e}CD.prototype={areaStart:hr,areaEnd:hr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nv(e){return new CD(e)}function Qj(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;let n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}var Jj=(()=>{let e=0,t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function lr(e){let t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function wu(e,t){let n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function eB(e){let t=wu(e,"border-left-width"),n=wu(e,"border-right-width");return e.clientWidth+t+n}function tB(e){let t=wu(e,"border-top-width"),n=wu(e,"border-bottom-width");return e.clientHeight+t+n}function _D(e,t={}){let n=t.width||eB(e),r=t.height||tB(e);return{width:n,height:r}}function nB(){let e,t;try{t=process}catch{}let n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}var qt=16384;function rB(e){(e.width>qt||e.height>qt)&&(e.width>qt&&e.height>qt?e.width>e.height?(e.height*=qt/e.width,e.width=qt):(e.width*=qt/e.height,e.height=qt):e.width>qt?(e.height*=qt/e.width,e.width=qt):(e.width*=qt/e.height,e.height=qt))}function xu(e){return new Promise((t,n)=>{let r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}function oB(e){return Ce(this,null,function*(){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)})}function sB(e,t,n){return Ce(this,null,function*(){let r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),o.appendChild(s),s.appendChild(e),oB(o)})}var Nt=(e,t)=>{if(e instanceof t)return!0;let n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Nt(n,t)};function iB(e){let t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function aB(e){return lr(e).map(t=>{let n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function cB(e,t,n){let r=`.${e}:${t}`,o=n.cssText?iB(n):aB(n);return document.createTextNode(`${r}{${o}}`)}function iD(e,t,n){let r=window.getComputedStyle(e,n),o=r.getPropertyValue("content");if(o===""||o==="none")return;let s=Jj();try{t.className=`${t.className} ${s}`}catch{return}let i=document.createElement("style");i.appendChild(cB(s,n,r)),t.appendChild(i)}function lB(e,t){iD(e,t,":before"),iD(e,t,":after")}var aD="application/font-woff",cD="image/jpeg",dB={woff:aD,woff2:aD,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:cD,jpeg:cD,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function uB(e){let t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function rv(e){let t=uB(e).toLowerCase();return dB[t]||""}function hB(e){return e.split(/,/)[1]}function Wm(e){return e.search(/^(data:)/)!==-1}function fB(e,t){return`data:${t};base64,${e}`}function TD(e,t,n){return Ce(this,null,function*(){let r=yield fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);let o=yield r.blob();return new Promise((s,i)=>{let a=new FileReader;a.onerror=i,a.onloadend=()=>{try{s(n({res:r,result:a.result}))}catch(c){i(c)}},a.readAsDataURL(o)})})}var qm={};function pB(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}function ov(e,t,n){return Ce(this,null,function*(){let r=pB(e,t,n.includeQueryParams);if(qm[r]!=null)return qm[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{let s=yield TD(e,n.fetchRequestInit,({res:i,result:a})=>(t||(t=i.headers.get("Content-Type")||""),hB(a)));o=fB(s,t)}catch(s){o=n.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;s&&(i=typeof s=="string"?s:s.message),i&&console.warn(i)}return qm[r]=o,o})}function gB(e){return Ce(this,null,function*(){let t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):xu(t)})}function mB(e,t){return Ce(this,null,function*(){if(e.currentSrc){let s=document.createElement("canvas"),i=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,i?.drawImage(e,0,0,s.width,s.height);let a=s.toDataURL();return xu(a)}let n=e.poster,r=rv(n),o=yield ov(n,r,t);return xu(o)})}function vB(e){return Ce(this,null,function*(){var t;try{if(!((t=e?.contentDocument)===null||t===void 0)&&t.body)return yield Cu(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)})}function yB(e,t){return Ce(this,null,function*(){return Nt(e,HTMLCanvasElement)?gB(e):Nt(e,HTMLVideoElement)?mB(e,t):Nt(e,HTMLIFrameElement)?vB(e):e.cloneNode(!1)})}var bB=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";function wB(e,t,n){return Ce(this,null,function*(){var r,o;let s=[];return bB(e)&&e.assignedNodes?s=lr(e.assignedNodes()):Nt(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?s=lr(e.contentDocument.body.childNodes):s=lr(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),s.length===0||Nt(e,HTMLVideoElement)||(yield s.reduce((i,a)=>i.then(()=>Cu(a,n)).then(c=>{c&&t.appendChild(c)}),Promise.resolve())),t})}function xB(e,t){let n=t.style;if(!n)return;let r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):lr(r).forEach(o=>{let s=r.getPropertyValue(o);o==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Nt(e,HTMLIFrameElement)&&o==="display"&&s==="inline"&&(s="block"),o==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),n.setProperty(o,s,r.getPropertyPriority(o))})}function EB(e,t){Nt(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Nt(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function DB(e,t){if(Nt(e,HTMLSelectElement)){let n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function SB(e,t){return Nt(t,Element)&&(xB(e,t),lB(e,t),EB(e,t),DB(e,t)),t}function CB(e,t){return Ce(this,null,function*(){let n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;let r={};for(let s=0;s<n.length;s++){let i=n[s].getAttribute("xlink:href");if(i){let a=e.querySelector(i),c=document.querySelector(i);!a&&c&&!r[i]&&(r[i]=yield Cu(c,t,!0))}}let o=Object.values(r);if(o.length){let s="http://www.w3.org/1999/xhtml",i=document.createElementNS(s,"svg");i.setAttribute("xmlns",s),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";let a=document.createElementNS(s,"defs");i.appendChild(a);for(let c=0;c<o.length;c++)a.appendChild(o[c]);e.appendChild(i)}return e})}function Cu(e,t,n){return Ce(this,null,function*(){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>yB(r,t)).then(r=>wB(e,r,t)).then(r=>SB(e,r)).then(r=>CB(r,t))})}var MD=/url\((['"]?)([^'"]+?)\1\)/g,_B=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,TB=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function MB(e){let t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function kB(e){let t=[];return e.replace(MD,(n,r,o)=>(t.push(o),n)),t.filter(n=>!Wm(n))}function IB(e,t,n,r,o){return Ce(this,null,function*(){try{let s=n?Qj(t,n):t,i=rv(t),a;return o||(a=yield ov(s,i,r)),e.replace(MB(t),`$1${a}$3`)}catch{}return e})}function OB(e,{preferredFontFormat:t}){return t?e.replace(TB,n=>{for(;;){let[r,,o]=_B.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function kD(e){return e.search(MD)!==-1}function ID(e,t,n){return Ce(this,null,function*(){if(!kD(e))return e;let r=OB(e,n);return kB(r).reduce((o,s)=>o.then(i=>IB(i,s,t,n)),Promise.resolve(r))})}function mu(e,t,n){return Ce(this,null,function*(){var r;let o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){let s=yield ID(o,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1})}function AB(e,t){return Ce(this,null,function*(){(yield mu("background",e,t))||(yield mu("background-image",e,t)),(yield mu("mask",e,t))||(yield mu("mask-image",e,t))})}function RB(e,t){return Ce(this,null,function*(){let n=Nt(e,HTMLImageElement);if(!(n&&!Wm(e.src))&&!(Nt(e,SVGImageElement)&&!Wm(e.href.baseVal)))return;let r=n?e.src:e.href.baseVal,o=yield ov(r,rv(r),t);yield new Promise((s,i)=>{e.onload=s,e.onerror=i;let a=e;a.decode&&(a.decode=s),a.loading==="lazy"&&(a.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})})}function NB(e,t){return Ce(this,null,function*(){let n=lr(e.childNodes).map(r=>OD(r,t));yield Promise.all(n).then(()=>e)})}function OD(e,t){return Ce(this,null,function*(){Nt(e,Element)&&(yield AB(e,t),yield RB(e,t),yield NB(e,t))})}function LB(e,t){let{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);let r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}var lD={};function dD(e){return Ce(this,null,function*(){let t=lD[e];if(t!=null)return t;let n=yield(yield fetch(e)).text();return t={url:e,cssText:n},lD[e]=t,t})}function uD(e,t){return Ce(this,null,function*(){let n=e.cssText,r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(s=>Ce(this,null,function*(){let i=s.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),TD(i,t.fetchRequestInit,({result:a})=>(n=n.replace(s,`url(${a})`),[s,a]))}));return Promise.all(o).then(()=>n)})}function hD(e){if(e==null)return[];let t=[],n=/(\/\*[\s\S]*?\*\/)/gi,r=e.replace(n,""),o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let c=o.exec(r);if(c===null)break;t.push(c[0])}r=r.replace(o,"");let s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(i,"gi");for(;;){let c=s.exec(r);if(c===null){if(c=a.exec(r),c===null)break;s.lastIndex=a.lastIndex}else a.lastIndex=s.lastIndex;t.push(c[0])}return t}function PB(e,t){return Ce(this,null,function*(){let n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{lr(o.cssRules||[]).forEach((s,i)=>{if(s.type===CSSRule.IMPORT_RULE){let a=i+1,c=s.href,l=dD(c).then(d=>uD(d,t)).then(d=>hD(d).forEach(u=>{try{o.insertRule(u,u.startsWith("@import")?a+=1:o.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:u,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(l)}})}catch(s){let i=e.find(a=>a.href==null)||document.styleSheets[0];o.href!=null&&r.push(dD(o.href).then(a=>uD(a,t)).then(a=>hD(a).forEach(c=>{i.insertRule(c,o.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{lr(o.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${o.href}`,s)}}),n))})}function FB(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>kD(t.style.getPropertyValue("src")))}function jB(e,t){return Ce(this,null,function*(){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");let n=lr(e.ownerDocument.styleSheets),r=yield PB(n,t);return FB(r)})}function BB(e,t){return Ce(this,null,function*(){let n=yield jB(e,t);return(yield Promise.all(n.map(r=>{let o=r.parentStyleSheet?r.parentStyleSheet.href:null;return ID(r.cssText,o,t)}))).join(`
`)})}function VB(e,t){return Ce(this,null,function*(){let n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:yield BB(e,t);if(n){let r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}})}function $B(n){return Ce(this,arguments,function*(e,t={}){let{width:r,height:o}=_D(e,t),s=yield Cu(e,t,!0);return yield VB(s,t),yield OD(s,t),LB(s,t),yield sB(s,r,o)})}function AD(n){return Ce(this,arguments,function*(e,t={}){let{width:r,height:o}=_D(e,t),s=yield $B(e,t),i=yield xu(s),a=document.createElement("canvas"),c=a.getContext("2d"),l=t.pixelRatio||nB(),d=t.canvasWidth||r,u=t.canvasHeight||o;return a.width=d*l,a.height=u*l,t.skipAutoScale||rB(a),a.style.width=`${d}`,a.style.height=`${u}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.drawImage(i,0,0,a.width,a.height),a})}function UB(n){return Ce(this,arguments,function*(e,t={}){return(yield AD(e,t)).toDataURL()})}function zB(n){return Ce(this,arguments,function*(e,t={}){return(yield AD(e,t)).toDataURL("image/jpeg",t.quality||1)})}var Wt=class{constructor(t,n){this.model=t,this.services=n,this.init()}init(){}update(){}setModel(t){this.model=t}setServices(t){this.services=t}},HB="DONT_STYLE_ME_css_styles_verifier",P=class e extends Wt{constructor(t,n){super(t,n)}static getHTMLElementSize(t){return{width:t.clientWidth,height:t.clientHeight}}static getSVGElementSize(t,n={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}){t.attr||(t=R(t));let r={width:0,height:0},o=h=>{h&&Object.keys(r).forEach(f=>{if(h[f]){let p=h[f],v=parseFloat(p);p&&v>r[f]&&(""+p).indexOf("%")===-1&&(r[f]=v)}})},s={width:t.attr("width"),height:t.attr("height")},i=t.node(),a,c,l,d;try{typeof i.getBBox=="function"&&(a=i.getBBox(),c={width:a.width,height:a.height})}catch(h){console.error(h)}try{typeof i?.getBoundingClientRect=="function"&&(l=i.getBoundingClientRect(),d={width:l.width,height:l.height})}catch(h){console.error(h)}let u;if(i instanceof SVGSVGElement&&(u={width:i.clientWidth,height:i.clientHeight}),n){if(n.useAttrs&&(o(s),r.width>0&&r.height>0))return r;if(n.useClientDimensions&&(o(u),r.width>0&&r.height>0))return u;if(n.useBBox&&(o(c),r.width>0&&r.height>0))return c;if(n.useBoundingRect&&(o(d),r.width>0&&r.height>0))return d}try{let h={width:b(t.node(),"width","baseVal","value"),height:b(t.node(),"height","baseVal","value")};o(h)}catch{o(u),o(c),o(s)}return r}static appendOrSelect(t,n){let r=t.select(`${n}`);if(r.empty()){let o=n.split("#"),s,i;return o.length===2?(s=o[0],o=o[1].split("."),i=o[0]):(o=n.split("."),s=o[0]),t.append(s).attr("id",i).attr("class",o.slice(1).join(" "))}return r}init(){this.initializeID(),this.styleHolderElement(),this.addMainContainer(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()}getChartID(){return this.chartID}getElementOffset(t,n=!1){let r={left:0,top:0},o=t.getBoundingClientRect(),s=n?{left:0,top:0}:this.getHolder().getBoundingClientRect();try{r.left=o.left-s.left,r.top=o.top-s.top}catch(i){console.error(i)}return r}generateElementIDString(t){return`chart-${this.chartID}-${t}`}initializeID(){this.chartID=Math.floor((1+Math.random())*281474976710656).toString(16)}addMainContainer(){let t=this.model.getOptions(),n=b(t,"style","prefix"),r=R(this.getHolder()).append("div").classed(`${ft}--${n}--chart-wrapper`,!0).attr("id",`chart-${this.getChartID()}`).style("height","100%").style("width","100%");r.append("g").attr("class",HB),this.mainContainer=r.node()}update(){this.styleHolderElement()}styleHolderElement(){let t=this.getHolder(),{width:n,height:r,theme:o}=this.model.getOptions();n!==this.width&&(t.style.width=n,this.width=n),r!==this.height&&(t.style.height=r,this.height=r),R(this.getHolder()).classed(`${ft}--chart-holder`,!0).attr("data-carbon-theme",o)}getHolder(){return this.model.get("holder")}exportToJPG(){let t=this,n=this.model.getOptions(),r=this.getHolder(),o=R(r);o.classed("filled",!0),zB(this.getMainContainer(),{quality:1,filter:s=>!(s.classList&&s.classList.contains("cds--cc--toolbar"))}).then(function(s){var i;let a="myChart",c=b(n,"fileDownload","fileName");typeof c=="function"?a=c("jpg"):typeof c=="string"&&(a=c),(i=t.services.files)==null||i.downloadImage(s,`${a}.jpg`),o.classed("filled",!1)})}exportToPNG(){let t=this,n=this.model.getOptions(),r=this.getHolder(),o=R(r);o.classed("filled",!0),UB(this.getMainContainer(),{quality:1,filter:s=>!(s.classList&&s.classList.contains("cds--cc--toolbar"))}).then(function(s){var i;let a="myChart",c=b(n,"fileDownload","fileName");typeof c=="function"?a=c("png"):typeof c=="string"&&(a=c),(i=t.services.files)==null||i.downloadImage(s,`${a}.png`),o.classed("filled",!1)}).catch(function(s){console.error("oops, something went wrong!",s)})}isFullScreenMode(){return R(this.getHolder()).classed("fullscreen")}toggleFullscreen(){let t=this.getHolder();R(t).classed("fullscreen")&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}handleFullscreenChange(){document.addEventListener("fullscreenchange",()=>{let t=R(this.getHolder()),n=t.classed("fullscreen");t.classed("fullscreen",!n)})}setSVGMaxHeight(){if(!this.model.getOptions().height){let{height:t}=e.getSVGElementSize(R(this.mainContainer),{useBBox:!0}),n=R(this.mainContainer).attr("class"),r=R(this.mainContainer).selectAll(`.${n} > svg`),o=0;r.nodes().forEach(function(s){o+=Number(e.getSVGElementSize(R(s),{useBBox:!0}).height)}),o<=t?R(this.mainContainer).attr("height",o):R(this.mainContainer).attr("height","100%")}}getMainContainer(){return this.mainContainer}addHolderListeners(){let t=this.getHolder();t&&R(t).on("mouseover",()=>{var n;(n=this.services.events)==null||n.dispatchEvent(_.Chart.MOUSEOVER)}).on("mouseout",()=>{var n;(n=this.services.events)==null||n.dispatchEvent(_.Chart.MOUSEOUT)})}addResizeListener(){let t=this.getHolder();if(!t)return;let n=t.clientWidth,r=t.clientHeight,o=fD(()=>{var s;t&&(Math.abs(n-t.clientWidth)>1||Math.abs(r-t.clientHeight)>1)&&(n=t.clientWidth,r=t.clientHeight,(s=this.services.events)==null||s.dispatchEvent(_.Chart.RESIZE))},12.5);new ResizeObserver(o).observe(t)}},Mo=class e extends Wt{static appendOrUpdateLinearGradient(t){let n=t.svg.select(`defs linearGradient#${t.id}`);n.empty()&&(n=t.svg.append("defs").append("linearGradient").attr("id",t.id).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2)),n.selectAll("stop").remove(),n.selectAll("stop").data(t.stops).enter().append("stop").attr("offset",r=>r.offset).style("stop-color",r=>r.color).style("stop-opacity",r=>r.opacity)}static getOffsetRatio(t){return(Math.abs(t[1])*100/Math.abs(t[0]-t[1])).toFixed(2)+"%"}static getStops(t,n){let r=t[0]<0&&t[1]>0,o=[{offset:"0%",color:n,opacity:"0.6"},{offset:"80%",color:n,opacity:"0"}];return r&&(o=[{offset:"0%",color:n,opacity:"0.6"},{offset:e.getOffsetRatio(t),color:n,opacity:"0"},{offset:"100%",color:n,opacity:"0.6"}]),o}};function eV(e,t,n,r){for(var o=-1,s=e==null?0:e.length;++o<s;)n=t(n,e[o],o,e);return n}function tV(e){return function(t){return e?.[t]}}var nV={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},rV=tV(nV),oV=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sV="\\u0300-\\u036f",iV="\\ufe20-\\ufe2f",aV="\\u20d0-\\u20ff",cV=sV+iV+aV,lV="["+cV+"]",dV=RegExp(lV,"g");function uV(e){return e=wo(e),e&&e.replace(oV,rV).replace(dV,"")}var hV=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function fV(e){return e.match(hV)||[]}var pV=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function gV(e){return pV.test(e)}var hS="\\ud800-\\udfff",mV="\\u0300-\\u036f",vV="\\ufe20-\\ufe2f",yV="\\u20d0-\\u20ff",bV=mV+vV+yV,fS="\\u2700-\\u27bf",pS="a-z\\xdf-\\xf6\\xf8-\\xff",wV="\\xac\\xb1\\xd7\\xf7",xV="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",EV="\\u2000-\\u206f",DV=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gS="A-Z\\xc0-\\xd6\\xd8-\\xde",SV="\\ufe0e\\ufe0f",mS=wV+xV+EV+DV,vS="['\u2019]",RD="["+mS+"]",CV="["+bV+"]",yS="\\d+",_V="["+fS+"]",bS="["+pS+"]",wS="[^"+hS+mS+yS+fS+pS+gS+"]",TV="\\ud83c[\\udffb-\\udfff]",MV="(?:"+CV+"|"+TV+")",kV="[^"+hS+"]",xS="(?:\\ud83c[\\udde6-\\uddff]){2}",ES="[\\ud800-\\udbff][\\udc00-\\udfff]",li="["+gS+"]",IV="\\u200d",ND="(?:"+bS+"|"+wS+")",OV="(?:"+li+"|"+wS+")",LD="(?:"+vS+"(?:d|ll|m|re|s|t|ve))?",PD="(?:"+vS+"(?:D|LL|M|RE|S|T|VE))?",DS=MV+"?",SS="["+SV+"]?",AV="(?:"+IV+"(?:"+[kV,xS,ES].join("|")+")"+SS+DS+")*",RV="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",NV="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",LV=SS+DS+AV,PV="(?:"+[_V,xS,ES].join("|")+")"+LV,FV=RegExp([li+"?"+bS+"+"+LD+"(?="+[RD,li,"$"].join("|")+")",OV+"+"+PD+"(?="+[RD,li+ND,"$"].join("|")+")",li+"?"+ND+"+"+LD,li+"+"+PD,NV,RV,yS,PV].join("|"),"g");function jV(e){return e.match(FV)||[]}function BV(e,t,n){return e=wo(e),t=t,t===void 0?gV(e)?jV(e):fV(e):e.match(t)||[]}var VV="['\u2019]",$V=RegExp(VV,"g");function Hv(e){return function(t){return eV(BV(uV(t).replace($V,"")),e,"")}}function UV(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function zV(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=_o(n),n=n===n?n:0),t!==void 0&&(t=_o(t),t=t===t?t:0),UV(_o(e),t,n)}var HV="Expected a function";function GV(e,t,n){if(typeof e!="function")throw new TypeError(HV);return setTimeout(function(){e.apply(void 0,n)},t)}var tJ=Wd(function(e,t,n){return GV(e,_o(t)||0,n)});function qV(e,t){return Ra(e,t)}var nJ=Hv(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});function WV(e,t){var n;return pu(e,function(r,o,s){return n=t(r,o,s),!n}),!!n}function ZV(e,t,n){var r=it(e)?dm:WV;return r(e,Na(t))}var di=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,r=0;for(let o=0;o<this._n&&o<32;o++){let s=n[o],i=t+s,a=Math.abs(t)<Math.abs(s)?t-(i-s):s-(i-t);a&&(n[r++]=a),t=i}return n[r]=t,this._n=r+1,this}valueOf(){let t=this._partials,n=this._n,r,o,s,i=0;if(n>0){for(i=t[--n];n>0&&(r=i,o=t[--n],i=r+o,s=o-(i-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(o=s*2,r=i+o,o==r-i&&(i=r))}return i}};function*YV(e){for(let t of e)yield*P0(t)}function XV(e){return Array.from(YV(e))}function KV(e){return e}var Au=1,Ru=2,vv=3,oc=4,FD=1e-6;function QV(e){return"translate("+e+",0)"}function JV(e){return"translate(0,"+e+")"}function e$(e){return t=>+e(t)}function t$(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function n$(){return!this.__axis}function ch(e,t){var n=[],r=null,o=null,s=6,i=6,a=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Au||e===oc?-1:1,d=e===oc||e===Ru?"x":"y",u=e===Au||e===vv?QV:JV;function h(f){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),v=o??(t.tickFormat?t.tickFormat.apply(t,n):KV),g=Math.max(s,0)+a,m=t.range(),w=+m[0]+c,y=+m[m.length-1]+c,S=(t.bandwidth?t$:e$)(t.copy(),c),E=f.selection?f.selection():f,D=E.selectAll(".domain").data([null]),C=E.selectAll(".tick").data(p,t).order(),T=C.exit(),A=C.enter().append("g").attr("class","tick"),M=C.select("line"),I=C.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(A),M=M.merge(A.append("line").attr("stroke","currentColor").attr(d+"2",l*s)),I=I.merge(A.append("text").attr("fill","currentColor").attr(d,l*g).attr("dy",e===Au?"0em":e===vv?"0.71em":"0.32em")),f!==E&&(D=D.transition(f),C=C.transition(f),M=M.transition(f),I=I.transition(f),T=T.transition(f).attr("opacity",FD).attr("transform",function(W){return isFinite(W=S(W))?u(W+c):this.getAttribute("transform")}),A.attr("opacity",FD).attr("transform",function(W){var N=this.parentNode.__axis;return u((N&&isFinite(N=N(W))?N:S(W))+c)})),T.remove(),D.attr("d",e===oc||e===Ru?i?"M"+l*i+","+w+"H"+c+"V"+y+"H"+l*i:"M"+c+","+w+"V"+y:i?"M"+w+","+l*i+"V"+c+"H"+y+"V"+l*i:"M"+w+","+c+"H"+y),C.attr("opacity",1).attr("transform",function(W){return u(S(W)+c)}),M.attr(d+"2",l*s),I.attr(d,l*g).text(v),E.filter(n$).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ru?"start":e===oc?"end":"middle"),E.each(function(){this.__axis=S})}return h.scale=function(f){return arguments.length?(t=f,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(f){return arguments.length?(n=f==null?[]:Array.from(f),h):n.slice()},h.tickValues=function(f){return arguments.length?(r=f==null?null:Array.from(f),h):r&&r.slice()},h.tickFormat=function(f){return arguments.length?(o=f,h):o},h.tickSize=function(f){return arguments.length?(s=i=+f,h):s},h.tickSizeInner=function(f){return arguments.length?(s=+f,h):s},h.tickSizeOuter=function(f){return arguments.length?(i=+f,h):i},h.tickPadding=function(f){return arguments.length?(a=+f,h):a},h.offset=function(f){return arguments.length?(c=+f,h):c},h}function r$(e){return ch(Au,e)}function o$(e){return ch(Ru,e)}function CS(e){return ch(vv,e)}function _S(e){return ch(oc,e)}var yv={capture:!0,passive:!1};function bv(e){e.preventDefault(),e.stopImmediatePropagation()}function s$(e){var t=e.document.documentElement,n=R(e).on("dragstart.drag",bv,yv);"onselectstart"in t?n.on("selectstart.drag",bv,yv):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function i$(e,t){var n=e.document.documentElement,r=R(e).on("dragstart.drag",null);t&&(r.on("click.drag",bv,yv),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var a$=e=>+e,sv=e=>()=>e;function c$(e,{sourceEvent:t,target:n,selection:r,mode:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function l$(e){e.stopImmediatePropagation()}function iv(e){e.preventDefault(),e.stopImmediatePropagation()}var jD={name:"drag"},av={name:"space"},ii={name:"handle"},ai={name:"center"},{abs:BD,max:bt,min:wt}=Math;function VD(e){return[+e[0],+e[1]]}function $D(e){return[VD(e[0]),VD(e[1])]}var Nu={name:"x",handles:["w","e"].map(Bu),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},cv={name:"y",handles:["n","s"].map(Bu),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},fr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},UD={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},zD={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},d$={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},u$={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Bu(e){return{type:e}}function h$(e){return!e.ctrlKey&&!e.button}function f$(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function p$(){return navigator.maxTouchPoints||"ontouchstart"in this}function lv(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function g$(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function TS(){return m$(Nu)}function m$(e){var t=f$,n=h$,r=p$,o=!0,s=nu("start","brush","end"),i=6,a;function c(g){var m=g.property("__brush",v).selectAll(".overlay").data([Bu("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",fr.overlay).merge(m).each(function(){var y=lv(this).extent;R(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),g.selectAll(".selection").data([Bu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",fr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=g.selectAll(".handle").data(e.handles,function(y){return y.type});w.exit().remove(),w.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return fr[y.type]}),g.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(g,m,w){g.tween?g.on("start.brush",function(y){d(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){d(this,arguments).end(y)}).tween("brush",function(){var y=this,S=y.__brush,E=d(y,arguments),D=S.selection,C=e.input(typeof m=="function"?m.apply(this,arguments):m,S.extent),T=Fa(D,C);function A(M){S.selection=M===1&&C===null?null:T(M),l.call(y),E.brush()}return D!==null&&C!==null?A:A(1)}):g.each(function(){var y=this,S=arguments,E=y.__brush,D=e.input(typeof m=="function"?m.apply(y,S):m,E.extent),C=d(y,S).beforestart();iu(y),E.selection=D===null?null:D,l.call(y),C.start(w).brush(w).end(w)})},c.clear=function(g,m){c.move(g,null,m)};function l(){var g=R(this),m=lv(this).selection;m?(g.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?m[1][0]-i/2:m[0][0]-i/2}).attr("y",function(w){return w.type[0]==="s"?m[1][1]-i/2:m[0][1]-i/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?m[1][0]-m[0][0]+i:i}).attr("height",function(w){return w.type==="e"||w.type==="w"?m[1][1]-m[0][1]+i:i})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(g,m,w){var y=g.__brush.emitter;return y&&(!w||!y.clean)?y:new u(g,m,w)}function u(g,m,w){this.that=g,this.args=m,this.state=g.__brush,this.active=0,this.clean=w}u.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,m){return this.starting?(this.starting=!1,this.emit("start",g,m)):this.emit("brush",g),this},brush:function(g,m){return this.emit("brush",g,m),this},end:function(g,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,m)),this},emit:function(g,m,w){var y=R(this.that).datum();s.call(g,this.that,new c$(g,{sourceEvent:m,target:c,selection:e.output(this.state.selection),mode:w,dispatch:s}),y)}};function h(g){if(a&&!g.touches||!n.apply(this,arguments))return;var m=this,w=g.target.__data__.type,y=(o&&g.metaKey?w="overlay":w)==="selection"?jD:o&&g.altKey?ai:ii,S=e===cv?null:d$[w],E=e===Nu?null:u$[w],D=lv(m),C=D.extent,T=D.selection,A=C[0][0],M,I,W=C[0][1],N,U,Ie=C[1][0],me,q,_e=C[1][1],ne,K,Se=0,Y=0,xt,ce=S&&E&&o&&g.shiftKey,Ve,B,Z=Array.from(g.touches||[g],G=>{let Le=G.identifier;return G=Ar(G,m),G.point0=G.slice(),G.identifier=Le,G});iu(m);var ue=d(m,arguments,!0).beforestart();if(w==="overlay"){T&&(xt=!0);let G=[Z[0],Z[1]||Z[0]];D.selection=T=[[M=e===cv?A:wt(G[0][0],G[1][0]),N=e===Nu?W:wt(G[0][1],G[1][1])],[me=e===cv?Ie:bt(G[0][0],G[1][0]),ne=e===Nu?_e:bt(G[0][1],G[1][1])]],Z.length>1&&Te(g)}else M=T[0][0],N=T[0][1],me=T[1][0],ne=T[1][1];I=M,U=N,q=me,K=ne;var L=R(m).attr("pointer-events","none"),H=L.selectAll(".overlay").attr("cursor",fr[w]);if(g.touches)ue.moved=O,ue.ended=ve;else{var X=R(g.view).on("mousemove.brush",O,!0).on("mouseup.brush",ve,!0);o&&X.on("keydown.brush",et,!0).on("keyup.brush",He,!0),s$(g.view)}l.call(m),ue.start(g,y.name);function O(G){for(let Le of G.changedTouches||[G])for(let pr of Z)pr.identifier===Le.identifier&&(pr.cur=Ar(Le,m));if(ce&&!Ve&&!B&&Z.length===1){let Le=Z[0];BD(Le.cur[0]-Le[0])>BD(Le.cur[1]-Le[1])?B=!0:Ve=!0}for(let Le of Z)Le.cur&&(Le[0]=Le.cur[0],Le[1]=Le.cur[1]);xt=!0,iv(G),Te(G)}function Te(G){let Le=Z[0],pr=Le.point0;var un;switch(Se=Le[0]-pr[0],Y=Le[1]-pr[1],y){case av:case jD:{S&&(Se=bt(A-M,wt(Ie-me,Se)),I=M+Se,q=me+Se),E&&(Y=bt(W-N,wt(_e-ne,Y)),U=N+Y,K=ne+Y);break}case ii:{Z[1]?(S&&(I=bt(A,wt(Ie,Z[0][0])),q=bt(A,wt(Ie,Z[1][0])),S=1),E&&(U=bt(W,wt(_e,Z[0][1])),K=bt(W,wt(_e,Z[1][1])),E=1)):(S<0?(Se=bt(A-M,wt(Ie-M,Se)),I=M+Se,q=me):S>0&&(Se=bt(A-me,wt(Ie-me,Se)),I=M,q=me+Se),E<0?(Y=bt(W-N,wt(_e-N,Y)),U=N+Y,K=ne):E>0&&(Y=bt(W-ne,wt(_e-ne,Y)),U=N,K=ne+Y));break}case ai:{S&&(I=bt(A,wt(Ie,M-Se*S)),q=bt(A,wt(Ie,me+Se*S))),E&&(U=bt(W,wt(_e,N-Y*E)),K=bt(W,wt(_e,ne+Y*E)));break}}q<I&&(S*=-1,un=M,M=me,me=un,un=I,I=q,q=un,w in UD&&H.attr("cursor",fr[w=UD[w]])),K<U&&(E*=-1,un=N,N=ne,ne=un,un=U,U=K,K=un,w in zD&&H.attr("cursor",fr[w=zD[w]])),D.selection&&(T=D.selection),Ve&&(I=T[0][0],q=T[1][0]),B&&(U=T[0][1],K=T[1][1]),(T[0][0]!==I||T[0][1]!==U||T[1][0]!==q||T[1][1]!==K)&&(D.selection=[[I,U],[q,K]],l.call(m),ue.brush(G,y.name))}function ve(G){if(l$(G),G.touches){if(G.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else i$(G.view,xt),X.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),H.attr("cursor",fr.overlay),D.selection&&(T=D.selection),g$(T)&&(D.selection=null,l.call(m)),ue.end(G,y.name)}function et(G){switch(G.keyCode){case 16:{ce=S&&E;break}case 18:{y===ii&&(S&&(me=q-Se*S,M=I+Se*S),E&&(ne=K-Y*E,N=U+Y*E),y=ai,Te(G));break}case 32:{(y===ii||y===ai)&&(S<0?me=q-Se:S>0&&(M=I-Se),E<0?ne=K-Y:E>0&&(N=U-Y),y=av,H.attr("cursor",fr.selection),Te(G));break}default:return}iv(G)}function He(G){switch(G.keyCode){case 16:{ce&&(Ve=B=ce=!1,Te(G));break}case 18:{y===ai&&(S<0?me=q:S>0&&(M=I),E<0?ne=K:E>0&&(N=U),y=ii,Te(G));break}case 32:{y===av&&(G.altKey?(S&&(me=q-Se*S,M=I+Se*S),E&&(ne=K-Y*E,N=U+Y*E),y=ai):(S<0?me=q:S>0&&(M=I),E<0?ne=K:E>0&&(N=U),y=ii),H.attr("cursor",fr[w]),Te(G));break}default:return}iv(G)}}function f(g){d(this,arguments).moved(g)}function p(g){d(this,arguments).ended(g)}function v(){var g=this.__brush||{selection:null};return g.extent=$D(t.apply(this,arguments)),g.dim=e,g}return c.extent=function(g){return arguments.length?(t=typeof g=="function"?g:sv($D(g)),c):t},c.filter=function(g){return arguments.length?(n=typeof g=="function"?g:sv(!!g),c):n},c.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:sv(!!g),c):r},c.handleSize=function(g){return arguments.length?(i=+g,c):i},c.keyModifiers=function(g){return arguments.length?(o=!!g,c):o},c.on=function(){var g=s.on.apply(s,arguments);return g===s?c:g},c}var wv=Math.PI,xv=2*wv,Ao=1e-6,v$=xv-Ao;function MS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function y$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MS;let n=10**t;return function(r){this._+=r[0];for(let o=1,s=r.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}var Gv=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MS:y$(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,o,s){this._append`C${+e},${+t},${+n},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(e,t,n,r,o){if(e=+e,t=+t,n=+n,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,i=this._y1,a=n-e,c=r-t,l=s-e,d=i-t,u=l*l+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Ao)if(!(Math.abs(d*a-c*l)>Ao)||!o)this._append`L${this._x1=e},${this._y1=t}`;else{let h=n-s,f=r-i,p=a*a+c*c,v=h*h+f*f,g=Math.sqrt(p),m=Math.sqrt(u),w=o*Math.tan((wv-Math.acos((p+u-v)/(2*g*m)))/2),y=w/m,S=w/g;Math.abs(y-1)>Ao&&this._append`L${e+y*l},${t+y*d}`,this._append`A${o},${o},0,0,${+(d*h>l*f)},${this._x1=e+S*a},${this._y1=t+S*c}`}}arc(e,t,n,r,o,s){if(e=+e,t=+t,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let i=n*Math.cos(r),a=n*Math.sin(r),c=e+i,l=t+a,d=1^s,u=s?r-o:o-r;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Ao||Math.abs(this._y1-l)>Ao)&&this._append`L${c},${l}`,n&&(u<0&&(u=u%xv+xv),u>v$?this._append`A${n},${n},0,1,${d},${e-i},${t-a}A${n},${n},0,1,${d},${this._x1=c},${this._y1=l}`:u>Ao&&this._append`A${n},${n},0,${+(u>=wv)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function b$(){return new Gv}b$.prototype=Gv.prototype;var gt=1e-6,kS=1e-12,Ue=Math.PI,Pt=Ue/2,HD=Ue/4,dc=Ue*2,rJ=180/Ue,Ev=Ue/180,Zt=Math.abs,IS=Math.atan,w$=Math.atan2,Tn=Math.cos,x$=Math.exp,E$=Math.log,Lt=Math.sin,D$=Math.sign||function(e){return e>0?1:e<0?-1:0},OS=Math.sqrt,S$=Math.tan;function qv(e){return e>1?Pt:e<-1?-Pt:Math.asin(e)}function AS(){}function GD(e){var t=e[0],n=e[1],r=Tn(n);return[r*Tn(t),r*Lt(t),Lt(n)]}function qD(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function WD(e){var t=OS(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ZD(e,t){return Zt(e)>Ue&&(e-=Math.round(e/dc)*dc),[e,t]}ZD.invert=ZD;function C$(){var e=[],t;return{point:function(n,r,o){t.push([n,r,o])},lineStart:function(){e.push(t=[])},lineEnd:AS,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function _$(e,t){return Zt(e[0]-t[0])<gt&&Zt(e[1]-t[1])<gt}function _u(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function T$(e,t,n,r,o){var s=[],i=[],a,c;if(e.forEach(function(p){if(!((v=p.length-1)<=0)){var v,g=p[0],m=p[v],w;if(_$(g,m)){if(!g[2]&&!m[2]){for(o.lineStart(),a=0;a<v;++a)o.point((g=p[a])[0],g[1]);o.lineEnd();return}m[0]+=2*gt}s.push(w=new _u(g,p,null,!0)),i.push(w.o=new _u(g,null,w,!1)),s.push(w=new _u(m,p,null,!1)),i.push(w.o=new _u(m,null,w,!0))}}),!!s.length){for(i.sort(t),YD(s),YD(i),a=0,c=i.length;a<c;++a)i[a].e=n=!n;for(var l=s[0],d,u;;){for(var h=l,f=!0;h.v;)if((h=h.n)===l)return;d=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,c=d.length;a<c;++a)o.point((u=d[a])[0],u[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(f)for(d=h.p.z,a=d.length-1;a>=0;--a)o.point((u=d[a])[0],u[1]);else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,d=h.z,f=!f}while(!h.v);o.lineEnd()}}}function YD(e){if(t=e.length){for(var t,n=0,r=e[0],o;++n<t;)r.n=o=e[n],o.p=r,r=o;r.n=o=e[0],o.p=r}}function dv(e){return Zt(e[0])<=Ue?e[0]:D$(e[0])*((Zt(e[0])+Ue)%dc-Ue)}function M$(e,t){var n=dv(t),r=t[1],o=Lt(r),s=[Lt(n),-Tn(n),0],i=0,a=0,c=new di;o===1?r=Pt+gt:o===-1&&(r=-Pt-gt);for(var l=0,d=e.length;l<d;++l)if(h=(u=e[l]).length)for(var u,h,f=u[h-1],p=dv(f),v=f[1]/2+HD,g=Lt(v),m=Tn(v),w=0;w<h;++w,p=S,g=D,m=C,f=y){var y=u[w],S=dv(y),E=y[1]/2+HD,D=Lt(E),C=Tn(E),T=S-p,A=T>=0?1:-1,M=A*T,I=M>Ue,W=g*D;if(c.add(w$(W*A*Lt(M),m*C+W*Tn(M))),i+=I?T+A*dc:T,I^p>=n^S>=n){var N=qD(GD(f),GD(y));WD(N);var U=qD(s,N);WD(U);var Ie=(I^T>=0?-1:1)*qv(U[2]);(r>Ie||r===Ie&&(N[0]||N[1]))&&(a+=I^T>=0?1:-1)}}return(i<-gt||i<gt&&c<-kS)^a&1}function k$(e,t,n,r){return function(o){var s=t(o),i=C$(),a=t(i),c=!1,l,d,u,h={point:f,lineStart:v,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=w,h.lineEnd=y,d=[],l=[]},polygonEnd:function(){h.point=f,h.lineStart=v,h.lineEnd=g,d=XV(d);var S=M$(l,r);d.length?(c||(o.polygonStart(),c=!0),T$(d,O$,S,n,o)):S&&(c||(o.polygonStart(),c=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),c&&(o.polygonEnd(),c=!1),d=l=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function f(S,E){e(S,E)&&o.point(S,E)}function p(S,E){s.point(S,E)}function v(){h.point=p,s.lineStart()}function g(){h.point=f,s.lineEnd()}function m(S,E){u.push([S,E]),a.point(S,E)}function w(){a.lineStart(),u=[]}function y(){m(u[0][0],u[0][1]),a.lineEnd();var S=a.clean(),E=i.result(),D,C=E.length,T,A,M;if(u.pop(),l.push(u),u=null,!!C){if(S&1){if(A=E[0],(T=A.length-1)>0){for(c||(o.polygonStart(),c=!0),o.lineStart(),D=0;D<T;++D)o.point((M=A[D])[0],M[1]);o.lineEnd()}return}C>1&&S&2&&E.push(E.pop().concat(E.shift())),d.push(E.filter(I$))}}return h}}function I$(e){return e.length>1}function O$(e,t){return((e=e.x)[0]<0?e[1]-Pt-gt:Pt-e[1])-((t=t.x)[0]<0?t[1]-Pt-gt:Pt-t[1])}var oJ=k$(function(){return!0},A$,N$,[-Ue,-Pt]);function A$(e){var t=NaN,n=NaN,r=NaN,o;return{lineStart:function(){e.lineStart(),o=1},point:function(s,i){var a=s>0?Ue:-Ue,c=Zt(s-t);Zt(c-Ue)<gt?(e.point(t,n=(n+i)/2>0?Pt:-Pt),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(s,n),o=0):r!==a&&c>=Ue&&(Zt(t-r)<gt&&(t-=r*gt),Zt(s-a)<gt&&(s-=a*gt),n=R$(t,n,s,i),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),o=0),e.point(t=s,n=i),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-o}}}function R$(e,t,n,r){var o,s,i=Lt(e-n);return Zt(i)>gt?IS((Lt(t)*(s=Tn(r))*Lt(n)-Lt(r)*(o=Tn(t))*Lt(e))/(o*s*i)):(t+r)/2}function N$(e,t,n,r){var o;if(e==null)o=n*Pt,r.point(-Ue,o),r.point(0,o),r.point(Ue,o),r.point(Ue,0),r.point(Ue,-o),r.point(0,-o),r.point(-Ue,-o),r.point(-Ue,0),r.point(-Ue,o);else if(Zt(e[0]-t[0])>gt){var s=e[0]<t[0]?Ue:-Ue;o=n*s/2,r.point(-s,o),r.point(0,o),r.point(s,o)}else r.point(t[0],t[1])}var L$=1e9,sJ=-L$;var iJ=new di,aJ=new di;var P$=1/0;var cJ=-P$;function F$(e){this._context=e}F$.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,dc);break}}},result:AS};var lJ=new di;function j$(e){return function(t){var n=new Dv;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Dv(){}Dv.prototype={constructor:Dv,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dJ=Tn(30*Ev);var uJ=j$({point:function(e,t){this.stream.point(e*Ev,t*Ev)}});function B$(e,t){return[e,E$(S$((Pt+t)/2))]}B$.invert=function(e,t){return[e,2*IS(x$(t))-Pt]};function XD(e,t){return[e,t]}XD.invert=XD;var ic=1.340264,ac=-.081106,cc=893e-6,lc=.003796,Vu=OS(3)/2,V$=12;function $$(e,t){var n=qv(Vu*Lt(t)),r=n*n,o=r*r*r;return[e*Tn(n)/(Vu*(ic+3*ac*r+o*(7*cc+9*lc*r))),n*(ic+ac*r+o*(cc+lc*r))]}$$.invert=function(e,t){for(var n=t,r=n*n,o=r*r*r,s=0,i,a,c;s<V$&&(a=n*(ic+ac*r+o*(cc+lc*r))-t,c=ic+3*ac*r+o*(7*cc+9*lc*r),n-=i=a/c,r=n*n,o=r*r*r,!(Zt(i)<kS));++s);return[Vu*e*(ic+3*ac*r+o*(7*cc+9*lc*r))/Tn(n),qv(Lt(n)/Vu)]};function U$(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}U$.invert=function(e,t){var n=t,r=25,o;do{var s=n*n,i=s*s;n-=o=(n*(1.007226+s*(.015085+i*(-.044475+.028874*s-.005916*i)))-t)/(1.007226+s*(.015085*3+i*(-.044475*7+.028874*9*s-.005916*11*i)))}while(Zt(o)>gt&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function z$(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function H$(){return this.eachAfter(z$)}function G$(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function q$(e,t){for(var n=this,r=[n],o,s,i=-1;n=r.pop();)if(e.call(t,n,++i,this),o=n.children)for(s=o.length-1;s>=0;--s)r.push(o[s]);return this}function W$(e,t){for(var n=this,r=[n],o=[],s,i,a,c=-1;n=r.pop();)if(o.push(n),s=n.children)for(i=0,a=s.length;i<a;++i)r.push(s[i]);for(;n=o.pop();)e.call(t,n,++c,this);return this}function Z$(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function Y$(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n})}function X$(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function K$(e){for(var t=this,n=Q$(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r}function Q$(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}function J$(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function eU(){return Array.from(this)}function tU(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function nU(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*rU(){var e=this,t,n=[e],r,o,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(o=0,s=r.length;o<s;++o)n.push(r[o]);while(n.length)}function RS(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=iU)):t===void 0&&(t=sU);for(var n=new uc(e),r,o=[n],s,i,a,c;r=o.pop();)if((i=t(r.data))&&(c=(i=Array.from(i)).length))for(r.children=i,a=c-1;a>=0;--a)o.push(s=i[a]=new uc(i[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(cU)}function oU(){return RS(this).eachBefore(aU)}function sU(e){return e.children}function iU(e){return Array.isArray(e)?e[1]:null}function aU(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function cU(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function uc(e){this.data=e,this.depth=this.height=0,this.parent=null}uc.prototype=RS.prototype={constructor:uc,count:H$,each:G$,eachAfter:W$,eachBefore:q$,find:Z$,sum:Y$,sort:X$,path:K$,ancestors:J$,descendants:eU,leaves:tU,links:nU,copy:oU,[Symbol.iterator]:rU};function lU(e,t,n,r,o){for(var s=e.children,i,a=-1,c=s.length,l=e.value&&(r-t)/e.value;++a<c;)i=s[a],i.y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*l}function dU(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}dU.prototype=Object.create(uc.prototype);function uU(e,t,n,r,o){for(var s=e.children,i,a=-1,c=s.length,l=e.value&&(o-n)/e.value;++a<c;)i=s[a],i.x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*l}var hU=(1+Math.sqrt(5))/2;function fU(e,t,n,r,o,s){for(var i=[],a=t.children,c,l,d=0,u=0,h=a.length,f,p,v=t.value,g,m,w,y,S,E,D;d<h;){f=o-n,p=s-r;do g=a[u++].value;while(!g&&u<h);for(m=w=g,E=Math.max(p/f,f/p)/(v*e),D=g*g*E,S=Math.max(w/D,D/m);u<h;++u){if(g+=l=a[u].value,l<m&&(m=l),l>w&&(w=l),D=g*g*E,y=Math.max(w/D,D/m),y>S){g-=l;break}S=y}i.push(c={value:g,dice:f<p,children:a.slice(d,u)}),c.dice?lU(c,n,r,o,v?r+=p*g/v:s):uU(c,n,r,v?n+=f*g/v:o,s),v-=g,d=u}return i}var hJ=function e(t){function n(r,o,s,i,a){fU(t,r,o,s,i,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(hU);function Wv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Gv(t)}function pU(e){return e.innerRadius}function gU(e){return e.outerRadius}function mU(e){return e.startAngle}function vU(e){return e.endAngle}function yU(e){return e&&e.padAngle}function bU(e,t,n,r,o,s,i,a){var c=n-e,l=r-t,d=i-o,u=a-s,h=u*c-d*l;if(!(h*h<ct))return h=(d*(t-s)-u*(e-o))/h,[e+h*c,t+h*l]}function Tu(e,t,n,r,o,s,i){var a=e-n,c=t-r,l=(i?s:-s)/Oo(a*a+c*c),d=l*c,u=-l*a,h=e+d,f=t+u,p=n+d,v=r+u,g=(h+p)/2,m=(f+v)/2,w=p-h,y=v-f,S=w*w+y*y,E=o-s,D=h*v-p*f,C=(y<0?-1:1)*Oo(xD(0,E*E*S-D*D)),T=(D*y-w*C)/S,A=(-D*w-y*C)/S,M=(D*y+w*C)/S,I=(-D*w+y*C)/S,W=T-g,N=A-m,U=M-g,Ie=I-m;return W*W+N*N>U*U+Ie*Ie&&(T=M,A=I),{cx:T,cy:A,x01:-d,y01:-u,x11:T*(o/E-1),y11:A*(o/E-1)}}function wU(){var e=pU,t=gU,n=Ee(0),r=null,o=mU,s=vU,i=yU,a=null,c=Wv(l);function l(){var d,u,h=+e.apply(this,arguments),f=+t.apply(this,arguments),p=o.apply(this,arguments)-Ka,v=s.apply(this,arguments)-Ka,g=ev(v-p),m=v>p;if(a||(a=d=c()),f<h&&(u=f,f=h,h=u),!(f>ct))a.moveTo(0,0);else if(g>ED-ct)a.moveTo(f*Rr(p),f*Cn(p)),a.arc(0,0,f,p,v,!m),h>ct&&(a.moveTo(h*Rr(v),h*Cn(v)),a.arc(0,0,h,v,p,m));else{var w=p,y=v,S=p,E=v,D=g,C=g,T=i.apply(this,arguments)/2,A=T>ct&&(r?+r.apply(this,arguments):Oo(h*h+f*f)),M=Su(ev(f-h)/2,+n.apply(this,arguments)),I=M,W=M,N,U;if(A>ct){var Ie=tv(A/h*Cn(T)),me=tv(A/f*Cn(T));(D-=Ie*2)>ct?(Ie*=m?1:-1,S+=Ie,E-=Ie):(D=0,S=E=(p+v)/2),(C-=me*2)>ct?(me*=m?1:-1,w+=me,y-=me):(C=0,w=y=(p+v)/2)}var q=f*Rr(w),_e=f*Cn(w),ne=h*Rr(E),K=h*Cn(E);if(M>ct){var Se=f*Rr(y),Y=f*Cn(y),xt=h*Rr(S),ce=h*Cn(S),Ve;if(g<oi)if(Ve=bU(q,_e,xt,ce,Se,Y,ne,K)){var B=q-Ve[0],Z=_e-Ve[1],ue=Se-Ve[0],L=Y-Ve[1],H=1/Cn(DD((B*ue+Z*L)/(Oo(B*B+Z*Z)*Oo(ue*ue+L*L)))/2),X=Oo(Ve[0]*Ve[0]+Ve[1]*Ve[1]);I=Su(M,(h-X)/(H-1)),W=Su(M,(f-X)/(H+1))}else I=W=0}C>ct?W>ct?(N=Tu(xt,ce,q,_e,f,W,m),U=Tu(Se,Y,ne,K,f,W,m),a.moveTo(N.cx+N.x01,N.cy+N.y01),W<M?a.arc(N.cx,N.cy,W,pt(N.y01,N.x01),pt(U.y01,U.x01),!m):(a.arc(N.cx,N.cy,W,pt(N.y01,N.x01),pt(N.y11,N.x11),!m),a.arc(0,0,f,pt(N.cy+N.y11,N.cx+N.x11),pt(U.cy+U.y11,U.cx+U.x11),!m),a.arc(U.cx,U.cy,W,pt(U.y11,U.x11),pt(U.y01,U.x01),!m))):(a.moveTo(q,_e),a.arc(0,0,f,w,y,!m)):a.moveTo(q,_e),!(h>ct)||!(D>ct)?a.lineTo(ne,K):I>ct?(N=Tu(ne,K,Se,Y,h,-I,m),U=Tu(q,_e,xt,ce,h,-I,m),a.lineTo(N.cx+N.x01,N.cy+N.y01),I<M?a.arc(N.cx,N.cy,I,pt(N.y01,N.x01),pt(U.y01,U.x01),!m):(a.arc(N.cx,N.cy,I,pt(N.y01,N.x01),pt(N.y11,N.x11),!m),a.arc(0,0,h,pt(N.cy+N.y11,N.cx+N.x11),pt(U.cy+U.y11,U.cx+U.x11),m),a.arc(U.cx,U.cy,I,pt(U.y11,U.x11),pt(U.y01,U.x01),!m))):a.arc(0,0,h,E,S,m)}if(a.closePath(),d)return a=null,d+""||null}return l.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-oi/2;return[Rr(u)*d,Cn(u)*d]},l.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Ee(+d),l):e},l.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Ee(+d),l):t},l.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:Ee(+d),l):n},l.padRadius=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ee(+d),l):r},l.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:Ee(+d),l):o},l.endAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Ee(+d),l):s},l.padAngle=function(d){return arguments.length?(i=typeof d=="function"?d:Ee(+d),l):i},l.context=function(d){return arguments.length?(a=d??null,l):a},l}function NS(e){return e[0]}function LS(e){return e[1]}function Zv(e,t){var n=Ee(!0),r=null,o=si,s=null,i=Wv(a);e=typeof e=="function"?e:e===void 0?NS:Ee(e),t=typeof t=="function"?t:t===void 0?LS:Ee(t);function a(c){var l,d=(c=qa(c)).length,u,h=!1,f;for(r==null&&(s=o(f=i())),l=0;l<=d;++l)!(l<d&&n(u=c[l],l,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(u,l,c),+t(u,l,c));if(f)return s=null,f+""||null}return a.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ee(+c),a):e},a.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ee(+c),a):t},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ee(!!c),a):n},a.curve=function(c){return arguments.length?(o=c,r!=null&&(s=o(r)),a):o},a.context=function(c){return arguments.length?(c==null?r=s=null:s=o(r=c),a):r},a}function Yv(e,t,n){var r=null,o=Ee(!0),s=null,i=si,a=null,c=Wv(l);e=typeof e=="function"?e:e===void 0?NS:Ee(+e),t=typeof t=="function"?t:t===void 0?Ee(0):Ee(+t),n=typeof n=="function"?n:n===void 0?LS:Ee(+n);function l(u){var h,f,p,v=(u=qa(u)).length,g,m=!1,w,y=new Array(v),S=new Array(v);for(s==null&&(a=i(w=c())),h=0;h<=v;++h){if(!(h<v&&o(g=u[h],h,u))===m)if(m=!m)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=h-1;p>=f;--p)a.point(y[p],S[p]);a.lineEnd(),a.areaEnd()}m&&(y[h]=+e(g,h,u),S[h]=+t(g,h,u),a.point(r?+r(g,h,u):y[h],n?+n(g,h,u):S[h]))}if(w)return a=null,w+""||null}function d(){return Zv().defined(o).curve(i).context(s)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ee(+u),r=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Ee(+u),l):e},l.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Ee(+u),l):r},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ee(+u),n=null,l):t},l.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Ee(+u),l):t},l.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Ee(+u),l):n},l.lineX0=l.lineY0=function(){return d().x(e).y(t)},l.lineY1=function(){return d().x(e).y(n)},l.lineX1=function(){return d().x(r).y(t)},l.defined=function(u){return arguments.length?(o=typeof u=="function"?u:Ee(!!u),l):o},l.curve=function(u){return arguments.length?(i=u,s!=null&&(a=i(s)),l):i},l.context=function(u){return arguments.length?(u==null?s=a=null:a=i(s=u),l):s},l}var fJ=xU(si);function PS(e){this._curve=e}PS.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function xU(e){function t(n){return new PS(e(n))}return t._curve=e,t}var je=class{constructor(t,n,r){if(this.type="",this.renderType=be.HTML,this.id="",this.parent=void 0,this.configs={},this.model=t,this.services=n,r&&(this.configs=r,this.configs.id)){let o=b(this.model.getOptions(),"style","prefix");this.id=`${o}--${this.configs.id}`}this.parent||this.setParent(R(this.services.domUtils.getMainContainer()))}init(){}render(t=!0){console.error("Error: Component did not provide the required render function.")}destroy(){}setModel(t){this.model=t}setServices(t){this.services=t}setParent(t){var n;let r=this.parent;if(this.parent=t,!(r&&r.node()===t.node())&&this.type){let o=b(this.model.getOptions(),"style","prefix");(n=this.parent)==null||n.classed(`${ft}--${o}--${this.type}`,!0),r&&r.classed(`${ft}--${o}--${this.type}`,!1)}}getParent(){return this.parent}getComponentContainer(t={withinChartClip:!1}){if(this.type){let n=b(this.model.getOptions(),"style","prefix"),r=this.id?`#${this.id}`:"",o=P.appendOrSelect(this.parent,`${this.renderType===be.SVG?"svg":"div"}${r}.${ft}--${n}--${this.type}`);if(t.withinChartClip){let s=this.model.get("chartClipId");if(s){let i=R(`#${s}`).select("rect");i.size()!==0&&parseFloat(i.attr("height"))>0&&o.attr("clip-path",`url(#${s})`)}}return o.attr("width","100%").attr("height","100%")}return this.parent}getOptions(){return this.configs.options?J({},this.model.getOptions(),this.configs.options):this.model.getOptions()}};var{entries:FS,setPrototypeOf:KD,isFrozen:EU,getPrototypeOf:DU,getOwnPropertyDescriptor:SU}=Object,{freeze:kt,seal:dn,create:jS}=Object,{apply:Sv,construct:Cv}=typeof Reflect<"u"&&Reflect;kt||(kt=function(e){return e});dn||(dn=function(e){return e});Sv||(Sv=function(e,t,n){return e.apply(t,n)});Cv||(Cv=function(e,t){return new e(...t)});var Mu=Yt(Array.prototype.forEach),QD=Yt(Array.prototype.pop),ec=Yt(Array.prototype.push),Lu=Yt(String.prototype.toLowerCase),uv=Yt(String.prototype.toString),JD=Yt(String.prototype.match),tc=Yt(String.prototype.replace),CU=Yt(String.prototype.indexOf),_U=Yt(String.prototype.trim),_n=Yt(Object.prototype.hasOwnProperty),Mt=Yt(RegExp.prototype.test),nc=TU(TypeError);function Yt(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Sv(e,t,r)}}function TU(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cv(e,n)}}function de(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lu;KD&&KD(e,null);let r=t.length;for(;r--;){let o=t[r];if(typeof o=="string"){let s=n(o);s!==o&&(EU(t)||(t[r]=s),o=s)}e[o]=!0}return e}function MU(e){for(let t=0;t<e.length;t++)_n(e,t)||(e[t]=null);return e}function Ro(e){let t=jS(null);for(let[n,r]of FS(e))_n(e,n)&&(Array.isArray(r)?t[n]=MU(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Ro(r):t[n]=r);return t}function ku(e,t){for(;e!==null;){let r=SU(e,t);if(r){if(r.get)return Yt(r.get);if(typeof r.value=="function")return Yt(r.value)}e=DU(e)}function n(){return null}return n}var eS=kt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hv=kt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fv=kt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kU=kt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pv=kt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),IU=kt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),tS=kt(["#text"]),nS=kt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),gv=kt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rS=kt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Iu=kt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OU=dn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),AU=dn(/<%[\w\W]*|[\w\W]*%>/gm),RU=dn(/\${[\w\W]*}/gm),NU=dn(/^data-[\-\w.\u00B7-\uFFFF]/),LU=dn(/^aria-[\-\w]+$/),BS=dn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),PU=dn(/^(?:\w+script|data):/i),FU=dn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),VS=dn(/^html$/i),jU=dn(/^[a-z][.\w]*(-[.\w]+)+$/i),oS=Object.freeze({__proto__:null,MUSTACHE_EXPR:OU,ERB_EXPR:AU,TMPLIT_EXPR:RU,DATA_ATTR:NU,ARIA_ATTR:LU,IS_ALLOWED_URI:BS,IS_SCRIPT_OR_DATA:PU,ATTR_WHITESPACE:FU,DOCTYPE_NAME:VS,CUSTOM_ELEMENT:jU}),rc={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},BU=function(){return typeof window>"u"?null:window},VU=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function $S(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BU(),t=x=>$S(x);if(t.version="3.1.5",t.removed=[],!e||!e.document||e.document.nodeType!==rc.document)return t.isSupported=!1,t;let{document:n}=e,r=n,o=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:i,Node:a,Element:c,NodeFilter:l,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:h,trustedTypes:f}=e,p=c.prototype,v=ku(p,"cloneNode"),g=ku(p,"nextSibling"),m=ku(p,"childNodes"),w=ku(p,"parentNode");if(typeof i=="function"){let x=n.createElement("template");x.content&&x.content.ownerDocument&&(n=x.content.ownerDocument)}let y,S="",{implementation:E,createNodeIterator:D,createDocumentFragment:C,getElementsByTagName:T}=n,{importNode:A}=r,M={};t.isSupported=typeof FS=="function"&&typeof w=="function"&&E&&E.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:I,ERB_EXPR:W,TMPLIT_EXPR:N,DATA_ATTR:U,ARIA_ATTR:Ie,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:_e}=oS,{IS_ALLOWED_URI:ne}=oS,K=null,Se=de({},[...eS,...hv,...fv,...pv,...tS]),Y=null,xt=de({},[...nS,...gv,...rS,...Iu]),ce=Object.seal(jS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ve=null,B=null,Z=!0,ue=!0,L=!1,H=!0,X=!1,O=!0,Te=!1,ve=!1,et=!1,He=!1,G=!1,Le=!1,pr=!0,un=!1,IC="user-content-",Dh=!0,fi=!1,jo={},Bo=null,g0=de({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),m0=null,v0=de({},["audio","video","img","source","image","track"]),Sh=null,y0=de({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ec="http://www.w3.org/1998/Math/MathML",Dc="http://www.w3.org/2000/svg",Hn="http://www.w3.org/1999/xhtml",Vo=Hn,Ch=!1,_h=null,OC=de({},[Ec,Dc,Hn],uv),pi=null,AC=["application/xhtml+xml","text/html"],RC="text/html",ot=null,$o=null,NC=n.createElement("form"),b0=function(x){return x instanceof RegExp||x instanceof Function},Th=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($o&&$o===x)){if((!x||typeof x!="object")&&(x={}),x=Ro(x),pi=AC.indexOf(x.PARSER_MEDIA_TYPE)===-1?RC:x.PARSER_MEDIA_TYPE,ot=pi==="application/xhtml+xml"?uv:Lu,K=_n(x,"ALLOWED_TAGS")?de({},x.ALLOWED_TAGS,ot):Se,Y=_n(x,"ALLOWED_ATTR")?de({},x.ALLOWED_ATTR,ot):xt,_h=_n(x,"ALLOWED_NAMESPACES")?de({},x.ALLOWED_NAMESPACES,uv):OC,Sh=_n(x,"ADD_URI_SAFE_ATTR")?de(Ro(y0),x.ADD_URI_SAFE_ATTR,ot):y0,m0=_n(x,"ADD_DATA_URI_TAGS")?de(Ro(v0),x.ADD_DATA_URI_TAGS,ot):v0,Bo=_n(x,"FORBID_CONTENTS")?de({},x.FORBID_CONTENTS,ot):g0,Ve=_n(x,"FORBID_TAGS")?de({},x.FORBID_TAGS,ot):{},B=_n(x,"FORBID_ATTR")?de({},x.FORBID_ATTR,ot):{},jo=_n(x,"USE_PROFILES")?x.USE_PROFILES:!1,Z=x.ALLOW_ARIA_ATTR!==!1,ue=x.ALLOW_DATA_ATTR!==!1,L=x.ALLOW_UNKNOWN_PROTOCOLS||!1,H=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,X=x.SAFE_FOR_TEMPLATES||!1,O=x.SAFE_FOR_XML!==!1,Te=x.WHOLE_DOCUMENT||!1,He=x.RETURN_DOM||!1,G=x.RETURN_DOM_FRAGMENT||!1,Le=x.RETURN_TRUSTED_TYPE||!1,et=x.FORCE_BODY||!1,pr=x.SANITIZE_DOM!==!1,un=x.SANITIZE_NAMED_PROPS||!1,Dh=x.KEEP_CONTENT!==!1,fi=x.IN_PLACE||!1,ne=x.ALLOWED_URI_REGEXP||BS,Vo=x.NAMESPACE||Hn,ce=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&b0(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&b0(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(ue=!1),G&&(He=!0),jo&&(K=de({},tS),Y=[],jo.html===!0&&(de(K,eS),de(Y,nS)),jo.svg===!0&&(de(K,hv),de(Y,gv),de(Y,Iu)),jo.svgFilters===!0&&(de(K,fv),de(Y,gv),de(Y,Iu)),jo.mathMl===!0&&(de(K,pv),de(Y,rS),de(Y,Iu))),x.ADD_TAGS&&(K===Se&&(K=Ro(K)),de(K,x.ADD_TAGS,ot)),x.ADD_ATTR&&(Y===xt&&(Y=Ro(Y)),de(Y,x.ADD_ATTR,ot)),x.ADD_URI_SAFE_ATTR&&de(Sh,x.ADD_URI_SAFE_ATTR,ot),x.FORBID_CONTENTS&&(Bo===g0&&(Bo=Ro(Bo)),de(Bo,x.FORBID_CONTENTS,ot)),Dh&&(K["#text"]=!0),Te&&de(K,["html","head","body"]),K.table&&(de(K,["tbody"]),delete Ve.tbody),x.TRUSTED_TYPES_POLICY){if(typeof x.TRUSTED_TYPES_POLICY.createHTML!="function")throw nc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof x.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw nc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=x.TRUSTED_TYPES_POLICY,S=y.createHTML("")}else y===void 0&&(y=VU(f,o)),y!==null&&typeof S=="string"&&(S=y.createHTML(""));kt&&kt(x),$o=x}},w0=de({},["mi","mo","mn","ms","mtext"]),x0=de({},["foreignobject","annotation-xml"]),LC=de({},["title","style","font","a","script"]),E0=de({},[...hv,...fv,...kU]),D0=de({},[...pv,...IU]),PC=function(x){let V=w(x);(!V||!V.tagName)&&(V={namespaceURI:Vo,tagName:"template"});let F=Lu(x.tagName),Oe=Lu(V.tagName);return _h[x.namespaceURI]?x.namespaceURI===Dc?V.namespaceURI===Hn?F==="svg":V.namespaceURI===Ec?F==="svg"&&(Oe==="annotation-xml"||w0[Oe]):!!E0[F]:x.namespaceURI===Ec?V.namespaceURI===Hn?F==="math":V.namespaceURI===Dc?F==="math"&&x0[Oe]:!!D0[F]:x.namespaceURI===Hn?V.namespaceURI===Dc&&!x0[Oe]||V.namespaceURI===Ec&&!w0[Oe]?!1:!D0[F]&&(LC[F]||!E0[F]):!!(pi==="application/xhtml+xml"&&_h[x.namespaceURI]):!1},Lr=function(x){ec(t.removed,{element:x});try{x.parentNode.removeChild(x)}catch{x.remove()}},Sc=function(x,V){try{ec(t.removed,{attribute:V.getAttributeNode(x),from:V})}catch{ec(t.removed,{attribute:null,from:V})}if(V.removeAttribute(x),x==="is"&&!Y[x])if(He||G)try{Lr(V)}catch{}else try{V.setAttribute(x,"")}catch{}},S0=function(x){let V=null,F=null;if(et)x="<remove></remove>"+x;else{let Ye=JD(x,/^[\r\n\t ]+/);F=Ye&&Ye[0]}pi==="application/xhtml+xml"&&Vo===Hn&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");let Oe=y?y.createHTML(x):x;if(Vo===Hn)try{V=new h().parseFromString(Oe,pi)}catch{}if(!V||!V.documentElement){V=E.createDocument(Vo,"template",null);try{V.documentElement.innerHTML=Ch?S:Oe}catch{}}let lt=V.body||V.documentElement;return x&&F&&lt.insertBefore(n.createTextNode(F),lt.childNodes[0]||null),Vo===Hn?T.call(V,Te?"html":"body")[0]:Te?V.documentElement:lt},C0=function(x){return D.call(x.ownerDocument||x,x,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},_0=function(x){return x instanceof u&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof d)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},T0=function(x){return typeof a=="function"&&x instanceof a},Gn=function(x,V,F){M[x]&&Mu(M[x],Oe=>{Oe.call(t,V,F,$o)})},M0=function(x){let V=null;if(Gn("beforeSanitizeElements",x,null),_0(x))return Lr(x),!0;let F=ot(x.nodeName);if(Gn("uponSanitizeElement",x,{tagName:F,allowedTags:K}),x.hasChildNodes()&&!T0(x.firstElementChild)&&Mt(/<[/\w]/g,x.innerHTML)&&Mt(/<[/\w]/g,x.textContent)||x.nodeType===rc.progressingInstruction||O&&x.nodeType===rc.comment&&Mt(/<[/\w]/g,x.data))return Lr(x),!0;if(!K[F]||Ve[F]){if(!Ve[F]&&I0(F)&&(ce.tagNameCheck instanceof RegExp&&Mt(ce.tagNameCheck,F)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(F)))return!1;if(Dh&&!Bo[F]){let Oe=w(x)||x.parentNode,lt=m(x)||x.childNodes;if(lt&&Oe){let Ye=lt.length;for(let qn=Ye-1;qn>=0;--qn){let Xt=v(lt[qn],!0);Xt.__removalCount=(x.__removalCount||0)+1,Oe.insertBefore(Xt,g(x))}}}return Lr(x),!0}return x instanceof c&&!PC(x)||(F==="noscript"||F==="noembed"||F==="noframes")&&Mt(/<\/no(script|embed|frames)/i,x.innerHTML)?(Lr(x),!0):(X&&x.nodeType===rc.text&&(V=x.textContent,Mu([I,W,N],Oe=>{V=tc(V,Oe," ")}),x.textContent!==V&&(ec(t.removed,{element:x.cloneNode()}),x.textContent=V)),Gn("afterSanitizeElements",x,null),!1)},k0=function(x,V,F){if(pr&&(V==="id"||V==="name")&&(F in n||F in NC))return!1;if(!(ue&&!B[V]&&Mt(U,V))&&!(Z&&Mt(Ie,V))){if(!Y[V]||B[V]){if(!(I0(x)&&(ce.tagNameCheck instanceof RegExp&&Mt(ce.tagNameCheck,x)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(x))&&(ce.attributeNameCheck instanceof RegExp&&Mt(ce.attributeNameCheck,V)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(V))||V==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&Mt(ce.tagNameCheck,F)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(F))))return!1}else if(!Sh[V]&&!Mt(ne,tc(F,q,""))&&!((V==="src"||V==="xlink:href"||V==="href")&&x!=="script"&&CU(F,"data:")===0&&m0[x])&&!(L&&!Mt(me,tc(F,q,"")))&&F)return!1}return!0},I0=function(x){return x!=="annotation-xml"&&JD(x,_e)},O0=function(x){Gn("beforeSanitizeAttributes",x,null);let{attributes:V}=x;if(!V)return;let F={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y},Oe=V.length;for(;Oe--;){let lt=V[Oe],{name:Ye,namespaceURI:qn,value:Xt}=lt,Mn=ot(Ye),Et=Ye==="value"?Xt:_U(Xt);if(F.attrName=Mn,F.attrValue=Et,F.keepAttr=!0,F.forceKeepAttr=void 0,Gn("uponSanitizeAttribute",x,F),Et=F.attrValue,F.forceKeepAttr||(Sc(Ye,x),!F.keepAttr))continue;if(!H&&Mt(/\/>/i,Et)){Sc(Ye,x);continue}if(O&&Mt(/((--!?|])>)|<\/(style|title)/i,Et)){Sc(Ye,x);continue}X&&Mu([I,W,N],jC=>{Et=tc(Et,jC," ")});let A0=ot(x.nodeName);if(k0(A0,Mn,Et)){if(un&&(Mn==="id"||Mn==="name")&&(Sc(Ye,x),Et=IC+Et),y&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!qn)switch(f.getAttributeType(A0,Mn)){case"TrustedHTML":{Et=y.createHTML(Et);break}case"TrustedScriptURL":{Et=y.createScriptURL(Et);break}}try{qn?x.setAttributeNS(qn,Ye,Et):x.setAttribute(Ye,Et),_0(x)?Lr(x):QD(t.removed)}catch{}}}Gn("afterSanitizeAttributes",x,null)},FC=function x(V){let F=null,Oe=C0(V);for(Gn("beforeSanitizeShadowDOM",V,null);F=Oe.nextNode();)Gn("uponSanitizeShadowNode",F,null),!M0(F)&&(F.content instanceof s&&x(F.content),O0(F));Gn("afterSanitizeShadowDOM",V,null)};return t.sanitize=function(x){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=null,Oe=null,lt=null,Ye=null;if(Ch=!x,Ch&&(x="<!-->"),typeof x!="string"&&!T0(x))if(typeof x.toString=="function"){if(x=x.toString(),typeof x!="string")throw nc("dirty is not a string, aborting")}else throw nc("toString is not a function");if(!t.isSupported)return x;if(ve||Th(V),t.removed=[],typeof x=="string"&&(fi=!1),fi){if(x.nodeName){let Mn=ot(x.nodeName);if(!K[Mn]||Ve[Mn])throw nc("root node is forbidden and cannot be sanitized in-place")}}else if(x instanceof a)F=S0("<!---->"),Oe=F.ownerDocument.importNode(x,!0),Oe.nodeType===rc.element&&Oe.nodeName==="BODY"||Oe.nodeName==="HTML"?F=Oe:F.appendChild(Oe);else{if(!He&&!X&&!Te&&x.indexOf("<")===-1)return y&&Le?y.createHTML(x):x;if(F=S0(x),!F)return He?null:Le?S:""}F&&et&&Lr(F.firstChild);let qn=C0(fi?x:F);for(;lt=qn.nextNode();)M0(lt)||(lt.content instanceof s&&FC(lt.content),O0(lt));if(fi)return x;if(He){if(G)for(Ye=C.call(F.ownerDocument);F.firstChild;)Ye.appendChild(F.firstChild);else Ye=F;return(Y.shadowroot||Y.shadowrootmode)&&(Ye=A.call(r,Ye,!0)),Ye}let Xt=Te?F.outerHTML:F.innerHTML;return Te&&K["!doctype"]&&F.ownerDocument&&F.ownerDocument.doctype&&F.ownerDocument.doctype.name&&Mt(VS,F.ownerDocument.doctype.name)&&(Xt="<!DOCTYPE "+F.ownerDocument.doctype.name+`>
`+Xt),X&&Mu([I,W,N],Mn=>{Xt=tc(Xt,Mn," ")}),y&&Le?y.createHTML(Xt):Xt},t.setConfig=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Th(x),ve=!0},t.clearConfig=function(){$o=null,ve=!1},t.isValidAttribute=function(x,V,F){$o||Th({});let Oe=ot(x),lt=ot(V);return k0(Oe,lt,F)},t.addHook=function(x,V){typeof V=="function"&&(M[x]=M[x]||[],ec(M[x],V))},t.removeHook=function(x){if(M[x])return QD(M[x])},t.removeHooks=function(x){M[x]&&(M[x]=[])},t.removeAllHooks=function(){M={}},t}var Xv=$S(),Ou=e=>Xv.sanitize(e,{USE_PROFILES:{html:!0,svg:!0,svgFilters:!0}}),$U=e=>Xv.sanitize(e,{NAMESPACE:"http://www.w3.org/2000/svg",USE_PROFILES:{html:!0,svg:!0,svgFilters:!0}}),zn=e=>Xv.sanitize(e,{ALLOWED_TAGS:[]}),US=class zS extends je{constructor(){super(...arguments),this.type="toolbar",this.renderType=be.HTML}init(){let t=()=>this.updateOverflowMenu(!1);this.services.events.addEventListener(_.Toolbar.SHOW_OVERFLOW_MENU,()=>{this.renderOverflowMenu(),document.body.addEventListener("click",t)}),this.services.events.addEventListener(_.Toolbar.HIDE_OVERFLOW_MENU,()=>{document.body.removeEventListener("click",t)})}render(t=!0){let n=this.getComponentContainer().attr("role","toolbar").attr("aria-label","chart toolbar");if(b(this.getOptions(),"data","loading"))n.html(""),this.overflowMenu=null;else{this.overflowMenu||(this.overflowMenu=n.append("div").attr("class","cds--overflow-menu-options cds--overflow-menu--flip cds--overflow-menu-options cds--overflow-menu--flip").attr("tabindex",-1).html("<ul role='menu'></ul>"));let{buttonList:r,overflowMenuItemList:o}=this.getControlConfigs();o&&r.push(this.getOverflowButtonConfig());let s=n.selectAll("div.toolbar-control").data(r,c=>c.id);s.exit().remove();let i=s.enter().append("div").attr("class","toolbar-control cds--overflow-menu cds--overflow-menu"),a=this;i.merge(s).classed("disabled",c=>c.shouldBeDisabled()).attr("role","button").attr("aria-disabled",c=>c.shouldBeDisabled()).attr("aria-label",c=>c.title).html(c=>`
			<button
				class="cds--overflow-menu__trigger cds--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="${this.services.domUtils.generateElementIDString(`control-${zn(c.id)}`)}" aria-label="${zn(c.title)}">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" class="cds--overflow-menu__icon cds--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					${$U(c.iconSVG.content)}
				</svg>
			</button>`).each(function(c,l){R(this).select("svg").style("pointer-events","none").style("will-change","transform").style("width",c.iconSVG.width!==void 0?c.iconSVG.width:"20px").style("height",c.iconSVG.height!==void 0?c.iconSVG.height:"20px"),R(this).select("button").on("mouseover focus",function(d){let u=R(this);u.classed("hovered",!0),a.services.events.dispatchEvent(_.Toolbar.SHOW_TOOLTIP,{event:d,hoveredElement:u,content:c.title,noWrap:!0,placements:["top","bottom"]})}).on("mouseout blur",function(){a.services.events.dispatchEvent(_.Toolbar.HIDE_TOOLTIP)}).on("click",d=>{c.shouldBeDisabled()||a.triggerFunctionAndEvent(c,d,this)}).on("keydown",d=>{d.key&&d.key==="Enter"||d.key===" "?(d.preventDefault(),a.triggerFunctionAndEvent(c,d,this)):d.key&&d.key==="ArrowLeft"?a.focusOnPreviousEnabledToolbarItem(l):d.key&&d.key==="ArrowRight"&&a.focusOnNextEnabledToolbarItem(l)})}),this.overflowButton=this.getComponentContainer().select(`button.cds--overflow-menu__trigger#${this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu")}`)}}renderOverflowMenu(){let{overflowMenuItemList:t}=this.getControlConfigs(),n=this.overflowMenu.select("ul").selectAll("li.cds--overflow-menu-options__option").data(t,o=>b(o,"id"));n.exit().remove();let r=n.enter().append("li").attr("id",o=>this.services.domUtils.generateElementIDString(`control-${o.id}`)).attr("class","cds--overflow-menu-options__option cds--overflow-menu-options__option").attr("role","menuitem").attr("tabindex",1);r.append("button").attr("class","cds--overflow-menu-options__btn cds--overflow-menu-options__btn"),r.merge(n).classed("cds--overflow-menu-options__option--disabled",o=>o.shouldBeDisabled()).classed("cds--overflow-menu-options__option--disabled",o=>o.shouldBeDisabled()).attr("aria-disabled",o=>o.shouldBeDisabled()).selectAll("button").text(o=>o.title)}isOverflowMenuOpen(){return this.overflowMenu.classed("is-open")}updateOverflowMenu(t){this.overflowMenu&&(this.overflowMenu.classed("is-open",t),this.overflowButton&&(this.overflowButton.attr("aria-expanded",t),R(this.overflowButton.node().parentNode).classed("cds--overflow-menu--open",t).classed("cds--overflow-menu--open",t)),t?this.services.events.dispatchEvent(_.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(_.Toolbar.HIDE_OVERFLOW_MENU))}focusOnPreviousEnabledToolbarItem(t){let n=this.getToolbarButtonItems(),r=n.length;for(let o=t-1;o>=0;o--)if(!n[o].shouldBeDisabled()){r=o;break}if(r<n.length){let o=R(`button#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)}`).node();"focus"in o&&o.focus()}}focusOnNextEnabledToolbarItem(t){let n=this.getToolbarButtonItems(),r=-1;for(let o=t+1;o<n.length;o++)if(!n[o].shouldBeDisabled()){r=o;break}if(r>-1){let o=R(`button#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)}`).node();"focus"in o&&o.focus()}}focusOnPreviousEnabledMenuItem(t){let n=this.getOverflowMenuItems(),r=n.length;for(let o=t-1;o>=0;o--)if(!n[o].shouldBeDisabled()){r=o;break}if(r<n.length){let o=R(`#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)} button`).node();"focus"in o&&o.focus()}}focusOnNextEnabledMenuItem(t){let n=this.getOverflowMenuItems(),r=-1;for(let o=t+1;o<n.length;o++)if(!n[o].shouldBeDisabled()){r=o;break}if(r>-1){let o=R(`#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)} button`).node();"focus"in o&&o.focus()}}toggleOverflowMenu(t){if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);let n=this;this.getOverflowMenuItems().forEach((r,o)=>{let s=R(`#${this.services.domUtils.generateElementIDString(`control-${r.id}`)}`);s!==null&&(s.on("click",()=>{n.triggerFunctionAndEvent(r,t,s.node()),n.updateOverflowMenu(!1)}),s.on("keydown",i=>{i&&i.key==="Enter"?n.triggerFunctionAndEvent(r,t,s.node()):i&&i.key==="ArrowUp"?n.focusOnPreviousEnabledMenuItem(o):i&&i.key==="ArrowDown"?n.focusOnNextEnabledMenuItem(o):i&&i.key==="Escape"&&n.updateOverflowMenu(!1),i.preventDefault()}))}),n.focusOnNextEnabledMenuItem(-1)}t&&t.stopImmediatePropagation()}triggerFunctionAndEvent(t,n,r){typeof t.shouldBeDisabled=="function"&&t.shouldBeDisabled()||(typeof t.clickFunction=="function"&&t.clickFunction(n),this.services.events.dispatchEvent(_.Toolbar.BUTTON_CLICK,{control:t,event:n,element:r}))}getControlConfigs(){let t=b(this.getOptions(),"toolbar","numberOfIcons")-1,n=b(this.getOptions(),"toolbar","controls"),r=[],o=[],s=[];return n.forEach(i=>{let a=null;if(i.type===we.CUSTOM)b(i,"id")===null&&(i.id=`toolbar-button-${zS.buttonID++}`),b(i,"shouldBeDisabled")===null&&(i.shouldBeDisabled=()=>!1),a=i;else{let c=this.services.domUtils.isFullScreenMode();i.type===we.MAKE_FULLSCREEN&&c?i.type=we.EXIT_FULLSCREEN:i.type===we.EXIT_FULLSCREEN&&!c&&(i.type=we.MAKE_FULLSCREEN),a=this.getControlConfigByType(i.type)}a&&(a.text=i.text?i.text:i.type,a.id.indexOf("toolbar-export")!==-1?r.push(a):o.length<t?b(a,"iconSVG","content")===null?s.push(a):o.push(a):s.push(a))}),s.push(...r),s.length?{buttonList:o,overflowMenuItemList:s}:{buttonList:o}}getToolbarButtonItems(){let{buttonList:t,overflowMenuItemList:n}=this.getControlConfigs();return n&&t.push(this.getOverflowButtonConfig()),t||[]}getOverflowMenuItems(){let{overflowMenuItemList:t}=this.getControlConfigs();return t||[]}getOverflowButtonConfig(){let{moreOptions:t}=b(this.model.getOptions(),"locale","translations","toolbar");return{id:"toolbar-overflow-menu",title:t,shouldBeDisabled:()=>!1,iconSVG:{content:`<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`},clickFunction:n=>this.toggleOverflowMenu(n)}}getControlConfigByType(t){let n=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),r=this.model.getDisplayData(),o=this.model.getOptions(),{exportAsCSV:s,exportAsJPG:i,exportAsPNG:a,zoomIn:c,zoomOut:l,resetZoom:d,makeFullScreen:u,exitFullScreen:h,showAsTable:f}=b(o,"locale","translations","toolbar"),p;switch(t){case we.ZOOM_IN:n&&(p={id:"toolbar-zoomIn",title:c,shouldBeDisabled:()=>this.services.zoom.isMinZoomDomain(),iconSVG:{content:this.getControlIconByType(t)},clickFunction:()=>this.services.zoom.zoomIn()});break;case we.ZOOM_OUT:n&&(p={id:"toolbar-zoomOut",title:l,shouldBeDisabled:()=>this.services.zoom.isMaxZoomDomain(),iconSVG:{content:this.getControlIconByType(t)},clickFunction:()=>this.services.zoom.zoomOut()});break;case we.RESET_ZOOM:n&&(p={id:"toolbar-resetZoom",title:d,shouldBeDisabled:()=>this.services.zoom.isMaxZoomDomain(),iconSVG:{content:this.getControlIconByType(t)},clickFunction:()=>this.services.zoom.resetZoomDomain()});break;case we.MAKE_FULLSCREEN:p={id:"toolbar-makefullscreen",iconSVG:{content:this.getControlIconByType(t),width:"15px",height:"15px"},title:u,shouldBeDisabled:()=>!1,clickFunction:()=>{this.services.domUtils.toggleFullscreen()}};break;case we.EXIT_FULLSCREEN:p={id:"toolbar-exitfullscreen",iconSVG:{content:this.getControlIconByType(t),width:"15px",height:"15px"},title:h,shouldBeDisabled:()=>!1,clickFunction:()=>{this.services.domUtils.toggleFullscreen()}};break;case we.SHOW_AS_DATATABLE:p={id:"toolbar-showasdatatable",iconSVG:{content:this.getControlIconByType(t)},title:f,shouldBeDisabled:()=>r.length===0,clickFunction:()=>this.services.events.dispatchEvent(_.Modal.SHOW)};break;case we.EXPORT_CSV:p={id:"toolbar-export-CSV",title:s,shouldBeDisabled:()=>!1,iconSVG:{content:this.getControlIconByType(t)},clickFunction:()=>this.model.exportToCSV()};break;case we.EXPORT_PNG:p={id:"toolbar-export-PNG",title:a,shouldBeDisabled:()=>!1,iconSVG:{content:this.getControlIconByType(t)},clickFunction:()=>this.services.domUtils.exportToPNG()};break;case we.EXPORT_JPG:p={id:"toolbar-export-JPG",title:i,shouldBeDisabled:()=>!1,iconSVG:{content:this.getControlIconByType(t)},clickFunction:()=>this.services.domUtils.exportToJPG()};break;default:throw Error("Not supported toolbar control type: "+t)}return p}getControlIconByType(t){switch(t){case we.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case we.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case we.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case we.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case we.EXIT_FULLSCREEN:return'<polygon points="4 18 4 20 10.586 20 2 28.582 3.414 30 12 21.414 12 28 14 28 14 18 4 18"/><polygon points="30 3.416 28.592 2 20 10.586 20 4 18 4 18 14 28 14 28 12 21.414 12 30 3.416"/>';case we.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case we.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case we.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case we.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+t)}}};US.buttonID=0;var Kv=US,HS=class GS extends je{constructor(t,n,r,o){super(t,n,o),this.type="layout",this.configs=o,this.children=r,this._instanceID=GS.instanceID++,this.init()}init(){this.children.forEach(t=>{t.components.forEach(n=>{n.init()})})}getPreferedAndFixedSizeSum(){let t=this.parent,n=0;return t.selectAll(`div.layout-child-${this._instanceID}`).filter(r=>{let o=b(r,"growth");return o===Re.PREFERRED||o===Re.FIXED}).each(function(r){n+=r.size}),n}getNumOfStretchChildren(){return this.parent.selectAll(`div.layout-child-${this._instanceID}`).filter(t=>b(t,"growth")===Re.STRETCH).size()}render(t=!0){let n=this.parent,{width:r,height:o}=P.getHTMLElementSize(n.node()),s=this.configs.direction===qe.ROW||this.configs.direction===qe.ROW_REVERSE,i=b(this.model.getOptions(),"style","prefix"),a=n.classed(`${ft}--${i}--layout-row`,this.configs.direction===qe.ROW).classed(`${ft}--${i}--layout-row-reverse`,this.configs.direction===qe.ROW_REVERSE).classed(`${ft}--${i}--layout-column`,this.configs.direction===qe.COLUMN).classed(`${ft}--${i}--layout-column-reverse`,this.configs.direction===qe.COLUMN_REVERSE).classed(`${ft}--${i}--layout-alignitems-center`,this.configs.alignItems===so.CENTER).selectAll(`div.layout-child-${this._instanceID}`).data(this.children,l=>l.id);a.enter().append("div").merge(n.selectAll(`div.layout-child-${this._instanceID}`)).attr("class",l=>`layout-child layout-child-${this._instanceID} ${l.id}`).each(function(l){l.components.forEach(d=>{let u=R(this),h=b(l,"renderType")===be.SVG;d.setParent(h?P.appendOrSelect(u,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):u);let f=b(l,"growth");(f===Re.PREFERRED||f===Re.FIXED)&&d.render(t)})}),n.selectAll(`div.layout-child-${this._instanceID}`).style("height",null).style("width",null).each(function(l){let d=b(l,"growth"),u=b(l,"renderType")===be.SVG?P.getSVGElementSize(R(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):P.getHTMLElementSize(this);if(d===Re.PREFERRED){let h=s?u.width:u.height,f=s?r:o;l.size=h/f*100}}),a.exit().remove(),this.children.filter(l=>b(l,"growth")===Re.STRETCH).forEach(l=>{l.size=(100-+this.getPreferedAndFixedSizeSum())/+this.getNumOfStretchChildren()});let c=n.selectAll(`div.layout-child-${this._instanceID}`).data(this.children,l=>l.id);s?c.style("width",l=>`${l.size/100*r}px`).style("height","100%"):c.style("height",l=>`${l.size/100*o}px`).style("width","100%"),c.each(function(l){l.components.forEach(d=>{b(l,"growth")===Re.STRETCH&&d.render(t)})})}setModel(t){super.setModel(t),this.children.forEach(n=>{n.components.forEach(r=>r.setModel(t))})}setServices(t){super.setServices(t),this.children.forEach(n=>{n.components.forEach(r=>r.setServices(t))})}destroy(){this.children.forEach(t=>{t.components.forEach(n=>n.destroy())})}};HS.instanceID=Math.floor(Math.random()*99999999999);var Fo=HS,Lo=class extends je{constructor(){super(...arguments),this.type="spacer"}render(t=!1){this.getComponentContainer().style("width",`${this.configs.size||cu.default.size}px`).style("height",`${this.configs.size||cu.default.size}px`).attr("opacity",0)}},UU={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},mv=UU;function zU(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function HU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GU(e){return YU(e)||ZU(e)||WU(e)||qU()}function qU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WU(e,t){if(e){if(typeof e=="string")return _v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _v(e,t)}}function ZU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YU(e){if(Array.isArray(e))return _v(e)}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qS(e){return e.reduce(function(t,n){return Array.isArray(n)?t.push.apply(t,GU(qS(n))):t.push(n),t},[])}function XU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qS(t).reduce(function(r,o){return o(r)},function(){function r(){HU(this,r)}return zU(r)}())}function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function KU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QU(e,t,n){return t&&sS(e.prototype,t),n&&sS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mv(e,t)}function Mv(e,t){return Mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mv(e,t)}function ez(e){var t=nz();return function(){var n=$u(e),r;if(t){var o=$u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tz(this,r)}}function tz(e,t){if(t&&(Tv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WS(e)}function WS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(e)}function rz(e){var t=function(n){JU(o,n);var r=ez(o);function o(s){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(KU(this,o),i=r.call(this,s,a),i.children=[],!s||s.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return i.element=s,i.options=Object.assign(Object.create(i.constructor.options),a),i.constructor.components.set(i.element,WS(i)),i}return QU(o,[{key:"release",value:function(){for(var s=this.children.pop();s;s=this.children.pop())s.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(s,i){return this.components.get(s)||new this(s,i)}}]),o}(e);return t}function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function oz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iz(e,t,n){return t&&sz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pu(){return typeof Reflect<"u"&&Reflect.get?Pu=Reflect.get:Pu=function(e,t,n){var r=az(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Pu.apply(this,arguments)}function az(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ui(e),e!==null););return e}function cz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iv(e,t)}function Iv(e,t){return Iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Iv(e,t)}function lz(e){var t=hz();return function(){var n=ui(e),r;if(t){var o=ui(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dz(this,r)}}function dz(e,t){if(t&&(kv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uz(e)}function uz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ui(e){return ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(e)}function fz(e){var t=function(n){cz(o,n);var r=lz(o);function o(){var s;oz(this,o);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return s=r.call.apply(r,[this].concat(a)),s.handles=new Set,s}return iz(o,[{key:"manage",value:function(s){return this.handles.add(s),s}},{key:"unmanage",value:function(s){return this.handles.delete(s),s}},{key:"release",value:function(){var s=this;return this.handles.forEach(function(i){i.release(),s.handles.delete(i)}),Pu(ui(o.prototype),"release",this).call(this)}}]),o}(e);return t}function sc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.addEventListener.apply(e,n),{release:function(){return e.removeEventListener.apply(e,n),null}}}function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function pz(e){return yz(e)||vz(e)||mz(e)||gz()}function gz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mz(e,t){if(e){if(typeof e=="string")return Av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Av(e,t)}}function vz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yz(e){if(Array.isArray(e))return Av(e)}function Av(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xz(e,t,n){return t&&wz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ez(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rv(e,t)}function Rv(e,t){return Rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rv(e,t)}function Dz(e){var t=_z();return function(){var n=Uu(e),r;if(t){var o=Uu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sz(this,r)}}function Sz(e,t){if(t&&(Ov(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cz(e)}function Cz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}function Tz(e){var t=function(n){Ez(o,n);var r=Dz(o);function o(){return bz(this,o),r.apply(this,arguments)}return xz(o,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overridden to perform actual change in state.")}},{key:"changeState",value:function(){for(var s=this,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];var l=typeof a[0]=="string"?a.shift():void 0,d=Object(a[0])===a[0]&&typeof a[0]!="function"?a.shift():void 0,u=typeof a[0]=="function"?a.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(l,d)){u&&u(null,!0);return}var h={group:d&&d.group,state:l},f=[h.group,l].filter(Boolean).join("-").split("-").map(function(y){return y[0].toUpperCase()+y.substr(1)}).join(""),p=new CustomEvent(this.options["eventBefore".concat(f)],{bubbles:!0,cancelable:!0,detail:d}),v=d&&d.delegatorNode||this.element,g=!v.dispatchEvent(p);if(g){if(u){var m=new Error("Changing state (".concat(JSON.stringify(h),") has been canceled."));m.canceled=!0,u(m)}}else{var w=[l,d].filter(Boolean);this._changeState.apply(this,pz(w).concat([function(){v.dispatchEvent(new CustomEvent(s.options["eventAfter".concat(f)],{bubbles:!0,cancelable:!0,detail:d})),u&&u()}]))}}}]),o}(e);return t}function Nv(e,t){var n=e.target,r=e.currentTarget;if(typeof n.matches=="function"){if(n.matches(t))return n;if(n.matches("".concat(t," *"))){var o=n.closest(t);if((r.nodeType===Node.DOCUMENT_NODE?r.documentElement:r).contains(o))return o}}}function iS(e){if(!e||typeof e=="function")return{launchingElement:null,launchingEvent:null};var t=e.delegateTarget||e.currentTarget||e,n=e.currentTarget&&e;if(t&&!t.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(n&&!n.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:t,launchingEvent:n}}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function Mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iz(e,t,n){return t&&kz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}function Pv(e,t){return Pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pv(e,t)}function Az(e){var t=Lz();return function(){var n=zu(e),r;if(t){var o=zu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rz(this,r)}}function Rz(e,t){if(t&&(Lv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nz(e)}function Nz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zu(e)}function Pz(e){var t=function(n){Oz(o,n);var r=Az(o);function o(){return Mz(this,o),r.apply(this,arguments)}return Iz(o,[{key:"show",value:function(s,i){(!s||typeof s=="function")&&(i=s),this.changeState("shown",iS(s),i)}},{key:"hide",value:function(s,i){(!s||typeof s=="function")&&(i=s),this.changeState("hidden",iS(s),i)}}]),o}(e);return t}var Fz=[Tz,Pz];function jz(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function Bz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $z(e,t,n){return n&&Vz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jv(e,t)}function jv(e,t){return jv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jv(e,t)}function zz(e){var t=qz();return function(){var n=Hu(e),r;if(t){var o=Hu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hz(this,r)}}function Hz(e,t){if(t&&(Fv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gz(e)}function Gz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(e)}function Wz(e){var t=function(n){Uz(o,n);var r=zz(o);function o(){return Bz(this,o),r.apply(this,arguments)}return $z(o,null,[{key:"init",value:function(){var s=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=Object.assign(Object.create(this.options),a);if(!i||i.nodeType!==Node.ELEMENT_NODE&&i.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(i.nodeType===Node.ELEMENT_NODE&&i.matches(c.selectorInit))this.create(i,a);else{var l=c.initEventNames.map(function(d){return sc(i,d,function(u){var h=Nv(u,"[".concat(c.attribInitTarget,"]"));if(h){u.delegateTarget=h;var f=h.ownerDocument.querySelectorAll(h.getAttribute(c.attribInitTarget));if(f.length>1)throw new Error("Target widget must be unique.");if(f.length===1){h.tagName==="A"&&u.preventDefault();var p=s.create(f[0],a);typeof p.createdByLauncher=="function"&&p.createdByLauncher(u)}}})});return{release:function(){for(var d=l.pop();d;d=l.pop())d.release()}}}return""}}]),o.forLazyInit=!0,o}(e);return t}function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function Zz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yz(e,t,n){return t&&aS(e.prototype,t),n&&aS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}function Vv(e,t){return Vv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vv(e,t)}function Kz(e){var t=eH();return function(){var n=Gu(e),r;if(t){var o=Gu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Qz(this,r)}}function Qz(e,t){if(t&&(Bv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jz(e)}function Jz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(e)}var tH=function(e){Xz(n,e);var t=Kz(n);function n(r,o){var s;return Zz(this,n),s=t.call(this,r,o),s._handleFocusinListener=void 0,s._handleKeydownListener=void 0,s._handleFocusin=function(i){var a=s.element.querySelector(s.options.selectorModalContainer)||s.element;s.element.classList.contains(s.options.classVisible)&&!a.contains(i.target)&&s.options.selectorsFloatingMenus.every(function(c){return!Nv(i,c)})&&s.element.querySelector(mv.selectorTabbable).focus()},s._hookCloseActions(),s}return Yz(n,[{key:"createdByLauncher",value:function(r){this.show(r)}},{key:"shouldStateBeChanged",value:function(r){return r==="shown"?!this.element.classList.contains(this.options.classVisible):this.element.classList.contains(this.options.classVisible)}},{key:"_changeState",value:function(r,o,s){var i=this,a,c=function(){if(a&&(a=i.unmanage(a).release()),r==="shown"&&i.element.offsetWidth>0&&i.element.offsetHeight>0){i.previouslyFocusedNode=i.element.ownerDocument.activeElement;var u=i.element.querySelector(i.options.selectorPrimaryFocus)||i.element.querySelector(mv.selectorTabbable);u.focus()}s()};if(this._handleFocusinListener&&(this._handleFocusinListener=this.unmanage(this._handleFocusinListener).release()),r==="shown"){var l="onfocusin"in this.element.ownerDocument.defaultView,d=l?"focusin":"focus";this._handleFocusinListener=this.manage(sc(this.element.ownerDocument,d,this._handleFocusin,!l))}r==="hidden"?(this.element.classList.toggle(this.options.classVisible,!1),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!1),(this.options.selectorFocusOnClose||this.previouslyFocusedNode)&&(this.element.ownerDocument.querySelector(this.options.selectorFocusOnClose)||this.previouslyFocusedNode).focus()):r==="shown"&&(this.element.classList.toggle(this.options.classVisible,!0),this.element.ownerDocument.body.classList.toggle(this.options.classBody,!0)),a=this.manage(sc(this.element,"transitionend",c))}},{key:"_hookCloseActions",value:function(){var r=this;this.manage(sc(this.element,"click",function(o){var s=Nv(o,r.options.selectorModalClose);s&&(o.delegateTarget=s),(s||o.target===r.element)&&r.hide(o)})),this._handleKeydownListener&&(this._handleKeydownListener=this.unmanage(this._handleKeydownListener).release()),this._handleKeydownListener=this.manage(sc(this.element.ownerDocument.body,"keydown",function(o){o.which===27&&r.shouldStateBeChanged("hidden")&&(o.stopPropagation(),r.hide(o))}))}}],[{key:"options",get:function(){var r=mv.prefix;return{selectorInit:"[data-modal]",selectorModalClose:"[data-modal-close]",selectorPrimaryFocus:"[data-modal-primary-focus]",selectorsFloatingMenus:[".".concat(r,"--overflow-menu-options"),".".concat(r,"--tooltip"),".flatpickr-calendar"],selectorModalContainer:".".concat(r,"--modal-container"),classVisible:"is-visible",classBody:"".concat(r,"--body--with-modal-open"),attribInitTarget:"data-modal-target",initEventNames:["click"],eventBeforeShown:"modal-beingshown",eventAfterShown:"modal-shown",eventBeforeHidden:"modal-beinghidden",eventAfterHidden:"modal-hidden"}}}]),n.components=new WeakMap,n}(XU(rz,Wz,Fz,fz)),hc=class extends je{constructor(t,n,r){super(t,n,r),this.type="modal",this.isEventListenerAdded=!1,this.handleShowModal=()=>{let o=this.services.domUtils.getChartID();this.modal.attr("data-modal",!0).attr("class","cds--modal").attr("role","dialog").attr("aria-modal",!0).attr("aria-labelledby",`${o}__modal-title`).attr("aria-describedby",`${o}__modal-description`).attr("tabindex",-1),this.modal.html(this.getModalHTML()),this.modal.select("div.cds--modal-footer button.cds--btn").on("click",()=>this.model.exportToCSV()),tH.create(this.modal.node()).show(),document.addEventListener("modal-hidden",this.handleHideModal)},this.handleHideModal=()=>{this.modal.attr("role",null).attr("aria-modal",null).attr("aria-labelledby",null).attr("aria-describedby",null).attr("tabindex",null),document.removeEventListener("modal-hidden",this.handleHideModal)},this.init()}addEventListeners(){this.services.events.addEventListener(_.Modal.SHOW,this.handleShowModal)}removeEventListeners(){this.services.events.removeEventListener(_.Modal.SHOW,this.handleShowModal)}getModalHTML(){let t=this.services.domUtils.getChartID(),n=this.model.getOptions(),{title:r,downloadAsCSV:o}=b(n,"locale","translations","tabularRep"),s=b(n,"style","prefix"),i=this.model.getTabularDataArray();return`
		<div class="cds--modal-container">
			<div class="cds--modal-header">

				<p class="cds--modal-header__label cds--type-delta" id="modal-title">${r}</p>

				<p class="cds--modal-header__heading cds--type-beta" id="${t}__modal-description">${zn(n.title)}</p>

				<button class="cds--modal-close" type="button" data-modal-close aria-label="close modal"  data-modal-primary-focus>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="Close" width="20" height="20" viewBox="0 0 32 32" role="img" class="cds--modal-close__icon">
						<path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
					</svg>
				</button>
			</div>

			<div class="cds--modal-content">
				<table class="cds--data-table cds--data-table--no-border">
					<thead>
						<tr>
							${Ir(i,0).map(a=>`<th scope="col">
								<div class="cds--table-header-label">${zn(a)}</div>
							</th>`).join("")}
						</tr>
					</thead>

					<tbody>${i.slice(1).map(a=>`
							<tr>
								${a.map(c=>`<td>${zn(c)}</td>`).join("")}
							</tr>`).join("")}
					</tbody>
				</table>
			</div>

			<div class="cds--modal-footer">
			  <div class="${ft}--${s}-modal-footer-spacer"></div>
			  <button class="cds--btn cds--btn--primary" type="button" data-modal-primary-focus>${o}</button>
			</div>
		</div>`}render(t=!1){let n=this.model.getOptions();if(!this.isEventListenerAdded){let r=R(this.services.domUtils.getHolder()),o=b(n,"style","prefix");this.modal=P.appendOrSelect(r,`div.${ft}--${o}--modal`),this.addEventListeners(),this.isEventListenerAdded=!0}}destroy(){this.removeEventListeners(),this.isEventListenerAdded=!1}},fc=class extends je{constructor(){super(...arguments),this.type="title",this.renderType=be.HTML}render(t=!1){let n=this.getComponentContainer(),r=b(this.getOptions(),"title"),o=n.selectAll("p.title").data([r]);if(o.enter().append("p").classed("title",!0).attr("role","heading").attr("aria-level",2).merge(o).html(s=>zn(s)),o.node()&&o.node().offsetWidth<o.node().scrollWidth){let s=this;o.on("mouseover",function(i){s.services.events.dispatchEvent(_.Tooltip.SHOW,{event:i,hoveredElement:o,content:o.text()})}).on("mousemove",function(i){s.services.events.dispatchEvent(_.Tooltip.MOVE,{event:i})}).on("mouseout",function(){s.services.events.dispatchEvent(_.Tooltip.HIDE)})}o.exit().remove()}truncateTitle(t,n){if(n<=0)return;let r=t.text();if(t.node().getComputedTextLength()>n){t.append("tspan").text("...");let o=P.appendOrSelect(t,"tspan").node().getComputedTextLength(),s=t.text(),i=this.getSubstringIndex(t.node(),0,s.length-1,n-o);t.html(s.substring(0,i-1)).append("tspan").text("...");let a=this;t.on("mouseover",function(c){a.services.events.dispatchEvent(_.Tooltip.SHOW,{event:c,hoveredElement:t,content:r})}).on("mousemove",function(c){a.services.events.dispatchEvent(_.Tooltip.MOVE,{event:c})}).on("mouseout",function(){a.services.events.dispatchEvent(_.Tooltip.HIDE)})}}getMaxTitleWidth(){return P.getSVGElementSize(this.parent.node(),{useAttrs:!0}).width}getSubstringIndex(t,n,r,o){let s=Math.floor((r+n)/2);return t.getSubStringLength(0,s)>o?this.getSubstringIndex(t,n,s,o):t.getSubStringLength(0,s)<o?t.getSubStringLength(0,s+1)>o?s:this.getSubstringIndex(t,s,r,o):s}},pc=class extends je{constructor(){super(...arguments),this.type="legend",this.renderType=be.HTML}render(t=!1){let n=this.getOptions(),r=b(n,"legend"),o=b(r,"alignment"),s=b(n,"legend","orientation"),i=this.model.getDataGroups(),{DISABLED:a}=Je.items.status,c=i.some(w=>w.status===a),l=b(r,"order"),d=this.getComponentContainer().classed("center-aligned",o===Tt.CENTER).classed("right-aligned",o===Tt.RIGHT).classed(s,!0).classed("has-deactivated-items",c).attr("role",We.GROUP).attr("aria-label","Data groups").attr("data-name","legend-items");l&&(i=this.sortDataGroups(i,l));let u=d.selectAll("div.legend-item").data(i,w=>w.name),h=u.enter().append("div").attr("class","legend-item");h.merge(d.selectAll("div.legend-item")).classed("active",function(w){return w.status===Je.items.status.ACTIVE});let f=b(this.getOptions(),"legend","clickable");d.classed("clickable",f&&i.length>1);let p=Je.checkbox.radius,v=h.append("div").classed("checkbox",!0),g=v.merge(u.select("div.checkbox")).attr("role",We.CHECKBOX).attr("tabindex",f?0:-1).attr("aria-labelledby",(w,y)=>this.services.domUtils.generateElementIDString(`legend-datagroup-${y}-title`)).attr("aria-checked",({status:w})=>w===Je.items.status.ACTIVE).attr("width",p*2).attr("height",p*2).attr("class",w=>this.model.getColorClassName({classNameTypes:[Ke.BACKGROUND],dataGroupName:w.name,originalClassName:"checkbox"})).style("background",w=>w.status===Je.items.status.ACTIVE?this.model.getFillColor(w.name)||this.model.getStrokeColor(w.name):null).classed("active",function(w){return w.status===Je.items.status.ACTIVE});v.append("svg").attr("focusable",!1).attr("preserveAspectRatio","xMidYMid meet").attr("xmlns","http://www.w3.org/2000/svg").attr("width","11").attr("height","11").attr("viewBox","0 0 31 28").attr("aria-hidden",!0).style("will-change","transform").append("path").attr("d","M13 21.2l-7.1-7.1-1.4 1.4 7.1 7.1L13 24 27.1 9.9l-1.4-1.5z"),h.append("p").merge(u.select("p"));let m=b(n,"legend","additionalItems");if(m&&i.length){let w=this,y=d.selectAll("div.additional-item").data(m);y.exit().remove();let S=y.enter().append("div").merge(y).classed("legend-item",!0).classed("additional",!0).attr("aria-labelledby",(C,T)=>this.services.domUtils.generateElementIDString(`legend-datagroup-${g.size()+T}-title`));S.selectAll("*").remove();let E,D=1;S.append("svg").classed("icon",!0).each(function(C){let T=R(this);!E||E!=C.type?(E=C.type,D=1):D++,w.addAdditionalItem(T,C,D)}),S.append("p").merge(S.select("p")),this.truncateLegendText()}u.exit().on("mouseover",null).on("click",null).on("mouseout",null).remove(),f&&h.size()>1&&this.addEventListeners()}sortDataGroups(t,n){if(t.sort((r,o)=>n.indexOf(r.name)-n.indexOf(o.name)),n.length<t.length){let r=t.length-n.length;return t.slice(r).concat(t.slice(0,r))}return t}addAdditionalItem(t,n,r){let{width:o,height:s}=Je.area;if(n.type===ze.RADIUS?t.style("width",`${s}px`).style("height",`${s}px`):t.style("width",`${o}px`).style("height",`${s}px`),n.type===ze.RADIUS){let{iconData:i,fill:a,stroke:c}=Je.radius;t.attr("fill","none").selectAll("circle").data(i).enter().append("circle").classed("radius",!0).attr("role",We.IMG).attr("aria-label","radius").attr("cx",l=>l.cx).attr("cy",l=>l.cy).attr("r",l=>l.r).style("fill",n.fill?n.fill:a).style("stroke",n.stroke?n.stroke:c)}else if(n.type===ze.LINE){let i=Je.line;t.select("line.line").empty()&&t.append("line").classed(`line-${r}`,!0).attr("role",We.IMG).attr("aria-label","line").attr("x1",0).attr("y1",i.yPosition).attr("x2",o).attr("y2",i.yPosition).style("stroke",n.stroke?n.stroke:i.stroke).style("stroke-width",i.strokeWidth)}else if(n.type===ze.AREA)t.select("rect.area").empty()&&t.append("rect").classed(`area-${r}`,!0).attr("role",We.IMG).attr("aria-label","area").attr("width",o).attr("height",s).style("fill",r>3&&!n.fill?Je.area.fill:n.fill).style("stroke",n.stroke);else if(n.type===ze.SIZE){let{iconData:i,fill:a,stroke:c}=Je.size;t.attr("fill","none").attr("role",We.IMG).attr("aria-label","size").selectAll("rect").data(i).enter().append("rect").classed("size",!0).attr("width",l=>l.width).attr("height",l=>l.height).attr("y",()=>0).style("fill",n.fill?n.fill:a).style("stroke",n.stroke?n.stroke:c).style("stroke-width",1)}else if(n.type===ze.QUARTILE){let{iconData:i}=Je.quartile;t.selectAll("rect").attr("role",We.IMG).attr("aria-label","quartile").data(i).enter().append("rect").attr("class",(a,c)=>`quartile-${c===0?"wrapper":"line"}`).attr("x",a=>a.x).attr("y",a=>a.y).attr("width",a=>a.width).attr("height",a=>a.height)}else if(n.type===ze.ZOOM){let{iconData:i,color:a}=b(Je,"zoom"),c=t.attr("role",We.IMG).attr("aria-label","zoom").selectAll("g.icon").data(i).enter();c.append("g").attr("x",l=>l.x).attr("y",l=>l.y).attr("width",l=>l.width).attr("height",l=>l.height).append("polygon").attr("points","7.7 4.82 5.78 4.82 5.78 2.89 4.82 2.89 4.82 4.82 2.89 4.82 2.89 5.78 4.82 5.78 4.82 7.7 5.78 7.7 5.78 5.78 7.7 5.78 7.7 4.82").attr("fill",()=>n.color?n.color:a),c.append("path").attr("d","M9.36,8.67A5.22,5.22,0,0,0,10.59,5.3,5.3,5.3,0,1,0,5.3,10.59,5.22,5.22,0,0,0,8.67,9.36L12.32,13l.68-.68Zm-4.06,1A4.34,4.34,0,1,1,9.63,5.3,4.33,4.33,0,0,1,5.3,9.63Z").attr("fill",()=>n.color?n.color:a)}}truncateLegendText(){let t=this.getComponentContainer(),n=b(this.getOptions(),"legend","truncation"),r=b(n,"type"),o=b(n,"threshold"),s=b(n,"numCharacter"),i=t.selectAll("div.legend-item p");i.attr("id",function(){return(this.parentNode.querySelector("div.checkbox")||this.parentNode).getAttribute("aria-labelledby")}),r!==_t.NONE?i.html(function(a){let c=zn(a.name);return c.length>o&&c.length!==s?Js(c,r,s):c}):i.html(a=>zn(a.name))}addEventListeners(){let t=this,n=this.getComponentContainer(),r=this.getOptions(),o=b(r,"legend"),s=b(o,"truncation");n.selectAll("div.legend-item").on("mouseover",function(i){t.services.events.dispatchEvent(_.Legend.ITEM_HOVER,{hoveredElement:R(this)});let a=R(this);a.select("div.checkbox").classed("hovered",!0);let c=a.datum();c.name.length>s.threshold&&s.numCharacter<c.name.length&&s.type!==_t.NONE&&t.services.events.dispatchEvent(_.Tooltip.SHOW,{event:i,hoveredElement:a,content:c.name})}).on("mousemove",function(i){R(this).datum().name.length>s.threshold&&s.type!==_t.NONE&&t.services.events.dispatchEvent(_.Tooltip.MOVE,{event:i})}).on("click",function(){t.services.events.dispatchEvent(_.Legend.ITEM_CLICK,{clickedElement:R(this)});let i=R(this).datum();t.model.toggleDataLabel(i.name)}).on("mouseout",function(){let i=R(this);i.select("div.checkbox").classed("hovered",!1),i.datum().name.length>s.threshold&&s.type!==_t.NONE&&t.services.events.dispatchEvent(_.Tooltip.HIDE),t.services.events.dispatchEvent(_.Legend.ITEM_MOUSEOUT,{hoveredElement:i})}),n.selectAll("div.legend-item div.checkbox").on("keyup",function(i){i.key&&i.key==="Tab"&&t.services.events.dispatchEvent(_.Legend.ITEM_HOVER,{hoveredElement:R(this)})}),n.selectAll("div.legend-item div.checkbox").on("keydown",function(i,a){i.key&&i.key===" "?(i.preventDefault(),t.model.toggleDataLabel(a.name)):i.key&&i.key==="Tab"&&t.services.events.dispatchEvent(_.Legend.ITEM_MOUSEOUT,{hoveredElement:R(this)})}),n.selectAll("g.additional-item").on("mouseover",function(i){let a=R(this),c=a.datum();c.name.length>s.threshold&&t.services.events.dispatchEvent(_.Tooltip.SHOW,{event:i,hoveredElement:a,content:c.name})})}},gc=class extends je{constructor(t,n,r){super(t,n,r),this.type="chart-clip",this.renderType=be.SVG,this.chartClipId="chart-clip-id-"+Math.floor(Math.random()*99999999999),this.init()}init(){this.model.set({chartClipId:this.chartClipId},{skipUpdate:!0})}render(t=!0){this.createClipPath()}createClipPath(){let t=this.parent,{cartesianScales:n}=this.services;if(!n)throw new Error("Service cartesianScales was undefined");let r=n.getMainXScale(),o=n.getMainYScale(),[s,i]=r.range(),[a,c]=o.range();if(!t)throw new Error("svg is undefined");this.chartClipPath=P.appendOrSelect(t,`clipPath.${this.type}`).attr("id",this.chartClipId);let l=P.appendOrSelect(this.chartClipPath,`rect.${this.type}`);i-s>0&&l.attr("x",s).attr("y",c).attr("width",i-s).attr("height",a-c),this.chartClipPath.merge(l).lower()}},qu=class extends gc{constructor(){super(...arguments),this.type="canvas-chart-clip",this.chartClipId="canvas-chart-clip-id-"+Math.floor(Math.random()*99999999999)}createClipPath(){let t=this.parent,{width:n,height:r}=P.getSVGElementSize(this.parent,{useAttrs:!0});this.chartClipPath=P.appendOrSelect(t,`clipPath.${this.type}`).attr("id",this.chartClipId);let o=P.appendOrSelect(this.chartClipPath,`rect.${this.type}`);o.attr("x",0).attr("y",0).attr("width",n).attr("height",r),this.chartClipPath.merge(o).lower()}},ci,Ze;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(Ze||(Ze={}));var cS=(ci={},ci[Ze.LEFT]=function(e,t,n){return{top:e.top-Math.round(t.offsetHeight/2)+Math.round(n.height/2),left:Math.round(e.left-t.offsetWidth)}},ci[Ze.RIGHT]=function(e,t,n){return{top:e.top-Math.round(t.offsetHeight/2)+Math.round(n.height/2),left:Math.round(e.left+n.width)}},ci[Ze.TOP]=function(e,t,n){return{top:Math.round(e.top-t.offsetHeight),left:e.left-Math.round(t.offsetWidth/2)+Math.round(n.width/2)}},ci[Ze.BOTTOM]=function(e,t,n){return{top:Math.round(e.top+n.height),left:e.left-Math.round(t.offsetWidth/2)+Math.round(n.width/2)}},ci),lS=typeof window<"u"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},lh=function(){function e(t){t===void 0&&(t={}),this.positions=cS,this.positions=Object.assign({},cS,t)}return e.prototype.getRelativeOffset=function(t){for(var n={left:t.offsetLeft,top:t.offsetTop};t.offsetParent&&getComputedStyle(t.offsetParent).position==="static";)n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;return n},e.prototype.getAbsoluteOffset=function(t){for(var n=t,r={top:0,left:0};n.offsetParent;){var o=getComputedStyle(n.offsetParent);o.position==="static"&&o.marginLeft&&o.marginTop&&(parseInt(o.marginTop,10)&&(r.top+=parseInt(o.marginTop,10)),parseInt(o.marginLeft,10)&&(r.left+=parseInt(o.marginLeft,10))),n=n.offsetParent}var s=t.getBoundingClientRect(),i=document.body.getBoundingClientRect();return{top:s.top-i.top+r.top,left:s.left-i.left+r.left}},e.prototype.findRelative=function(t,n,r){var o=this.getRelativeOffset(t),s=t.getBoundingClientRect();return this.calculatePosition(o,s,n,r)},e.prototype.findAbsolute=function(t,n,r){var o=this.getAbsoluteOffset(t),s=t.getBoundingClientRect();return this.calculatePosition(o,s,n,r)},e.prototype.findPosition=function(t,n,r,o){o===void 0&&(o=this.getAbsoluteOffset.bind(this));var s=o(t),i=t.getBoundingClientRect();return this.calculatePosition(s,i,n,r)},e.prototype.findPositionAt=function(t,n,r){return this.calculatePosition(t,{top:0,left:0,height:0,width:0},n,r)},e.prototype.getPlacementBox=function(t,n){var r=t.offsetHeight+n.top,o=t.offsetWidth+n.left;return{top:n.top,bottom:r,left:n.left,right:o}},e.prototype.addOffset=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),Object.assign({},t,{top:t.top+n,left:t.left+r})},e.prototype.setElement=function(t,n){t.style.top=n.top+"px",t.style.left=n.left+"px"},e.prototype.findBestPlacement=function(t,n,r,o,s){var i=this;o===void 0&&(o=this.defaultContainerFunction.bind(this)),s===void 0&&(s=this.findPosition.bind(this));var a=r.map(function(c){var l=s(t,n,c),d=i.getPlacementBox(n,l),u=0,h=0,f=o();d.top<f.top?u=f.top-d.top:d.bottom>f.height&&(u=d.bottom-f.height),d.left<f.left?h=f.left-d.left:d.right>f.width&&(h=d.right-f.width),u&&!h?h=1:h&&!u&&(u=1);var p=n.offsetHeight*n.offsetWidth,v=u*h,g=p-v,m=g/p;return{placement:c,weight:m}});return a.sort(function(c,l){return l.weight-c.weight}),a[0].placement},e.prototype.findBestPlacementAt=function(t,n,r,o){var s=this;o===void 0&&(o=this.defaultContainerFunction.bind(this));var i=function(a,c,l){return s.findPositionAt(t,c,l)};return this.findBestPlacement(null,n,r,o,i)},e.prototype.defaultContainerFunction=function(){return{top:0,left:0,height:lS.innerHeight,width:lS.innerWidth}},e.prototype.calculatePosition=function(t,n,r,o){return this.positions[o]?this.positions[o](t,r,n):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},e}();new lh;var mc=class extends je{constructor(t,n,r){super(t,n,r),this.type="tooltip",this.renderType=be.HTML,this.isEventListenerAdded=!1,this.lastTriggeredEventType="",this.positionService=new lh,this.handleShowTooltip=o=>{let s=o.detail.data||o.detail.items,i,a=this.formatItems(this.getItems(o));o.detail.content?i=`<div class="title-tooltip"><p>${Ou(o.detail.content)}</p></div>`:i=Ou(this.getTooltipHTML(a));let c=P.appendOrSelect(this.tooltip,"div.content-box");if(b(this.getOptions(),"tooltip","customHTML"))if(o.detail.content){let l=`<div class="title-tooltip"><p>${Ou(o.detail.content)}</p></div>`;c.html(l)}else c.html(`<div class="title-tooltip"><p>${Ou(this.model.getOptions().tooltip.customHTML(s,i))}</p></div>`);else c.html(i);c.selectAll(".datapoint-tooltip").each(function(l,d){let u=a[d];a[d]&&a[d].color&&R(this).select(".tooltip-color").attr("class","tooltip-color").style("background-color",u.color)}),this.positionTooltip(o),this.tooltip.classed("hidden",!1).attr("aria-hidden",!1),this.lastTriggeredEventType=o.type},this.handleHideTooltip=()=>{this.tooltip.classed("hidden",!0).attr("aria-hidden",!0)},this.init()}addTooltipEventListener(){this.services.events.addEventListener(_.Tooltip.MOVE,t=>{this.lastTriggeredEventType!==_.Toolbar.SHOW_TOOLTIP&&this.tooltip.classed("hidden")===!1&&this.positionTooltip(t)}),this.services.events.addEventListener(_.Tooltip.SHOW,this.handleShowTooltip),this.services.events.addEventListener(_.Tooltip.HIDE,this.handleHideTooltip),this.services.events.addEventListener(_.Chart.MOUSEOUT,this.handleHideTooltip),this.services.events.addEventListener(_.Toolbar.SHOW_TOOLTIP,this.handleShowTooltip),this.services.events.addEventListener(_.Toolbar.HIDE_TOOLTIP,this.handleHideTooltip)}removeTooltipEventListener(){this.services.events.removeEventListener(_.Tooltip.MOVE,null),this.services.events.removeEventListener(_.Tooltip.SHOW,this.handleShowTooltip),this.services.events.removeEventListener(_.Tooltip.HIDE,this.handleHideTooltip),this.services.events.removeEventListener(_.Chart.MOUSEOUT,this.handleHideTooltip),this.services.events.removeEventListener(_.Toolbar.SHOW_TOOLTIP,this.handleShowTooltip),this.services.events.removeEventListener(_.Toolbar.HIDE_TOOLTIP,this.handleHideTooltip)}getItems(t){return t.detail.items?t.detail.items:[]}formatItems(t){let n=this.getOptions(),r=b(n,"tooltip","truncation","type"),o=b(n,"tooltip","truncation","threshold"),s=b(n,"tooltip","truncation","numCharacter");return r!==_t.NONE?t.map(i=>{let a=i.labelIcon?12:0;return i.value=i.value?this.valueFormatter(i.value,i.label):i.value,i.label&&i.label.length+a>o&&(i.label=Js(i.label,r,s)),i.value&&i.value.length>o&&(i.value=Js(i.value,r,s)),i}):t.map(i=>(i.value=i.value?this.valueFormatter(i.value,i.label):i.value,i))}getTooltipHTML(t){return'<ul class="multi-tooltip">'+t.map(n=>`<li>
					<div class="datapoint-tooltip${n.bold?" bold":""}">
						${n.class||n.color?`<div class="tooltip-color ${n.class}"></div>`:""}
						<div class="label">
						<p>${n.label||""}</p>
						${n.labelIcon?`<span class="label-icon"/>${n.labelIcon}</span>`:""}
						</div>
						${n.value===void 0||n.value===null?"":`<p class="value"/>${n.value}</p>`}
					</div>
				</li>`).join("")+"</ul>"}isDate(t){return t instanceof Date}valueFormatter(t,n){let r=this.getOptions(),o=b(r,"tooltip","valueFormatter"),{code:s,number:i,date:a}=b(r,"locale");if(o)return o(t,n);if(this.isDate(t))return a(t,s,{month:"short",day:"numeric",year:"numeric"});try{if(typeof t=="string"&&/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(t)){let c=new Date(t);return a(c,s,{month:"short",day:"numeric",year:"numeric"})}}catch{}return i(t,s)}render(t=!1){let n=this.getOptions(),r=b(n,"tooltip","enabled");if(r){let o=R(this.services.domUtils.getHolder()),s=b(n,"style","prefix");this.tooltip=P.appendOrSelect(o,`div.${ft}--${s}--tooltip`),this.tooltip.style("max-width",null).attr("role","tooltip"),this.isEventListenerAdded||(this.addTooltipEventListener(),this.isEventListenerAdded=!0),this.tooltip.classed("hidden",!0)}else!r&&this.isEventListenerAdded&&(this.removeTooltipEventListener(),this.isEventListenerAdded=!1)}addOffsetByPlacement(t,n,r){let o=Object.assign({},t);return n==Ze.LEFT?o.left-=r:n==Ze.RIGHT?o.left+=r:n==Ze.TOP?o.top-=r:n==Ze.BOTTOM&&(o.top+=r),o}positionTooltip(t){let n=this.services.domUtils.getHolder(),r=n.offsetWidth,o=n.offsetHeight,s=this.tooltip.node(),i=this.getOptions(),a=b(i,"zoomBar","top","enabled"),c=!!b(t,"detail","noWrap"),l=Array.isArray(b(t,"detail","placements")),d=l?b(t,"detail","placements"):[Ze.RIGHT,Ze.LEFT,Ze.TOP,Ze.BOTTOM],u,{horizontalOffset:h}=lu,{defaultOffset:f}=lu;if(this.tooltip.select("div.title-tooltip").classed("title-tooltip-nowrap",c),l){let g=b(t,"detail","event","target"),m=this.services.domUtils.getElementOffset(g,!0);u=this.positionService.findBestPlacementAt(m,s,d,()=>({top:0,left:0,width:r,height:o}));let w=this.positionService.findPosition(g,s,u,()=>this.services.domUtils.getElementOffset(g));w=this.addOffsetByPlacement(w,u,f),this.positionService.setElement(s,w);return}let p=b(t,"detail","mousePosition");if(!p)p=Ar(b(t,"detail","event"),n);else{let g=b(i,"zoomBar","top","type"),m=yt.height[g];a&&(p[1]+=m+yt.spacerHeight)}p[0]/r>.9?u=Ze.LEFT:p[0]/r<.1?u=Ze.RIGHT:u=this.positionService.findBestPlacementAt({left:p[0],top:p[1]},s,d,()=>({top:void 0,left:void 0,width:r,height:o})),u===Ze.LEFT&&(h*=-1);let v=this.positionService.findPositionAt({left:p[0]+h,top:p[1]},s,u);this.positionService.setElement(s,v)}},nH=(()=>{let e=class Fu extends je{constructor(){super(...arguments),this.type="grid-brush",this.renderType=be.SVG,this.selectionSelector="rect.selection",this.frontSelectionSelector="rect.frontSelection"}render(n=!0){let r=this.parent,o=this.getComponentContainer();if(!r)throw new Error("SVG was not defined");let s=P.appendOrSelect(r,"svg.chart-grid-backdrop"),i=P.appendOrSelect(s,`g.${this.type}`),a=P.appendOrSelect(i,this.selectionSelector),{width:c,height:l}=P.getSVGElementSize(s,{useAttrs:!0}),{cartesianScales:d}=this.services,u=d.getMainXScaleType(),h=d.getMainXScale(),[f]=h.range();o.attr("transform",`translate(${f},0)`);let p=P.appendOrSelect(o,this.frontSelectionSelector);if(h&&u===$.TIME){let v=this.model.get("zoomDomain");v===void 0&&(v=this.services.zoom.getDefaultZoomBarDomain(),v&&this.model.set({zoomDomain:v},{animate:!1}));let g=D=>{let C=D[1]-D[0],T="0,"+C.toString(),A=Math.floor(l/Fu.DASH_LENGTH),M=A*Fu.DASH_LENGTH;for(let I=0;I<A;I++)T+=","+Fu.DASH_LENGTH;T+=","+(l-M),A%2===1&&(T+=",0"),T+=","+C.toString(),T+=","+l.toString(),p.attr("stroke-dasharray",T)},m=D=>{let C=D.selection;C===null||C[0]===C[1]||(p.attr("x",parseFloat(a.attr("x"))+parseFloat(s.attr("x"))).attr("y",a.attr("y")).attr("width",a.attr("width")).attr("height",a.attr("height")).style("cursor","pointer").style("display",null),g(C))},w=(D,C)=>{let T=Du().range([0,c]).domain(v),A=[T.invert(D),T.invert(C)];A[0].valueOf()===A[1].valueOf()&&(A=this.services.zoom.getDefaultZoomBarDomain()),(v[0].valueOf()!==A[0].valueOf()||v[1].valueOf()!==A[1].valueOf())&&this.services.zoom.handleDomainChange(A)},y,S=D=>{let C=D.selection;C!==null&&(w(C[0],C[1]),i.call(y.move,null),p.style("display","none"))};l!=0&&c!=0&&(y=TS().extent([[0,0],[c-1,l]]).on("start brush end",m).on("end.brushed",S),i.call(y));let E=this.services.zoom.getZoomRatio();s.on("click",function(D){if(D.shiftKey){let C=this.services.domUtils.getHolder(),T=Ar(i.node(),C)[0],A=T-c*E/2;A<0&&(A=0);let M=T+c*E/2;M>c&&(M=c),w(A,M)}})}}};return e.DASH_LENGTH=4,e})(),ZS=nH,Wu=class extends je{constructor(){super(...arguments),this.type="zoom-bar",this.renderType=be.SVG,this.MIN_SELECTION_DIFF=9e-10,this.brushSelector="g.zoom-bar-brush",this.clipId="zoomBarClip-"+Math.floor(Math.random()*99999999999),this.brush=TS(),this.highlightStrokeWidth=1}init(){this.services.events.addEventListener(_.ZoomBar.UPDATE,this.render.bind(this));let t=b(this.getOptions(),"zoomBar",k.TOP,"data");this.model.setZoomBarData(t)}render(t=!0){let n=this.getComponentContainer(),r=this.services.zoom.isZoomBarLoading(k.TOP),o=this.services.zoom.isZoomBarLocked(k.TOP),s=b(this.getOptions(),"zoomBar",k.TOP,"type"),i=b(this.getOptions(),"axes",k.BOTTOM,"highlights"),a=yt.height[s],{width:c}=P.getSVGElementSize(this.parent,{useAttrs:!0});if(c===0)return;let l=0,d=this.model.get("axesMargins");d&&d.left&&(l=d.left);let u=P.appendOrSelect(n,"svg.zoom-container").attr("width","100%").attr("height",a).attr("opacity",1);if(P.appendOrSelect(n,"rect.zoom-spacer").attr("x",0).attr("y",a).attr("width","100%").attr("height",yt.spacerHeight).attr("opacity",1).attr("fill","none"),s===Ot.GRAPH_VIEW?P.appendOrSelect(u,"rect.zoom-bg").attr("x",l).attr("y",0).attr("width",c-l).attr("height","100%").classed("zoom-bg-skeleton",r).style("stroke",r?`url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})`:null):s===Ot.SLIDER_VIEW&&P.appendOrSelect(u,"rect.zoom-slider-bg").attr("x",l).attr("y",a/2-1).attr("width",c-l).attr("height",2).classed("zoom-slider-bg-skeleton",r).style("stroke",r?`url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})`:null),r){this.renderSkeleton(u,l,c);return}let{cartesianScales:h}=this.services,f=h.getMainXScale(),p=h.getMainYScale(),v=h.getMainXScaleType();if(f&&v===$.TIME){let g=this.services.zoom.getZoomBarData();if(pm(g)||g.length===1)return;this.xScale=f.copy(),this.yScale=p.copy();let m=this.services.zoom.getDefaultZoomBarDomain(g);g=this.compensateDataForDefaultDomain(g,m);let w=this.model.get("initialZoomDomain"),y=b(this.getOptions(),"zoomBar",k.TOP,"initialZoomDomain");y&&y[0]&&y[1]&&(y[0]=new Date(y[0]),y[1]=new Date(y[1])),y&&!(w&&w[0].valueOf()===y[0].valueOf()&&w[1].valueOf()===y[1].valueOf())?this.model.set({initialZoomDomain:J([],y),zoomDomain:y?J([],y):m},{skipUpdate:!0}):y===null&&w!==null&&this.model.set({initialZoomDomain:null,zoomDomain:J([],m)},{skipUpdate:!0}),this.xScale.range([l,c]).domain(m),this.maxSelectionRange=this.xScale.range(),this.yScale.range([0,a-6]).domain(ir(g,D=>D.value));let S=this.model.get("zoomDomain");if(s===Ot.GRAPH_VIEW&&(this.renderZoomBarArea(u,"path.zoom-graph-area-unselected",g,null),this.updateClipPath(n,this.clipId,0,0,0,0),this.renderZoomBarArea(u,"path.zoom-graph-area",g,this.clipId),this.renderZoomBarBaseline(u,l,c),i)){let D=i.highlightStartMapsTo,C=i.highlightEndMapsTo,T=i.color,A=i.labelMapsTo;i.data.forEach((M,I)=>{P.appendOrSelect(u,`rect.highlight-${I}`).attr("height",a-2*this.highlightStrokeWidth).attr("y",this.highlightStrokeWidth).attr("x",this.xScale(M[D])).attr("width",this.xScale(M[C])-this.xScale(M[D])).style("fill",T&&T.scale[M[A]]?T.scale[M[A]]:null).style("fill-opacity",.1).style("stroke",T&&T.scale[M[A]]?T.scale[M[A]]:null).style("stroke-dasharray","2, 2").attr("stroke-width","1px")})}this.addBrushEventListener(S,l,c);let E=P.appendOrSelect(n,this.brushSelector).call(this.brush);if(S!==void 0)if(S[0].valueOf()===S[1].valueOf())E.call(this.brush.move,this.xScale.range()),this.updateBrushHandle(this.getComponentContainer(),this.xScale.range());else{let D=S.map(C=>this.xScale(C));D[1]-D[0]<this.MIN_SELECTION_DIFF||(E.call(this.brush.move,D),this.updateBrushHandle(this.getComponentContainer(),D))}o&&(this.brush.filter(()=>!1),E.selectAll("rect").attr("cursor","auto"))}}addBrushEventListener(t,n,r){let o=a=>{let c=a.selection;c===null?this.handleBrushedEvent(a,t,this.xScale,this.xScale.range()):c[0]===c[1]||this.handleBrushedEvent(a,t,this.xScale,c)},s=b(this.getOptions(),"zoomBar",k.TOP,"type"),i=yt.height[s];this.brush.extent([[n,0],[r,i]]).on("start brush end",null).on("start brush end",o)}handleBrushedEvent(t,n,r,o){let s=[r.invert(o[0]),r.invert(o[1])];if(this.updateBrushHandle(this.getComponentContainer(),o),t.sourceEvent!=null&&(t.sourceEvent.type==="mousemove"||t.sourceEvent.type==="mouseup"||t.sourceEvent.type==="mousedown"||t.sourceEvent.type==="touchstart"||t.sourceEvent.type==="touchmove"||t.sourceEvent.type==="touchend")){(n===void 0||n[0]!==s[0]||n[1]!==s[1])&&this.services.zoom.handleDomainChange(s,{dispatchEvent:!1});let i;t.type==="start"?i=_.ZoomBar.SELECTION_START:t.type==="brush"?i=_.ZoomBar.SELECTION_IN_PROGRESS:t.type==="end"&&(i=_.ZoomBar.SELECTION_END,this.services.events.dispatchEvent(_.ZoomDomain.CHANGE,{newDomain:s})),this.services.events.dispatchEvent(i,{selection:o,newDomain:s})}}updateBrushHandle(t,n){let r=this,o=yt.handleWidth,s=b(this.getOptions(),"zoomBar",k.TOP,"type"),i=yt.height[s],a=-o/2,c=yt.handleBarWidth,l=s===Ot.GRAPH_VIEW?yt.handleBarHeight:6,d=-c/2,u=(i-l)/2;t.select(this.brushSelector).selectAll("rect.handle").data([{type:"w"},{type:"e"}]).attr("x",function(f){if(f.type==="w")return Math.max(n[0]+a,r.maxSelectionRange[0]);if(f.type==="e")return Math.min(n[1]+a,r.maxSelectionRange[1]-o)}).attr("y",0).attr("width",o).attr("height",i).attr("cursor","ew-resize").style("display",null);let h=t.select(this.brushSelector).selectAll("rect.handle-bar").data([{type:"w"},{type:"e"}]);h.enter().append("rect").attr("class",function(f){return"handle-bar handle-bar--"+f.type}),h.attr("x",function(f){if(f.type==="w")return Math.max(n[0]+d,r.maxSelectionRange[0]-a+d);if(f.type==="e")return Math.min(n[1]+d,r.maxSelectionRange[1]+a+d)}).attr("y",u).attr("width",c).attr("height",l).attr("cursor","ew-resize"),s===Ot.SLIDER_VIEW&&this.updateSliderSelectedArea(n),this.updateClipPath(t,this.clipId,n[0],0,n[1]-n[0],i)}updateSliderSelectedArea(t){let n=b(this.getOptions(),"zoomBar",k.TOP,"type"),r=yt.height[n],o=this.getComponentContainer().select("svg.zoom-container");P.appendOrSelect(o,"rect.zoom-slider-selected-area").attr("x",t[0]).attr("y",r/2-1).attr("width",t[1]-t[0]).attr("height",2)}renderZoomBarArea(t,n,r,o){let{cartesianScales:s}=this.services,i=s.getMainXAxisPosition(),a=s.getMainYAxisPosition(),c=s.getMainXScaleType(),l=s.getMainYScaleType(),d=(m,w,y)=>S=>s.getValueFromScale(m,w,y,S),u=d(this.xScale,c,i),h=d(this.yScale,l,a),f=b(this.getOptions(),"zoomBar",k.TOP,"type"),p=yt.height[f],v=Yv().x(m=>u(m)).y0(p).y1(m=>p-h(m)),g=P.appendOrSelect(t,n).datum(r).attr("d",v);o&&g.attr("clip-path",`url(#${o})`)}updateClipPath(t,n,r,o,s,i){let a=P.appendOrSelect(t,"clipPath").attr("id",n);P.appendOrSelect(a,"rect").attr("x",r).attr("y",o).attr("width",s).attr("height",i)}compensateDataForDefaultDomain(t,n){if(!t||t.length<2)return;let r=xo(t),o=this.services.cartesianScales.getDomainIdentifier(),s=this.services.cartesianScales.getRangeIdentifier();if(Number(n[0])<Number(r[0][o])){let i={};i[o]=n[0],i[s]=0,r.unshift(i)}if(Number(n[1])>Number(r[r.length-1][o])){let i={};i[o]=n[1],i[s]=0,r.push(i)}return r}renderZoomBarBaseline(t,n,r,o=!1){let s=b(this.model.getOptions(),"zoomBar",k.TOP,"type"),i=yt.height[s],a=Zv()([[n,i],[r,i]]);P.appendOrSelect(t,"path.zoom-bg-baseline").attr("d",a).classed("zoom-bg-baseline-skeleton",o).style("stroke",o?`url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})`:null)}renderSkeleton(t,n,r){this.renderZoomBarArea(t,"path.zoom-graph-area-unselected",[],null),this.renderZoomBarArea(t,"path.zoom-graph-area",[],this.clipId),this.brush.on("start brush end",null),P.appendOrSelect(this.getComponentContainer(),this.brushSelector).html(null),b(this.getOptions(),"zoomBar",k.TOP,"type")===Ot.GRAPH_VIEW&&this.renderZoomBarBaseline(t,n,r,!0)}destroy(){this.brush.on("start brush end",null),this.services.events.removeEventListener(_.ZoomBar.UPDATE,this.render.bind(this))}},Zu=class extends je{constructor(t,n){super(t,n),this.type="threshold",this.renderType=be.SVG,this.positionService=new lh}render(t=!1){let n=b(this.getOptions(),"axes"),r=[];Object.keys(n).forEach(l=>{if(Object.values(k).includes(l)){let d=n[l];d.thresholds&&d.thresholds.length>0&&r.push({axisPosition:l,thresholds:d.thresholds,correspondingDatasets:d?.correspondingDatasets,mapsTo:d?.mapsTo})}});let o=this.getComponentContainer({withinChartClip:!0}).selectAll("g.axis-thresholds").data(r,l=>l.axisPosition);o.exit().attr("opacity",0).remove();let s=o.enter().append("g").merge(o);s.attr("class",l=>`axis-thresholds ${l.axisPosition}`);let i=s.selectAll("g.threshold-group").data(l=>l.thresholds.map(d=>(d.axisPosition=l.axisPosition,d.datum=this.constructDatumObj(l,d),d)));i.exit().attr("opacity",0).remove();let a=i.enter().append("g");a.append("line").attr("class","threshold-line"),a.append("rect").attr("class","threshold-hoverable-area"),a.merge(i).attr("class","threshold-group");let c=this;s.each(function({axisPosition:l}){let d=c.services.cartesianScales.getScaleByPosition(l),u=c.services.cartesianScales.getScaleTypeByPosition(l),h=null,f=null;l===k.LEFT||l===k.RIGHT?(f=d,h=c.services.cartesianScales.getMainXScale()):(h=d,f=c.services.cartesianScales.getMainYScale());let p=u===$.LABELS,[v,g]=h.range(),[m,w]=f.range(),{cartesianScales:y}=c.services,S=y.getOrientation(),E=M=>y.getDomainValue(M),D=M=>y.getRangeValue(M),[C,T]=Co(E,D,S),A=R(this);l===k.TOP||l===k.BOTTOM?(A.selectAll("line.threshold-line").transition().call(M=>c.services.transitions.setupTransition({transition:M,name:"threshold-line-update",animate:t})).attr("y1",w).attr("y2",m).attr("x1",({datum:M})=>C(M)+(p?d.step()/2:0)).attr("x2",({datum:M})=>C(M)+(p?d.step()/2:0)).style("stroke",({fillColor:M})=>M),A.selectAll("rect.threshold-hoverable-area").attr("x",0).attr("y",({datum:M})=>-C(M)).attr("width",Math.abs(m-w)).classed("rotate",!0)):(A.selectAll("line.threshold-line").transition().call(M=>c.services.transitions.setupTransition({transition:M,name:"threshold-line-update",animate:t})).attr("x1",v).attr("x2",g).attr("y1",({datum:M})=>T(M)+(p?d.step()/2:0)).attr("y2",({datum:M})=>T(M)+(p?d.step()/2:0)).style("stroke",({fillColor:M})=>M),A.selectAll("rect.threshold-hoverable-area").attr("x",v).attr("y",({datum:M})=>T(M)).attr("width",Math.abs(g-v)).classed("rotate",!1))}),this.services.events.addEventListener(_.Threshold.SHOW,l=>{this.setThresholdLabelPosition(l.detail),this.label.classed("hidden",!1)}),this.services.events.addEventListener(_.Threshold.HIDE,()=>{this.label.classed("hidden",!0)}),this.appendThresholdLabel(),this.addEventListeners()}getFormattedValue(t){let{value:n,axisPosition:r}=t,o=this.getOptions(),s=this.services.cartesianScales.getScaleTypeByPosition(r),{code:i,number:a}=b(o,"locale");if(s===$.TIME){let c=[k.LEFT,k.RIGHT].includes(r),l=this.services.cartesianScales.getMainXScale(),d=this.services.cartesianScales.getMainYScale(),u=c?d:l,h=b(o,"timeScale"),f=Ga(u.ticks(),b(h,"timeInterval"));return Ha(n,0,u.ticks(),f,h,o.locale)}return a(n,i)}appendThresholdLabel(){let t=R(this.services.domUtils.getHolder()),n=b(this.getOptions(),"style","prefix");this.label=P.appendOrSelect(t,`div.${ft}--${n}--threshold--label`).classed("hidden",!0)}setThresholdLabelPosition({event:t,datum:n}){let r=this.services.domUtils.getHolder(),o=Ar(t,r),s=n.valueFormatter?n.valueFormatter(n.value):this.getFormattedValue(n);this.label.html(zn(`${n.label||"Threshold"}: ${s}`)).style("background-color",n.fillColor);let i=this.label.node(),a=this.positionService.findBestPlacementAt({left:o[0],top:o[1]},i,[Ze.RIGHT,Ze.LEFT,Ze.TOP,Ze.BOTTOM],()=>({top:void 0,left:void 0,width:r.offsetWidth,height:r.offsetHeight})),c=this.positionService.findPositionAt({left:o[0],top:o[1]},i,a);this.positionService.setElement(i,c)}constructDatumObj(t,n){let r={};return t.correspondingDatasets&&(r.group=b(t,"correspondingDatasets",0)),r[t.mapsTo]=n.value,r}addEventListeners(){let t=this;this.getComponentContainer({withinChartClip:!0}).selectAll("rect.threshold-hoverable-area").on("mouseover mousemove",function(n){R(this.parentNode).select("line.threshold-line").classed("active",!0),t.services.events.dispatchEvent(_.Threshold.SHOW,{event:n,hoveredElement:R(this),datum:R(this).datum()})}).on("mouseout",function(n){R(this.parentNode).select("line.threshold-line").classed("active",!1),t.services.events.dispatchEvent(_.Threshold.HIDE,{event:n,hoveredElement:R(this),datum:R(this).datum()})})}},Yu=class extends je{constructor(t,n){super(t,n),this.type="highlight",this.renderType=be.SVG,this.positionService=new lh,this.highlightStrokeWidth=1}render(t=!1){let n=b(this.getOptions(),"axes"),r=[];Object.keys(n).forEach(l=>{if(Object.values(k).includes(l)){let d=n[l];d.highlights&&d.highlights.data.length>0&&r.push({axisPosition:l,highlightStartMapsTo:d.highlights.highlightStartMapsTo,highlightEndMapsTo:d.highlights.highlightEndMapsTo,labelMapsTo:d.highlights.labelMapsTo,highlight:d.highlights.data,color:d.highlights.color})}});let o=this.getComponentContainer({withinChartClip:!0}).selectAll("g.axis-highlight").data(r,l=>l.axisPosition);o.exit().attr("opacity",0).remove();let s=o.enter().append("g").merge(o);s.attr("class",l=>`axis-highlight ${l.axisPosition}`);let i=s.selectAll("g.highlight-group").data(l=>l.highlight.map(d=>(d.axisPosition=l.axisPosition,d.highlightStartMapsTo=l.highlightStartMapsTo,d.labelMapsTo=l.labelMapsTo,d.color=l.color,d.highlightEndMapsTo=l.highlightEndMapsTo,d)));i.exit().attr("opacity",0).remove();let a=i.enter().append("g");a.append("rect").attr("class","highlight-bar"),a.append("line").attr("class","highlight-line"),a.merge(i).attr("class","highlight-group");let c=this;s.each(function({axisPosition:l}){let d=c.services.cartesianScales.getMainXScale(),u=c.services.cartesianScales.getMainYScale(),[h,f]=d.range(),[p,v]=u.range(),{cartesianScales:g}=c.services,m=g.getOrientation(),w=C=>g.getDomainValue(C),y=C=>g.getRangeValue(C),[S,E]=Co(w,y,m),D=R(this);l===k.TOP||l===k.BOTTOM?D.selectAll("rect.highlight-bar").transition().call(C=>c.services.transitions.setupTransition({transition:C,name:"highlight-bar-update",animate:t})).attr("y",Math.max(v+c.highlightStrokeWidth,0)).attr("height",Math.max(p-2*c.highlightStrokeWidth,0)).attr("x",A=>{var M=A,{highlightStartMapsTo:C}=M,T=hn(M,["highlightStartMapsTo"]);return S(T[C])}).attr("width",M=>{var I=M,{highlightStartMapsTo:C,highlightEndMapsTo:T}=I,A=hn(I,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(S(A[T])-S(A[C]),0)}).style("stroke",M=>{var I=M,{color:C,labelMapsTo:T}=I,A=hn(I,["color","labelMapsTo"]);return C&&C.scale[A[T]]?C.scale[A[T]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",c.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",M=>{var I=M,{color:C,labelMapsTo:T}=I,A=hn(I,["color","labelMapsTo"]);return C&&C.scale[A[T]]?C.scale[A[T]]:null}):D.selectAll("rect.highlight-bar").transition().call(C=>c.services.transitions.setupTransition({transition:C,name:"highlight-bar-update",animate:t})).attr("x",h).attr("width",Math.max(f-h,0)).attr("y",A=>{var M=A,{highlightEndMapsTo:C}=M,T=hn(M,["highlightEndMapsTo"]);return E(T[C])}).attr("height",M=>{var I=M,{highlightStartMapsTo:C,highlightEndMapsTo:T}=I,A=hn(I,["highlightStartMapsTo","highlightEndMapsTo"]);return Math.max(E(A[C])-E(A[T]),0)}).style("stroke",M=>{var I=M,{color:C,labelMapsTo:T}=I,A=hn(I,["color","labelMapsTo"]);return C&&C.scale[A[T]]?C.scale[A[T]]:null}).style("stroke-dasharray","2, 2").attr("stroke-width",c.highlightStrokeWidth+"px").style("fill-opacity",.1).style("fill",M=>{var I=M,{color:C,labelMapsTo:T}=I,A=hn(I,["color","labelMapsTo"]);return C&&C.scale[A[T]]?C.scale[A[T]]:null})})}},Xu=class extends mc{getItems(t){if(t.detail.items)return t.detail.items;let{data:n}=t.detail;if(!n||!n.length||!n[0])return[];let r=this.getOptions(),{cartesianScales:o}=this.services,s=o.getDomainIdentifier(),i=o.isDualAxes(),{groupMapsTo:a}=r.data,c=o.getDomainLabel(),l=o.getRangeLabel(),d=n[0][s],u;if(n.length===1){let h=n[0],f=o.getRangeIdentifier(h);if(i){let v=o.getRangeAxisPosition({datum:h,groups:[h[a]]});l=o.getScaleLabel(v)}let p=h[f];u=[{label:c,value:d},...Array.isArray(p)&&p.length===2?[{label:"Start",value:p[0]},{label:"End",value:p[1]}]:[{label:l,value:h[f]}]],t.detail.additionalItems&&t.detail.additionalItems.forEach(v=>u.push({label:v.label,value:v.value})),u.push({label:Ir(r,"locale.translations.group")||Ir(r,"tooltip.groupLabel"),value:h[a],color:this.model.getFillColor(h[a]),class:this.model.getColorClassName({classNameTypes:[Ke.TOOLTIP],dataGroupName:h[a]})})}else if(n.length>1&&(u=[{label:c,value:d}],u=u.concat(n.map(h=>{let f=h[o.getRangeIdentifier(h)];return{label:h[a],value:Array.isArray(f)&&f.length===2?`${f[0]} - ${f[1]}`:f,color:this.model.getFillColor(h[a]),class:this.model.getColorClassName({classNameTypes:[Ke.TOOLTIP],dataGroupName:h[a]})}}).sort((h,f)=>f.value-h.value)),!i&&b(r,"tooltip","showTotal")===!0)){let h=o.getRangeIdentifier();u.push({label:Ir(r,"locale.translations.total")||Ir(r,"tooltip.totalLabel")||"Total",value:n.reduce((f,p)=>f+p[h],0),bold:!0})}return u}};var $v=Math.PI,Uv=2*$v,No=1e-6,rH=Uv-No;function zv(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function oH(){return new zv}zv.prototype=oH.prototype={constructor:zv,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+s)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var s=this._x1,i=this._y1,a=n-e,c=r-t,l=s-e,d=i-t,u=l*l+d*d;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(u>No)if(!(Math.abs(d*a-c*l)>No)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-s,f=r-i,p=a*a+c*c,v=h*h+f*f,g=Math.sqrt(p),m=Math.sqrt(u),w=o*Math.tan(($v-Math.acos((p+u-v)/(2*g*m)))/2),y=w/m,S=w/g;Math.abs(y-1)>No&&(this._+="L"+(e+y*l)+","+(t+y*d)),this._+="A"+o+","+o+",0,0,"+ +(d*h>l*f)+","+(this._x1=e+S*a)+","+(this._y1=t+S*c)}},arc:function(e,t,n,r,o,s){e=+e,t=+t,n=+n,s=!!s;var i=n*Math.cos(r),a=n*Math.sin(r),c=e+i,l=t+a,d=1^s,u=s?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+l:(Math.abs(this._x1-c)>No||Math.abs(this._y1-l)>No)&&(this._+="L"+c+","+l),n&&(u<0&&(u=u%Uv+Uv),u>rH?this._+="A"+n+","+n+",0,1,"+d+","+(e-i)+","+(t-a)+"A"+n+","+n+",0,1,"+d+","+(this._x1=c)+","+(this._y1=l):u>No&&(this._+="A"+n+","+n+",0,"+ +(u>=$v)+","+d+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var pJ=Array.prototype.slice;var Ku=class extends je{constructor(){super(...arguments),this.type="grid",this.renderType=be.SVG}render(t=!0){let n=b(this.getOptions(),"grid","x","enabled"),r=b(this.getOptions(),"grid","y","enabled");this.drawBackdrop(n,r),!(!n&&!r)&&(n&&(P.appendOrSelect(this.backdrop,"g.x.grid"),this.drawXGrid(t)),r&&(P.appendOrSelect(this.backdrop,"g.y.grid"),this.drawYGrid(t)))}drawXGrid(t){let n=this.parent,r=this.backdrop.attr("height"),o=this.services.cartesianScales.getMainXScale(),s=CS(o).tickSizeInner(-r).tickSizeOuter(0);if(b(this.getOptions(),"grid","x","alignWithAxisTicks")){let a=this.services.cartesianScales.getDomainAxisPosition(),c=b(this.getOptions(),"axes",a,"ticks","values");c&&s.tickValues(c)}else{let a=b(this.getOptions(),"grid","x","numberOfTicks");s.ticks(a)}let i=n.select(".x.grid").attr("transform",`translate(${-this.backdrop.attr("x")}, ${r})`);t?i.transition().call(a=>this.services.transitions.setupTransition({transition:a,name:"grid-update",animate:t})).call(s):i.call(s),this.cleanGrid(i)}drawYGrid(t){let n=this.parent,r=this.backdrop.attr("width"),o=this.services.cartesianScales.getMainYScale(),s=_S(o).tickSizeInner(-r).tickSizeOuter(0);if(b(this.getOptions(),"grid","y","alignWithAxisTicks")){let a=this.services.cartesianScales.getRangeAxisPosition(),c=b(this.getOptions(),"axes",a,"ticks","values");c&&s.tickValues(c)}else{let a=b(this.getOptions(),"grid","y","numberOfTicks");s.ticks(a)}let i=n.select(".y.grid").attr("transform",`translate(0, ${-this.backdrop.attr("y")})`);t?i.transition().call(a=>this.services.transitions.setupTransition({transition:a,name:"grid-update",animate:t})).call(s):i.call(s),this.cleanGrid(i)}getGridlineThreshold(t){let n=this.parent,r=n.selectAll(".x.grid .tick").nodes().sort((d,u)=>Number(Un(d).tx)-Number(Un(u).tx)),o=-1;if(!r.length)return;r.forEach(d=>{t[0]>=+Un(d).tx&&o++});let s=o+1<r.length?o+1:r.length,i=r[o],a=r[s],c;if(!i)c=+Un(a).tx;else if(a)c=+Un(a).tx-+Un(i).tx;else{let d=n.select("rect.chart-grid-backdrop").node();c=P.getSVGElementSize(d).width-+Un(i).tx}let{threshold:l}=this.getOptions().tooltip.gridline;return c*l}getActiveGridline(t){let n=b(this.getOptions,"tooltip","gridline","threshold"),r=n||this.getGridlineThreshold(t);return this.parent.selectAll(".x.grid .tick").filter(function(){let o=Un(this),s={min:Number(o.tx)-r,max:Number(o.tx)+r};return s.min<=t[0]&&t[0]<=s.max})}drawBackdrop(t,n){let r=this.parent,o=this.services.cartesianScales.getMainXScale(),s=this.services.cartesianScales.getMainYScale(),[i,a]=o.range(),[c,l]=s.range();this.backdrop=P.appendOrSelect(r,"svg.chart-grid-backdrop");let d=P.appendOrSelect(this.backdrop,t||n?"rect.chart-grid-backdrop.stroked":"rect.chart-grid-backdrop");this.backdrop.merge(d).attr("x",i).attr("y",l).attr("width",Math.abs(a-i)).attr("height",Math.abs(c-l)).lower(),d.attr("width","100%").attr("height","100%")}cleanGrid(t){t.selectAll("text").remove(),t.select(".domain").remove()}},Qu=class extends je{constructor(){super(...arguments),this.type="area",this.renderType=be.SVG,this.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),this.handleLegendOnHover=t=>{let{hoveredElement:n}=t.detail;this.parent.selectAll("path.area").transition("legend-hover-area").call(r=>this.services.transitions.setupTransition({transition:r,name:"legend-hover-area"})).attr("opacity",r=>r.name!==n.datum().name?Dn.opacity.unselected:Dn.opacity.selected)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.area").transition("legend-mouseout-area").call(t=>this.services.transitions.setupTransition({transition:t,name:"legend-mouseout-area"})).attr("opacity",Dn.opacity.selected)}}init(){let t=this.services.events;t.addEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(t=!0){let n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions(),o=[0,0],{cartesianScales:s}=this.services,i=s.getOrientation(),a=Yv().curve(this.services.curves.getD3Curve()).defined(E=>{let D=s.getRangeIdentifier();return E[D]!=null}),c=this.model.getGroupedData(this.configs.groups),l=b(r,"bounds"),d=l&&c&&c.length===1;!d&&l&&console.warn(`Bounds can only be shown when having 1 single datagroup, you've supplied ${c.length}`);let u=0,h=(E,D)=>{b(r,"axes",E,"includeZero")===!1&&D[0]>0&&D[1]>0&&(u=D[0])},f=E=>d?s.getBoundedScaledValues(E)[0]:s.getRangeValue(u),p=E=>d?s.getBoundedScaledValues(E)[1]:s.getRangeValue(E);i===Qe.VERTICAL?(o=s.getMainYScale().domain(),h(s.getMainYAxisPosition(),o),a.x(E=>s.getDomainValue(E)).y0(E=>f(E)).y1(E=>p(E))):(o=s.getMainXScale().domain(),h(s.getMainXAxisPosition(),o),a.x0(E=>f(E)).x1(E=>p(E)).y(E=>s.getDomainValue(E)));let v=b(r,"color","gradient","enabled"),g=c&&c.length===1&&v;c.length>1&&v&&console.error("Gradients can only be enabled when having 1 single dataset");let m=n.selectAll("path.area").data(c,E=>E.name),w=R(this.services.domUtils.getMainContainer());if(m.exit().attr("opacity",0).remove(),!c.length)return;if(g){let E=w.select(`path.${this.model.getColorClassName({classNameTypes:[Ke.STROKE],dataGroupName:c[0].name})}`).node(),D;if(E)D=getComputedStyle(E,null).getPropertyValue("stroke");else{let C=b(this.model.getOptions(),"color","scale");if(C!==null){let T=Object.keys(C);D=C[T[0]]}}Mo.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(`${c[0].name.replace(" ","")}_${this.gradient_id}`),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:Mo.getStops(o,D)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});let y=this,S=m.enter().append("path");g?S.merge(m).style("fill",E=>`url(#${this.services.domUtils.generateElementIDString(`${E.name.replace(" ","")}_${this.gradient_id}`)})`).attr("class","area").attr("class",E=>this.model.getColorClassName({classNameTypes:[Ke.FILL],dataGroupName:E.name,originalClassName:"area"})).attr("d",E=>{let{data:D}=E;return a(D)}):(S.attr("opacity",0).merge(m).attr("class","area").attr("class",E=>this.model.getColorClassName({classNameTypes:[Ke.FILL,Ke.STROKE],dataGroupName:E.name,originalClassName:"area"})).style("fill",E=>y.model.getFillColor(E.name,null,E.data)).transition().call(E=>this.services.transitions.setupTransition({transition:E,name:"area-update-enter",animate:t})).attr("opacity",d?1:Dn.opacity.selected).attr("d",E=>{let{data:D}=E;return a(D)}),d&&S.attr("fill-opacity",Dn.opacity.selected).style("stroke",E=>y.model.getStrokeColor(E.name,null,E.data)).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}destroy(){let t=this.services.events;t.removeEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}},Po=class extends je{constructor(){super(...arguments),this.type="line",this.renderType=be.SVG,this.handleLegendOnHover=t=>{let{hoveredElement:n}=t.detail;this.parent.selectAll("path.line").transition("legend-hover-line").call(r=>this.services.transitions.setupTransition({transition:r,name:"legend-hover-line"})).attr("opacity",r=>r.name!==n.datum().name?$a.opacity.unselected:$a.opacity.selected)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.line").transition("legend-mouseout-line").call(t=>this.services.transitions.setupTransition({transition:t,name:"legend-mouseout-line"})).attr("opacity",$a.opacity.selected)}}init(){let{events:t}=this.services;t.addEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(t=!0){let n=this.getComponentContainer({withinChartClip:!0}),{cartesianScales:r,curves:o}=this.services,s=f=>r.getDomainValue(f),i=f=>r.getRangeValue(f),[a,c]=Co(s,i,r.getOrientation()),l=this.getOptions(),d=Zv().x(a).y(c).curve(o.getD3Curve()).defined(f=>{let p=r.getRangeIdentifier(f);return f[p]!=null}),u=[];if(this.configs.stacked){let f=Object.keys(l.axes).some(v=>l.axes[v].percentage),{groupMapsTo:p}=l.data;u=this.model.getStackedData({groups:this.configs.groups,percentage:f}).map(v=>{let g=this.services.cartesianScales.getDomainIdentifier(v),m=this.services.cartesianScales.getRangeIdentifier(v);return{name:b(v,0,p),data:v.map(w=>({[g]:w.data.sharedStackKey,[p]:w[p],[m]:w[1]})),hidden:!ZV(v,w=>w[0]!==w[1])}})}else u=this.model.getGroupedData(this.configs.groups);let h=n.selectAll("path.line").data(u,f=>f.name);h.exit().attr("opacity",0).remove(),h.enter().append("path").classed("line",!0).attr("opacity",0).merge(h).data(u,f=>f.name).attr("class",f=>this.model.getColorClassName({classNameTypes:[Ke.STROKE],dataGroupName:f.name,originalClassName:"line"})).style("stroke",f=>this.model.getStrokeColor(f.name,null,f.data)).attr("role",We.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",f=>{let{data:p}=f;return p.map(v=>{let g=this.services.cartesianScales.getRangeIdentifier(v);return v[g]}).join(",")}).transition().call(f=>this.services.transitions.setupTransition({transition:f,name:"line-update-enter",animate:t})).attr("opacity",f=>f.hidden?0:1).attr("d",f=>{let{data:p}=f;return d(p)})}destroy(){let t=this.services.events;t.removeEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}},dS=5;function sH(e,t){return e>t-dS&&e<t+dS}var vc=class extends je{constructor(){super(...arguments),this.type="ruler",this.renderType=be.SVG,this.isXGridEnabled=b(this.getOptions(),"grid","x","enabled"),this.isYGridEnabled=b(this.getOptions(),"grid","y","enabled"),this.isEventListenerAdded=!1}render(t=!1){let n=b(this.getOptions(),"ruler","enabled");this.drawBackdrop(),n&&!this.isEventListenerAdded?this.addBackdropEventListeners():!n&&this.isEventListenerAdded&&this.removeBackdropEventListeners()}removeBackdropEventListeners(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)}formatTooltipData(t){return t}showRuler(t,[n,r]){let o=this.parent,s=this.services.cartesianScales.getOrientation(),i=this.model.getDisplayData(),a=this.services.cartesianScales.getRangeScale(),[c,l]=a.range(),d=s===Qe.HORIZONTAL?r:n,u=P.appendOrSelect(o,"g.ruler").attr("aria-label","ruler"),h=P.appendOrSelect(u,"line.ruler-line"),f=o.selectAll("[role=graphics-symbol]"),p=i.map(g=>({domainValue:this.services.cartesianScales.getDomainValue(g),originalData:g})).filter(g=>sH(g.domainValue,d));if(this.pointsWithinLine&&p.length===this.pointsWithinLine.length&&p.map(g=>g.domainValue).join()===this.pointsWithinLine.map(g=>g.domainValue).join())return this.pointsWithinLine=p,this.services.events.dispatchEvent(_.Tooltip.MOVE,{mousePosition:[n,r]});this.pointsWithinLine=p;let v=this.pointsWithinLine.reduce((g,m)=>{if(g.length===0)return g.push(m),g;let w=g[0].domainValue,y=Math.abs(d-m.domainValue),S=Math.abs(d-w);return y>S||(y<S?g=[m]:g.push(m)),g},[]);if(v.length>0){let g=v.map(S=>S.originalData).filter(S=>{let E=this.services.cartesianScales.getRangeIdentifier(S);return S[E]!=null}),m=v.map(S=>S.domainValue),w=f.filter(S=>{let E=this.services.cartesianScales.getDomainValue(S);return m.includes(E)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!qV(this.elementsToHighlight,w)&&this.hideRuler(),w.dispatch("mouseover"),this.elementsToHighlight=w,this.services.events.dispatchEvent(_.Tooltip.SHOW,{mousePosition:[n,r],hoveredElement:h,data:this.formatTooltipData(g)}),u.attr("opacity",1);let y=v[0];s==="horizontal"?h.attr("x1",l).attr("x2",c).attr("y1",y.domainValue).attr("y2",y.domainValue):h.attr("y1",l).attr("y2",c).attr("x1",y.domainValue).attr("x2",y.domainValue)}else this.hideRuler()}hideRuler(){let t=this.parent,n=P.appendOrSelect(t,"g.ruler");t.selectAll("[role=graphics-symbol]").dispatch("mouseout"),this.services.events.dispatchEvent(_.Tooltip.HIDE),n.attr("opacity",0)}addBackdropEventListeners(){this.isEventListenerAdded=!0;let t=this,n=this.services.domUtils.getHolder(),r=this.model.getDisplayData(),o=function(s){let i=Ar(s,t.parent.node());t.showRuler(s,i)};if(r.length>100){let s=r.length%50*12.5;o=R2(function(i){let{mousePosition:a}=this;t.showRuler(i,a)},s,n)}this.backdrop.on("mousemove mouseover",o).on("mouseout",this.hideRuler.bind(this))}drawBackdrop(){let t=this.parent;this.backdrop=P.appendOrSelect(t,"svg.chart-grid-backdrop")}},Nr=class extends je{constructor(){super(...arguments),this.type="scatter",this.renderType=be.SVG,this.handleChartHolderOnHover=()=>{if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(t=>{var n;return(n=this.services.transitions)==null?void 0:n.setupTransition({transition:t,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},this.handleChartHolderOnMouseOut=()=>{if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(t=>{var n;return(n=this.services.transitions)==null?void 0:n.setupTransition({transition:t,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},this.handleLegendOnHover=t=>{let{hoveredElement:n}=t.detail,{groupMapsTo:r}=this.getOptions().data;if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(o=>{var s;return(s=this.services.transitions)==null?void 0:s.setupTransition({transition:o,name:"legend-hover-scatter"})}).attr("opacity",o=>o[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(t=>{var n;return(n=this.services.transitions)==null?void 0:n.setupTransition({transition:t,name:"legend-mouseout-scatter"})}).attr("opacity",1)}}init(){let{events:t}=this.services;if(!t)throw new Error("Services events are undefined.");t.addEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);let{fadeInOnChartHolderMouseover:n}=this.configs;n&&(t.addEventListener(_.Chart.MOUSEOVER,this.handleChartHolderOnHover),t.addEventListener(_.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))}filterBasedOnZoomDomain(t){let{cartesianScales:n}=this.services;if(!n)throw new Error("Services cartesianScales are undefined.");let r=n.getDomainIdentifier(t),o=this.model.get("zoomDomain");return o!==void 0?t.filter(s=>s[r].getTime()>=o[0].getTime()&&s[r].getTime()<=o[1].getTime()):t}getScatterData(){let t=this.getOptions(),{stacked:n}=this.configs,r;if(n){let o=Object.keys(t.axes).some(s=>t.axes[s].percentage);r=this.model.getStackedData({groups:this.configs.groups,percentage:o})}else{let{cartesianScales:o}=this.services;if(!o)throw new Error("Services cartesianScales are undefined.");r=this.model.getDisplayData(this.configs.groups).filter(s=>{let i=o.getRangeIdentifier(s);return s[i]!==void 0&&s[i]!==null})}return this.filterBasedOnZoomDomain(r)}render(t){if(!(b(this.getOptions(),"points","enabled")||b(this.getOptions(),"bubble","enabled")))return;let n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions(),{groupMapsTo:o}=r.data,{cartesianScales:s}=this.services;if(!s)throw new Error("Services cartesianScales are undefined.");let i=s.getDomainIdentifier(),a=n.selectAll("circle.dot").data(this.getScatterData(),l=>`${l[o]}-${l[i]}`);a.exit().attr("opacity",0).remove();let c=a.enter().append("circle").classed("dot",!0).attr("opacity",0).merge(a);this.styleCircles(c,t),this.addEventListeners()}isDatapointThresholdAnomaly(t){let{handleThresholds:n}=this.configs;if(!n)return!1;let{cartesianScales:r}=this.services;if(!r)throw new Error("Cartesian scales service is undefined");let o=r.getOrientation(),[s,i]=Co(r.getHighestDomainThreshold(),r.getHighestRangeThreshold(),o),[a,c]=Co(u=>r.getDomainValue(u),u=>r.getRangeValue(u),o),l=a(t),d=c(t);return i&&s?d<=i.scaleValue&&l>=s.scaleValue:i?d<=i.scaleValue:s?l>=s.scaleValue:!1}styleCircles(t,n){let r=this.getOptions(),{filled:o,fillOpacity:s}=r.points,{cartesianScales:i}=this.services;if(!i)throw new Error("Cartesian scales service is undefined");let{groupMapsTo:a}=r.data,c=f=>i.getDomainValue(f),l=f=>i.getRangeValue(f),[d,u]=Co(c,l,i.getOrientation()),{fadeInOnChartHolderMouseover:h}=this.configs;t.raise().classed("dot",!0).attr("class",f=>{let p=i.getDomainIdentifier(f),v=this.model.getIsFilled(f[a],f[p],f,o)?[Ke.FILL,Ke.STROKE]:[Ke.STROKE];return this.model.getColorClassName({classNameTypes:v,dataGroupName:f[a],originalClassName:"dot"})||""}).classed("threshold-anomaly",f=>this.isDatapointThresholdAnomaly(f)).classed("filled",f=>{let p=i.getDomainIdentifier(f);return this.model.getIsFilled(f[a],f[p],f,o)}).classed("unfilled",f=>{let p=i.getDomainIdentifier(f);return!this.model.getIsFilled(f[a],f[p],f,o)}).transition().call(f=>{var p;return(p=this.services.transitions)==null?void 0:p.setupTransition({transition:f,name:"scatter-update-enter",animate:n})}).attr("cx",d).attr("cy",u).attr("r",r.points.radius).style("fill",f=>{let p=i.getDomainIdentifier(f);if(this.model.getIsFilled(f[a],f[p],f,o))return this.model.getFillColor(f[a],f[p],f)}).style("stroke",f=>{let p=i.getDomainIdentifier(f);return this.model.getStrokeColor(f[a],f[p],f)}).attr("fill-opacity",o?s:1).attr("opacity",h?0:1).attr("role",We.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",f=>{let p=i.getRangeIdentifier(f);return f[p]}),this.addEventListeners()}getTooltipAdditionalItems(t){return null}addEventListeners(){let t=this,{groupMapsTo:n}=t.getOptions().data;if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle").on("mouseover",function(r,o){var s,i;let a=R(this);a.classed("hovered",!0).attr("class",c=>t.model.getColorClassName({classNameTypes:[Ke.FILL],dataGroupName:c[n],originalClassName:a.attr("class")})).style("fill",c=>{var l;let d=(l=t.services.cartesianScales)==null?void 0:l.getDomainIdentifier(c);return t.model.getFillColor(c[n],c[d],c)}).classed("unfilled",!1),(s=t.services.events)==null||s.dispatchEvent(_.Tooltip.SHOW,{event:r,hoveredElement:a,data:[o],additionalItems:t.getTooltipAdditionalItems(o)}),(i=t.services.events)==null||i.dispatchEvent(_.Scatter.SCATTER_MOUSEOVER,{event:r,element:a,datum:o})}).on("mousemove",function(r,o){var s,i;let a=R(this);(s=t.services.events)==null||s.dispatchEvent(_.Scatter.SCATTER_MOUSEMOVE,{event:r,element:a,datum:o}),(i=t.services.events)==null||i.dispatchEvent(_.Tooltip.MOVE,{event:r})}).on("click",function(r,o){var s;(s=t.services.events)==null||s.dispatchEvent(_.Scatter.SCATTER_CLICK,{event:r,element:R(this),datum:o})}).on("mouseout",function(r,o){var s,i,a;let c=R(this);if(c.classed("hovered",!1),!t.configs.filled){let{filled:l}=t.getOptions().points,d=(s=t.services.cartesianScales)==null?void 0:s.getDomainIdentifier(o),u=t.model.getIsFilled(o[n],o[d],o,l);c.classed("unfilled",!u).style("fill",h=>u||l?t.model.getFillColor(h[n],h[d],h):null)}(i=t.services.events)==null||i.dispatchEvent(_.Scatter.SCATTER_MOUSEOUT,{event:r,element:c,datum:o}),(a=t.services.events)==null||a.dispatchEvent(_.Tooltip.HIDE,{hoveredElement:c})})}destroy(){var t;(t=this.parent)==null||t.selectAll("circle").on("mousemove",null).on("mouseout",null);let{events:n}=this.services;if(!n)throw new Error("Services events undefined");n.removeEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),n.removeEventListener(_.Chart.MOUSEOVER,this.handleChartHolderOnHover),n.removeEventListener(_.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)}},yc=class extends je{constructor(t,n,r){super(t,n,r),this.type="axes",this.renderType=be.SVG,this.truncation={[k.LEFT]:!1,[k.RIGHT]:!1,[k.TOP]:!1,[k.BOTTOM]:!1},r&&(this.configs=r),this.margins=this.configs.margins}render(t=!0){let{position:n}=this.configs,r=this.getOptions(),o=b(r,"axes",n,"visible"),s=this.getComponentContainer(),{width:i,height:a}=P.getSVGElementSize(s,{useAttrs:!0}),c=P.appendOrSelect(s,`g.axis.${n}`),l,d;if(n===k.BOTTOM||n===k.TOP?(l=this.configs.axes[k.LEFT]?this.margins.left:0,d=this.configs.axes[k.RIGHT]?i-this.margins.right:i):(l=a-this.margins.bottom,d=this.margins.top),!this.services.cartesianScales)throw new Error("Services cartesianScales undefined");let u=this.services.cartesianScales.getScaleByPosition(n);this.scaleType===$.LABELS||this.scaleType===$.LABELS_RATIO?u.rangeRound([l,d]):u.range([l,d]);let h;switch(n){case k.LEFT:h=_S;break;case k.BOTTOM:h=CS;break;case k.RIGHT:h=o$;break;case k.TOP:h=r$;break}c.attr("aria-label",`${n} axis`);let f=!c.select("g.ticks").empty(),p=P.appendOrSelect(c,"g.ticks");f||(p.attr("role",`${We.GRAPHICS_OBJECT} ${We.GROUP}`),p.attr("aria-label",`${n} ticks`));let v=P.appendOrSelect(c,"g.ticks.invisible").style("opacity","0").style("pointer-events","none").attr("aria-hidden",!0).attr("aria-label",`invisible ${n} ticks`),g=b(r,"axes",n),m=this.scaleType===$.TIME||g.scaleType===$.TIME,w=n===k.LEFT||n===k.RIGHT,y=this.model.get("zoomDomain");if(y&&m&&!w&&u.domain(y),!o){p.attr("aria-hidden",!0);return}let S=b(g,"scaleType"),E=b(r,"data","loading"),D=b(g,"ticks","number"),C=b(g,"ticks","values"),T=b(g,"truncation","type"),A=b(g,"truncation","threshold"),M=b(g,"truncation","numCharacter"),I=D!==null,W=b(r,"timeScale"),N=P.appendOrSelect(v,"g.tick"),U=P.appendOrSelect(N,"text").text("0"),Ie=P.getSVGElementSize(U.node(),{useBBox:!0}).height;N.remove();let me=this.scaleType||g.scaleType||$.LINEAR,q=h(u).tickSizeOuter(0);if(u.ticks){let B;if(I?B=D:(B=Sn.ticks.number,w&&(B=this.getNumberOfFittingTicks(a,Ie,Sn.ticks.verticalSpaceRatio))),u.ticks().length===1&&u.ticks()[0]===0&&(B=0),q.ticks(B),m)if(!u.ticks(B).length)q.tickValues([]);else{let Z=b(r,"timeScale","addSpaceOnEdges"),ue=b(r,"axes",n,"domain"),L=u.copy();Z&&!ue&&L.nice(B);let H=L.ticks(B);Z&&H.length>2&&!ue&&(H.splice(H.length-1,1),H.splice(0,1)),q.tickValues(H)}}let _e,ne=b(g,"ticks","formatter"),{code:K,number:Se}=b(r,"locale");if(m){let B=Ga(q.tickValues(),b(r,"timeScale","timeInterval"));ne===null?_e=(Z,ue)=>Ha(Z,ue,q.tickValues(),B,W,r.locale):_e=(Z,ue)=>{let L=Ha(Z,ue,q.tickValues(),B,W,r.locale);return ne(Z,ue,L)}}else ne===null?me===$.LINEAR&&(_e=B=>Se(B,K)):_e=ne;q.tickFormat(_e);let[Y,xt]=this.services.cartesianScales.getScaleByPosition(n).domain(),ce;if(C){if(m)C.forEach((B,Z)=>{B.getTime===void 0&&(C[Z]=new Date(B))}),ce=C.filter(B=>{let Z=B.getTime();return Z>=new Date(Y).getTime()&&Z<=new Date(xt).getTime()});else if(S===$.LABELS){let B=this.services.cartesianScales.getScaleByPosition(n).domain();ce=C.filter(Z=>B.includes(Z))}else ce=C.filter(B=>B>=Y&&B<=xt);q.tickValues(ce)}switch(n){case k.LEFT:p.attr("transform",`translate(${this.margins.left}, 0)`);break;case k.BOTTOM:p.attr("transform",`translate(0, ${a-this.margins.bottom})`);break;case k.RIGHT:p.attr("transform",`translate(${i-this.margins.right}, 0)`);break;case k.TOP:p.attr("transform",`translate(0, ${this.margins.top})`);break}let Ve=this.model.isDataEmpty();if(g.title){let B=P.appendOrSelect(c,"text.axis-title").html(Ve||E?"":zn(g.title)),Z=b(g,"titleOrientation"),ue;switch(n){case k.LEFT:Z===Ns.RIGHT?B.attr("transform","rotate(90)").attr("y",0).attr("x",u.range()[0]/2).attr("dy","-0.5em").style("text-anchor","middle"):B.attr("transform","rotate(-90)").attr("y",0).attr("x",-(u.range()[0]/2)).attr("dy","0.75em").style("text-anchor","middle");break;case k.BOTTOM:B.attr("transform",`translate(${this.margins.left/2+u.range()[1]/2}, ${a+4})`).style("text-anchor","middle");break;case k.RIGHT:Z===Ns.LEFT?B.attr("transform","rotate(-90)").attr("y",i).attr("x",-(u.range()[0]/2)).style("text-anchor","middle"):B.attr("transform","rotate(90)").attr("y",-i).attr("x",u.range()[0]/2).attr("dy","0.75em").style("text-anchor","middle");break;case k.TOP:ue=P.getSVGElementSize(B,{useBBox:!0}).height,B.attr("transform",`translate(${this.margins.left/2+u.range()[1]/2}, ${ue/2})`).style("text-anchor","middle");break}}if(m){let B=Ga(q.tickValues(),b(r,"timeScale","timeInterval")),Z=W.showDayName,ue=p;t&&(p=p.transition().call(L=>this.services.transitions.setupTransition({transition:L,name:"axis-update",animate:t}))),p=p.call(q),ue.selectAll(".tick").data(q.tickValues(),u).order().select("text").style("font-weight",(L,H)=>hu(L,H,q.tickValues(),B,Z)?"bold":"normal")}else!t||!f?p=p.call(q):p=p.transition().call(B=>this.services.transitions.setupTransition({transition:B,name:"axis-update",animate:t})).call(q);if(v.call(q),n===k.BOTTOM||n===k.TOP){let B=!1,Z=b(g,"ticks","rotation");if(Z===io.ALWAYS)B=!0;else if(Z===io.NEVER)B=!1;else if(!Z||Z===io.AUTO)if(u.step)B=v.selectAll("g.tick text").nodes().some(ue=>P.getSVGElementSize(ue,{useBBox:!0}).width>=u.step());else{B=!1;let ue=v.append("text").text("A"),L=P.getSVGElementSize(ue.node(),{useBBox:!0}).width,H;v.selectAll("g.tick").each(function(){let X=R(this),O=parseFloat(b(Un(this),"tx"));O!==null&&H+X.text().length*L*.8>=O&&(B=!0),H=O}),ue.remove()}B?(I||(q.ticks(this.getNumberOfFittingTicks(i,Ie,Sn.ticks.horizontalSpaceRatio)),v.call(q),p.call(q)),c.selectAll("g.ticks g.tick text").attr("transform","rotate(-45)").attr("text-anchor",n===k.TOP?"start":"end")):c.selectAll("g.ticks g.tick text").attr("transform",null).attr("text-anchor",null)}if(E?c.attr("opacity",0):c.attr("opacity",1),p.selectAll("g.tick").attr("aria-label",B=>B),v.selectAll("g.tick").attr("aria-label",B=>B),T!==_t.NONE&&S===$.LABELS&&!C){let B=this.services.cartesianScales.getScaleDomain(n);if(B.length>0){let Z=s.select(`g.axis.${n} g.ticks g.tick`).html();c.selectAll("g.ticks g.tick").html(Z);let ue=this;c.selectAll("g.tick text").data(B).text(function(L){return L.length>A?(ue.truncation[n]=!0,Js(L,T,M)):L}),this.getInvisibleAxisRef().selectAll("g.tick text").data(B).text(function(L){return L.length>A?Js(L,T,M):L}),c.selectAll("g.ticks").html(this.getInvisibleAxisRef().html()),c.selectAll("g.tick text").data(B)}}this.addEventListeners()}addEventListeners(){let t=this.getComponentContainer(),{position:n}=this.configs,r=P.appendOrSelect(t,`g.axis.${n}`),o=this.getOptions(),s=b(o,"axes",n),i=b(s,"scaleType"),a=b(s,"truncation","threshold"),c=this;r.selectAll("g.tick text").on("mouseover",function(l,d){c.services.events.dispatchEvent(_.Axis.LABEL_MOUSEOVER,{event:l,element:R(this),datum:d}),i===$.LABELS&&d.length>a&&c.services.events.dispatchEvent(_.Tooltip.SHOW,{event:l,hoveredElement:R(this),content:d})}).on("mousemove",function(l,d){c.services.events.dispatchEvent(_.Axis.LABEL_MOUSEMOVE,{event:l,element:R(this),datum:d}),i===$.LABELS&&d.length>a&&c.services.events.dispatchEvent(_.Tooltip.MOVE,{event:l})}).on("click",function(l,d){c.services.events.dispatchEvent(_.Axis.LABEL_CLICK,{event:l,element:R(this),datum:d})}).on("mouseout",function(l,d){c.services.events.dispatchEvent(_.Axis.LABEL_MOUSEOUT,{event:l,element:R(this),datum:d}),i===$.LABELS&&c.services.events.dispatchEvent(_.Tooltip.HIDE)})}getInvisibleAxisRef(){let{position:t}=this.configs;return this.getComponentContainer().select(`g.axis.${t} g.ticks.invisible`)}getTitleRef(){let{position:t}=this.configs;return this.getComponentContainer().select(`g.axis.${t} text.axis-title`)}getNumberOfFittingTicks(t,n,r){let o=Math.floor(t/(n*r));return zV(o,2,Sn.ticks.number)}destroy(){let t=this.getComponentContainer(),{position:n}=this.configs;P.appendOrSelect(t,`g.axis.${n}`).selectAll("g.tick text").on("mouseover",null).on("mousemove",null).on("mouseout",null)}},Ju=class extends yc{constructor(t,n,r){super(t,n,r)}render(t=!0){super.render(t),super.destroy();let n=this.configs.position,r=this.getComponentContainer(),o=P.appendOrSelect(r,`g.axis.${n}`),s=this;o.selectAll("g.tick").each(function(i,a){let c=R(this);c.classed("tick-hover",!0).attr("tabindex",a===0?0:-1);let l=c.select("text"),{width:d,height:u}=P.getSVGElementSize(l,{useBBox:!0}),h=P.appendOrSelect(c,"rect.axis-holder"),f=0,p=0;switch(n){case k.LEFT:f=-d+Number(l.attr("x")),p=-(u/2);break;case k.RIGHT:f=Math.abs(Number(l.attr("x"))),p=-(u/2);break;case k.TOP:f=-(d/2),p=-u+Number(l.attr("y"))/2,s.truncation[n]&&(f=0,h.attr("transform","rotate(-45)"));break;case k.BOTTOM:f=-(d/2),p=u/2-2,s.truncation[n]&&(f=-d,h.attr("transform","rotate(-45)"));break}h.attr("x",f-Sn.hover.rectanglePadding).attr("y",p).attr("width",d+Sn.hover.rectanglePadding*2).attr("height",u).lower()}),this.addEventListeners()}addEventListeners(){let t=this.getComponentContainer(),{position:n}=this.configs,r=P.appendOrSelect(t,`g.axis.${n}`),o=this.getOptions(),s=b(o,"axes",n),i=b(s,"scaleType"),a=b(s,"truncation","threshold"),c=this;r.selectAll("g.tick.tick-hover").on("mouseover",function(l){let d=R(this).select("text"),u=d.datum();c.services.events.dispatchEvent(_.Axis.LABEL_MOUSEOVER,{event:l,element:d,datum:u}),i===$.LABELS&&u.length>a&&c.services.events.dispatchEvent(_.Tooltip.SHOW,{event:l,element:d,datum:u})}).on("mousemove",function(l){let d=R(this).select("text"),u=d.datum();c.services.events.dispatchEvent(_.Axis.LABEL_MOUSEMOVE,{event:l,element:d,datum:u}),c.services.events.dispatchEvent(_.Tooltip.MOVE,{event:l})}).on("click",function(l){c.services.events.dispatchEvent(_.Axis.LABEL_CLICK,{event:l,element:R(this).select("text"),datum:R(this).select("text").datum()})}).on("mouseout",function(l){c.services.events.dispatchEvent(_.Axis.LABEL_MOUSEOUT,{event:l,element:R(this).select("text"),datum:R(this).select("text").datum()}),i===$.LABELS&&c.services.events.dispatchEvent(_.Tooltip.HIDE)}).on("focus",function(l){let d={clientX:0,clientY:0};if(l.target){l.target.focus();let u=l.target.getBoundingClientRect();d.clientX=u.x,d.clientY=u.y}c.services.events.dispatchEvent(_.Axis.LABEL_FOCUS,{event:z(z({},l),d),element:R(this),datum:R(this).select("text").datum()})}).on("blur",function(l){c.services.events.dispatchEvent(_.Axis.LABEL_BLUR,{event:l,element:R(this),datum:R(this).select("text").datum()})}).on("keydown",function(l){l.key&&l.key==="Escape"&&(c.services.events.dispatchEvent(_.Tooltip.HIDE),c.services.events.dispatchEvent(_.Axis.LABEL_BLUR,{event:l,element:R(this),datum:R(this).select("text").datum()})),n===k.LEFT||n===k.RIGHT?l.key&&l.key==="ArrowUp"?c.goNext(this,l):l.key&&l.key==="ArrowDown"&&c.goPrevious(this,l):l.key&&l.key==="ArrowLeft"?c.goPrevious(this,l):l.key&&l.key==="ArrowRight"&&c.goNext(this,l)})}goNext(t,n){t.nextElementSibling&&t.nextElementSibling.tagName!=="path"&&t.nextElementSibling.dispatchEvent(new Event("focus")),n.preventDefault()}goPrevious(t,n){t.previousElementSibling&&t.previousElementSibling.tagName!=="path"&&t.previousElementSibling.dispatchEvent(new Event("focus")),n.preventDefault()}destroy(){let t=this.getComponentContainer(),{position:n}=this.configs;P.appendOrSelect(t,`g.axis.${n}`).selectAll("g.tick.tick-hover").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("focus",null).on("blur",null)}},eh=class extends je{constructor(){super(...arguments),this.type="2D-axes",this.renderType=be.SVG,this.children={},this.thresholds=[],this.margins={top:0,right:0,bottom:0,left:0}}render(t=!1){let n={},r=Object.keys(k),o=b(this.getOptions(),"axes");r.forEach(i=>{o[k[i]]&&(n[k[i]]=!0)}),this.configs.axes=n,r.forEach(i=>{let a=k[i];if(this.configs.axes[a]&&!this.children[a]){let c={position:a,axes:this.configs.axes,margins:this.margins},l=this.model.axisFlavor===ao.DEFAULT?new yc(this.model,this.services,c):new Ju(this.model,this.services,c);l.setModel(this.model),l.setServices(this.services),l.setParent(this.parent),this.children[a]=l}}),Object.keys(this.children).forEach(i=>{this.children[i].render(t)});let s={};Object.keys(this.children).forEach(i=>{let a=this.children[i],c=a.configs.position,l=a.getInvisibleAxisRef(),{width:d,height:u}=P.getSVGElementSize(l,{useBBox:!0}),h;switch(a.getTitleRef().empty()?h=0:(h=P.getSVGElementSize(a.getTitleRef(),{useBBox:!0}).height,(c===k.LEFT||c===k.RIGHT)&&(h+=5)),c){case k.TOP:s.top=u+h;break;case k.BOTTOM:s.bottom=u+h;break;case k.LEFT:s.left=d+h;break;case k.RIGHT:s.right=d+h;break}}),this.services.events.dispatchEvent(_.Axis.RENDER_COMPLETE),Object.keys(s).some(i=>this.margins[i]!==s[i])&&(this.margins=Object.assign(this.margins,s),this.model.set({axesMargins:this.margins},{skipUpdate:!0}),this.services.events.dispatchEvent(_.ZoomBar.UPDATE),Object.keys(this.children).forEach(i=>{let a=this.children[i];a.margins=this.margins}),this.render(!0))}},th=class extends je{constructor(){super(...arguments),this.type="skeleton"}render(t=!0){let n=b(this.getOptions(),"data","loading");n?this.renderSkeleton(n):this.removeSkeleton()}renderSkeleton(t){if(this.configs.skeleton===Cr.GRID)this.renderGridSkeleton(t);else if(this.configs.skeleton===Cr.VERT_OR_HORIZ)this.renderVertOrHorizSkeleton(t);else if(this.configs.skeleton===Cr.PIE)this.renderPieSkeleton(t);else if(this.configs.skeleton===Cr.DONUT)this.renderDonutSkeleton(t);else throw new Error(`"${this.configs.skeleton}" is not a valid Skeleton type.`)}renderGridSkeleton(t){this.setScales(),this.drawBackdrop(t),this.drawXGrid(t),this.drawYGrid(t),t&&this.setShimmerEffect("shimmer-lines")}renderVertOrHorizSkeleton(t){let n=this.services.cartesianScales.getOrientation();this.setScales(),this.drawBackdrop(t),n===Qe.VERTICAL&&this.drawYGrid(t),n===Qe.HORIZONTAL&&this.drawXGrid(t),this.setShimmerEffect("shimmer-lines")}renderPieSkeleton(t){let n=this.computeOuterRadius();this.drawRing(n,0,t),t&&this.setShimmerEffect("shimmer-areas")}renderDonutSkeleton(t){let n=this.computeOuterRadius(),r=this.computeInnerRadius();this.drawRing(n,r,t),t&&this.setShimmerEffect("shimmer-areas")}setScales(){let t=this.services.cartesianScales.getMainXScale().range(),n=this.services.cartesianScales.getMainYScale().range();this.xScale=Do().domain([0,1]).range(t),this.yScale=Do().domain([0,1]).range(n)}drawBackdrop(t){let n=this.parent,{width:r,height:o}=P.getSVGElementSize(n,{useAttrs:!0});this.backdrop=P.appendOrSelect(n,"svg.chart-skeleton.DAII").attr("width",r).attr("height",o);let s=P.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop");s.attr("width","100%").attr("height","100%");let[i]=this.xScale.range(),[,a]=this.yScale.range();this.backdrop.merge(s).attr("x",i).attr("y",a),s.classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?`url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})`:null)}drawXGrid(t){let n=+this.backdrop.attr("width"),r=b(this.getOptions(),"grid","x","numberOfTicks"),o=this.xScale.ticks(r).map(a=>a*n),s=P.appendOrSelect(this.backdrop,"g.x.skeleton"),i=s.selectAll("line").data(o);i.enter().append("line").merge(i).attr("x1",a=>a).attr("x2",a=>a).attr("y1",0).attr("y2","100%"),s.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?`url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})`:null)}drawYGrid(t){let n=+this.backdrop.attr("height"),r=this.backdrop.attr("width"),o=b(this.getOptions(),"grid","y","numberOfTicks"),s=this.xScale.ticks(o).map(c=>c*n),i=P.appendOrSelect(this.backdrop,"g.y.skeleton"),a=i.selectAll("line").data(s);a.enter().append("line").merge(a).attr("x1",0).attr("x2",r).attr("y1",c=>c).attr("y2",c=>c),i.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?`url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})`:null)}drawRing(t,n,r=!0){let o=this.parent,{width:s,height:i}=P.getSVGElementSize(o,{useAttrs:!0}),a=P.appendOrSelect(o,"svg.chart-skeleton").attr("width",s).attr("height",i),c=n===0?"pie":"donut",l=b(this.getOptions(),c,"alignment");P.appendOrSelect(a,"rect.chart-skeleton-area-container").attr("width",s).attr("height",i).attr("fill","none");let d=wU().innerRadius(n).outerRadius(t).startAngle(0).endAngle(Math.PI*2),u=t+Math.abs(So.radiusOffset),h=t+(Math.min(s,i)-t*2)/2,f=P.appendOrSelect(a,"path").attr("class","skeleton-area-shape").attr("transform",`translate(${u}, ${h})`).attr("d",d).classed("shimmer-effect-areas",r).classed("empty-state-areas",!r).style("fill",r?`url(#${this.services.domUtils.generateElementIDString("shimmer-areas")})`:null),p=t+So.xOffset;l===Tt.CENTER?p=s/2:l===Tt.RIGHT&&(p=s-t-So.xOffset);let v=t+So.yOffset;f.attr("transform",`translate(${p}, ${v})`)}computeOuterRadius(){let{width:t,height:n}=P.getSVGElementSize(this.parent,{useAttrs:!0});return Math.min(t,n)/2+So.radiusOffset}computeInnerRadius(){return this.computeOuterRadius()*(3/4)}setShimmerEffect(t){let n="stop-bg-shimmer",r="stop-shimmer",o=this.parent.select(".chart-skeleton"),{width:s}=P.getSVGElementSize(this.parent,{useAttrs:!0}),i=0,a=s,c=P.appendOrSelect(o,"defs").lower(),l=P.appendOrSelect(c,"linearGradient").attr("id",this.services.domUtils.generateElementIDString(t)).attr("class",t).attr("x1",i-3*.2*s).attr("x2",a).attr("y1",0).attr("y2",0).attr("gradientUnits","userSpaceOnUse").attr("gradientTransform","translate(0, 0)"),d=`
			<stop class="${n}" offset="${i}"></stop>
			<stop class="${r}" offset="${i+.2}"></stop>
			<stop class="${n}" offset="${i+2*.2}"></stop>
		`;l.html(d),u();function u(){l.attr("gradientTransform",`translate(${i-3*.2*s}, 0)`).transition().duration(2e3).delay(1e3).ease(a$).attr("gradientTransform",`translate(${a+3*.2*s}, 0)`).on("end",u)}}removeSkeleton(){this.parent.select(".chart-skeleton").remove()}};var bc=class extends je{constructor(){super(...arguments),this.type="zero-line",this.renderType=be.SVG}render(t){let n=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),r=this.services.cartesianScales.getScaleByPosition(n),[o,s]=r.domain(),i=o>0&&s<0||o<0&&s>0,a=this.getComponentContainer();if(!i){a.selectAll("line.domain").remove();return}let[c,l]=this.services.cartesianScales.getDomainScale().range(),d=+r(0)+.5;d||(d=r.range()[0]);let u=Nm({x0:c,x1:l,y0:d,y1:d},this.services.cartesianScales.getOrientation());P.appendOrSelect(a,"line.domain").transition().call(h=>this.services.transitions.setupTransition({transition:h,name:"zero-line-update",animate:t})).attr("y1",u.y0).attr("y2",u.y1).attr("x1",u.x0).attr("x2",u.x1)}};var wc=class extends vc{formatTooltipData(t){return t.reverse()}};var hi=class extends je{getBarWidth(){let t=this.getOptions();if(t.bars.width)return t.bars.width;let n=this.model.getDisplayData().length,r=this.services.cartesianScales.getMainXScale(),o=P.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(!r.step){let s=b(t,"bars","spacingFactor");return Math.min(t.bars.maxWidth,o*s/n)}return Math.min(t.bars.maxWidth,r.step()/2)}isOutsideZoomedDomain(t,n){if(this.model.getDisplayData().length<=1)return!1;let r=this.model.get("zoomDomain");if(r!==void 0){let o=this.services.cartesianScales.getDomainScale();return t<o(r[0])||n>o(r[1])}return!1}};var nh=class extends hi{constructor(){super(...arguments),this.type="grouped-bar",this.renderType=be.SVG,this.padding=5,this.defaultStepFactor=70,this.handleLegendOnHover=t=>{let{hoveredElement:n}=t.detail,{groupMapsTo:r}=this.getOptions().data;this.parent.selectAll("path.bar").transition("legend-hover-bar").call(o=>this.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})).attr("opacity",o=>o[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(t=>this.services.transitions.setupTransition({transition:t,name:"legend-mouseout-bar"})).attr("opacity",1)}}init(){let t=this.services.events;t.addEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(t){let n=this.model.getDisplayData(this.configs.groups),r=this.getOptions(),{groupMapsTo:o}=r.data;this.setGroupScale();let s=this.getComponentContainer({withinChartClip:!0}),i=Or(n.map(d=>{let u=this.services.cartesianScales.getDomainIdentifier(d);return d[u]&&typeof d[u].toString=="function"?d[u].toString():d[u]})),a=s.selectAll("g.bars").data(i,d=>d);a.exit().attr("opacity",0).remove();let c=a.enter().append("g").classed("bars",!0).attr("role",We.GROUP).attr("data-name","bars").merge(a);c.transition().call(d=>this.services.transitions.setupTransition({transition:d,name:"bar-group-update-enter",animate:t})).attr("transform",d=>{let u=this.services.cartesianScales.getDomainValue(d)-this.getGroupWidth()/2;return this.services.cartesianScales.getOrientation()===Qe.VERTICAL?`translate(${u}, 0)`:`translate(0, ${u})`});let l=c.selectAll("path.bar").data(d=>this.getDataCorrespondingToLabel(d),d=>d[o]);l.exit().attr("opacity",0).remove(),l.enter().append("path").attr("opacity",0).merge(l).classed("bar",!0).transition().call(d=>this.services.transitions.setupTransition({transition:d,name:"bar-update-enter",animate:t})).attr("class",d=>this.model.getColorClassName({classNameTypes:[Ke.FILL],dataGroupName:d[o],originalClassName:"bar"})).style("fill",d=>{let u=this.services.cartesianScales.getDomainIdentifier(d);return this.model.getFillColor(d[o],d[u],d)}).attr("d",d=>{let u=this.groupScale(d[o]),h=this.getBarWidth(),f=u,p=u+h,v=this.services.cartesianScales.getRangeAxisPosition({datum:d}),g=this.services.cartesianScales.getDomainLowerBound(v),m=this.services.cartesianScales.getValueThroughAxisPosition(v,g),w=this.services.cartesianScales.getRangeValue(d),y=this.services.cartesianScales.getDomainValue(d)-h/2,S=y+h;if(!this.isOutsideZoomedDomain(y,S))return uu({x0:f,x1:p,y0:m,y1:w},this.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",We.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",d=>d.value),this.addEventListeners()}addEventListeners(){let t=this;this.parent.selectAll("path.bar").on("mouseover",function(n,r){let o=R(this);o.classed("hovered",!0),t.services.events.dispatchEvent(_.Bar.BAR_MOUSEOVER,{event:n,element:o,datum:r}),t.services.events.dispatchEvent(_.Tooltip.SHOW,{event:n,hoveredElement:o,data:[r]})}).on("mousemove",function(n,r){let o=R(this);t.services.events.dispatchEvent(_.Bar.BAR_MOUSEMOVE,{event:n,element:o,datum:r}),t.services.events.dispatchEvent(_.Tooltip.MOVE,{event:n})}).on("click",function(n,r){t.services.events.dispatchEvent(_.Bar.BAR_CLICK,{event:n,element:R(this),datum:r})}).on("mouseout",function(n,r){let o=R(this);o.classed("hovered",!1),t.services.events.dispatchEvent(_.Bar.BAR_MOUSEOUT,{event:n,element:o,datum:r}),t.services.events.dispatchEvent(_.Tooltip.HIDE,{hoveredElement:o})})}destroy(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);let t=this.services.events;t.removeEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}getDataCorrespondingToLabel(t){return this.model.getDisplayData(this.configs.groups).filter(n=>{let r=this.services.cartesianScales.getDomainIdentifier(n);return n[r].toString()===t})}getGroupWidth(){let t=this.model.getGroupedData(this.configs.groups),n=this.getTotalGroupPadding();return this.getBarWidth()*t.length+n}getDomainScaleStep(){let t=this.services.cartesianScales.getDomainScale(),n=this.model.getGroupedData(this.configs.groups),r=this.defaultStepFactor;if(typeof t.step=="function")r=t.step();else if(n.length>0){let o=n.find(s=>{var i;return((i=s.data)==null?void 0:i.length)>1});if(o){let s=this.services.cartesianScales.getDomainIdentifier(o.data[0]);r=Math.abs(t(o.data[1][s])-t(o.data[0][s]))}}return r}getTotalGroupPadding(){let t=this.model.getGroupedData(this.configs.groups);return t.length===1?0:Math.min(5,5*(this.getDomainScaleStep()/this.defaultStepFactor))*(t.length-1)}getBarWidth(){let t=this.getOptions(),n=b(t,"bars","width"),r=b(t,"bars","maxWidth");if(n!==null&&(r===null||n<=r))return n;let o=this.model.getGroupedData(this.configs.groups).length,s=this.getTotalGroupPadding();return Math.min(r,(this.getDomainScaleStep()-s)/o)}setGroupScale(){let t=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=Qa().domain(t).rangeRound([0,this.getGroupWidth()])}};var rh=class extends hi{constructor(){super(...arguments),this.type="simple-bar",this.renderType=be.SVG,this.handleLegendOnHover=t=>{let{hoveredElement:n}=t.detail,{groupMapsTo:r}=this.getOptions().data;this.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(o=>this.services.transitions.setupTransition({transition:o,name:"legend-hover-simple-bar"})).attr("opacity",o=>o[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(t=>this.services.transitions.setupTransition({transition:t,name:"legend-mouseout-simple-bar"})).attr("opacity",1)}}init(){let t=this.services.events;t.addEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(t){let n=this.getOptions(),{groupMapsTo:r}=n.data,o=this.getComponentContainer({withinChartClip:!0}),s=this.model.getDisplayData(this.configs.groups),i=this.services.cartesianScales.getOrientation(),a=o.selectAll("path.bar").data(s,c=>c[r]);a.exit().attr("opacity",0).remove(),a.enter().append("path").attr("opacity",0).merge(a).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(c=>this.services.transitions.setupTransition({transition:c,name:"bar-update-enter",animate:t})).attr("class",c=>this.model.getColorClassName({classNameTypes:[Ke.FILL],dataGroupName:c[r],originalClassName:"bar"})).style("fill",c=>{let l=this.services.cartesianScales.getDomainIdentifier(c);return this.model.getFillColor(c[r],c[l],c)}).attr("d",c=>{let l=this.services.cartesianScales.getRangeIdentifier(),d=this.getBarWidth(),u=c[l],h=this.services.cartesianScales.getDomainValue(c)-d/2,f=h+d,p,v;if(Array.isArray(u)&&u.length===2)p=this.services.cartesianScales.getRangeValue(u[0]),v=this.services.cartesianScales.getRangeValue(u[1]);else{let m=this.services.cartesianScales.getRangeScale().domain()[0];p=this.services.cartesianScales.getRangeValue(Math.max(0,m)),v=this.services.cartesianScales.getRangeValue(c)}let g=Math.abs(v-p);if(g!==0&&g<2&&(u>0&&i===Qe.VERTICAL||u<0&&i===Qe.HORIZONTAL?v=p-2:v=p+2),!this.isOutsideZoomedDomain(h,f))return uu({x0:h,x1:f,y0:p,y1:v},i)}).attr("opacity",1).attr("role",We.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",c=>c.value),this.addEventListeners()}addEventListeners(){let t=this;this.parent.selectAll("path.bar").on("mouseover",function(n,r){let o=R(this);o.classed("hovered",!0),t.services.events.dispatchEvent(_.Bar.BAR_MOUSEOVER,{event:n,element:o,datum:r}),t.services.events.dispatchEvent(_.Tooltip.SHOW,{event:n,hoveredElement:o,data:[r]})}).on("mousemove",function(n,r){t.services.events.dispatchEvent(_.Bar.BAR_MOUSEMOVE,{event:n,element:R(this),datum:r}),t.services.events.dispatchEvent(_.Tooltip.MOVE,{event:n})}).on("click",function(n,r){t.services.events.dispatchEvent(_.Bar.BAR_CLICK,{event:n,element:R(this),datum:r})}).on("mouseout",function(n,r){let o=R(this);o.classed("hovered",!1),t.services.events.dispatchEvent(_.Bar.BAR_MOUSEOUT,{event:n,element:o,datum:r}),t.services.events.dispatchEvent(_.Tooltip.HIDE,{hoveredElement:o})})}destroy(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);let t=this.services.events;t.removeEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}},oh=class extends th{constructor(){super(...arguments),this.type="skeleton-lines"}render(t=!0){let n=b(this.getOptions(),"data","loading"),r=!b(this.getOptions(),"grid","x","enabled")&&!b(this.getOptions(),"grid","y","enabled")&&!b(this.getOptions(),"axes","bottom","visible")&&!b(this.getOptions(),"axes","left","visible");n&&!r?super.renderGridSkeleton(n):n&&r?this.renderSparklineSkeleton(n):this.removeSkeleton()}renderSparklineSkeleton(t){this.setScales(),this.drawBackdrop(t),this.drawSparkline(t),this.updateBackdropStyle(),t&&this.setShimmerEffect("shimmer-lines")}drawSparkline(t){let n=this.backdrop.attr("width"),r=[100],o=P.appendOrSelect(this.backdrop,"g.y.skeleton"),s=o.selectAll("line").data(r);s.enter().append("line").merge(s).attr("x1",0).attr("x2",n).attr("y1",i=>i).attr("y2",i=>i),o.selectAll("line").classed("shimmer-effect-lines",t).classed("empty-state-lines",!t).style("stroke",t?`url(#${this.services.domUtils.generateElementIDString("shimmer-lines")})`:null)}updateBackdropStyle(){let t=this.parent;this.backdrop=P.appendOrSelect(t,"svg.chart-skeleton.DAII"),P.appendOrSelect(this.backdrop,"rect.chart-skeleton-backdrop").classed("shimmer-effect-lines",!1).classed("shimmer-effect-sparkline",!0).style("stroke",null)}},sh=class extends je{constructor(){super(...arguments),this.type="area-stacked",this.renderType=be.SVG,this.handleLegendOnHover=t=>{let{hoveredElement:n}=t.detail,r=this.getOptions(),{groupMapsTo:o}=r.data;this.parent.selectAll("path.area").transition("legend-hover-area").call(s=>this.services.transitions.setupTransition({transition:s,name:"legend-hover-area"})).attr("opacity",s=>b(s,0,o)!==n.datum().name?Dn.opacity.unselected:Dn.opacity.selected)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.area").transition("legend-mouseout-area").call(t=>this.services.transitions.setupTransition({transition:t,name:"legend-mouseout-area"})).attr("opacity",Dn.opacity.selected)}}init(){let t=this.services.events;t.addEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(t=!0){let n=this.getComponentContainer({withinChartClip:!0}),r=this,o=this.getOptions(),{groupMapsTo:s}=o.data,i=Object.keys(o.axes).some(f=>o.axes[f].percentage),a=this.model.getStackedData({percentage:i,groups:this.configs.groups}),c=b(a,0,0),l=this.services.cartesianScales.getDomainAxisPosition({datum:c}),d=this.services.cartesianScales.getRangeAxisPosition({datum:c}),u=this.services.cartesianScales.getScaleByPosition(d),h=n.selectAll("path.area").data(a,f=>b(f,0,s));this.areaGenerator=Yv().x(f=>this.services.cartesianScales.getValueThroughAxisPosition(l,f.data.sharedStackKey)).y0(f=>u(f[0])).y1(f=>u(f[1])).curve(this.services.curves.getD3Curve()),h.exit().attr("opacity",0).remove(),h.enter().append("path").attr("opacity",0).merge(h).data(a,f=>b(f,0,s)).attr("class","area").attr("class",f=>this.model.getColorClassName({classNameTypes:[Ke.FILL],dataGroupName:b(f,0,s),originalClassName:"area"})).style("fill",f=>r.model.getFillColor(b(f,0,s),null,f)).attr("role",We.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",f=>b(f,0,s)).transition().call(f=>this.services.transitions.setupTransition({transition:f,name:"area-update-enter",animate:t})).attr("opacity",Dn.opacity.selected).attr("d",this.areaGenerator)}},ih=class extends hi{constructor(){super(...arguments),this.type="stacked-bar",this.renderType=be.SVG,this.handleLegendOnHover=t=>{let{hoveredElement:n}=t.detail,{groupMapsTo:r}=this.model.getOptions().data;this.parent.selectAll("path.bar").transition("legend-hover-bar").call(o=>this.services.transitions.setupTransition({transition:o,name:"legend-hover-bar"})).attr("opacity",o=>o[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(t=>this.services.transitions.setupTransition({transition:t,name:"legend-mouseout-bar"})).attr("opacity",1)}}init(){let t=this.services.events;t.addEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.addEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(t){let n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions(),{groupMapsTo:o}=r.data,s=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),i=this.model.getActiveDataGroupNames(),a=n.selectAll("g.bars").data(s,l=>b(l,0,o));a.exit().attr("opacity",0).remove(),a.enter().append("g").classed("bars",!0).attr("role",We.GROUP).attr("data-name","bars");let c=n.selectAll("g.bars").selectAll("path.bar").data(l=>l,l=>l.data.sharedStackKey);c.exit().remove(),c.enter().append("path").merge(c).classed("bar",!0).transition().call(l=>this.services.transitions.setupTransition({transition:l,name:"bar-update-enter",animate:t})).attr("class",l=>this.model.getColorClassName({classNameTypes:[Ke.FILL],dataGroupName:l[o],originalClassName:"bar"})).style("fill",l=>this.model.getFillColor(l[o],l.data.sharedStackKey,l.data)).attr("d",l=>{let d=l.data.sharedStackKey,u=this.getBarWidth(),h=this.services.cartesianScales.getDomainValue(d)-u/2,f=h+u,p=this.services.cartesianScales.getRangeValue(l[0]),v=this.services.cartesianScales.getRangeValue(l[1]);if(!this.isOutsideZoomedDomain(h,f)){if(Math.abs(v-p)>0&&Math.abs(v-p)>r.bars.dividerSize){let g=l[0]<0&&l[1]<=0;g&&i.length>1?this.services.cartesianScales.getOrientation()===Qe.VERTICAL?v+=l[1]===0?2:1:v-=1:g||(this.services.cartesianScales.getOrientation()===Qe.VERTICAL?v+=1:v-=1)}return uu({x0:h,x1:f,y0:p,y1:v},this.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",We.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",l=>l[1]-l[0]),this.addEventListeners()}addEventListeners(){let t=this.getOptions(),{groupMapsTo:n}=t.data,r=this;this.parent.selectAll("path.bar").on("mouseover",function(o,s){let i=R(this);i.classed("hovered",!0),r.services.events.dispatchEvent(_.Bar.BAR_MOUSEOVER,{event:o,element:i,datum:s});let a=r.model.getDisplayData(r.configs.groups).find(c=>{let l=r.services.cartesianScales.getDomainIdentifier(c),d=r.services.cartesianScales.getRangeIdentifier(c);return c[d]===s.data[s[n]]&&c[l].toString()===s.data.sharedStackKey&&c[n]===s[n]});if(a===void 0){let c=r.services.cartesianScales.getDomainIdentifier(),l=r.services.cartesianScales.getRangeIdentifier();a={[c]:s.data.sharedStackKey,[l]:s.data[s[n]],[n]:s[n]}}r.services.events.dispatchEvent(_.Tooltip.SHOW,{event:o,hoveredElement:i,data:[a]})}).on("mousemove",function(o,s){let i=R(this);r.services.events.dispatchEvent(_.Bar.BAR_MOUSEMOVE,{event:o,element:i,datum:s}),r.services.events.dispatchEvent(_.Tooltip.MOVE,{event:o})}).on("click",function(o,s){r.services.events.dispatchEvent(_.Bar.BAR_CLICK,{event:o,element:R(this),datum:s})}).on("mouseout",function(o,s){let i=R(this);i.classed("hovered",!1),r.services.events.dispatchEvent(_.Bar.BAR_MOUSEOUT,{event:o,element:i,datum:s}),r.services.events.dispatchEvent(_.Tooltip.HIDE,{hoveredElement:i})})}getBarWidth(){let t=this.getOptions();if(b(t,"bars","width"))return t.bars.width;let n=this.services.cartesianScales.getMainXScale(),r=P.getSVGElementSize(this.parent,{useAttrs:!0}).width,o=this.model.getStackKeys().length,s=b(t,"bars","spacingFactor");return n.step?Math.min(t.bars.maxWidth,n.step()/2):Math.min(t.bars.maxWidth,r*s/o)}destroy(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);let t=this.services.events;t.removeEventListener(_.Legend.ITEM_HOVER,this.handleLegendOnHover),t.removeEventListener(_.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}},ah=class extends Nr{constructor(){super(...arguments),this.type="scatter-stacked",this.renderType=be.SVG}render(t){if(!b(this.getOptions(),"points","enabled"))return;let n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions(),{groupMapsTo:o}=r.data,s=Object.keys(r.axes).some(d=>r.axes[d].percentage),i=this.model.getStackedData({groups:this.configs.groups,percentage:s}),a=n.selectAll("g.dots").data(i,d=>b(d,0,o));a.exit().attr("opacity",0).remove();let c=a.enter().append("g").classed("dots",!0).attr("role",We.GROUP).merge(a).selectAll("circle.dot").data(d=>d);c.exit().attr("opacity",0).remove();let l=c.enter().append("circle").classed("dot",!0).attr("opacity",0).merge(c).datum(d=>{let u=d[o],h=this.services.cartesianScales.getDomainIdentifier(d),f=this.services.cartesianScales.getRangeIdentifier(d);return{[o]:u,[h]:d.data.sharedStackKey,[f]:d[1]}});this.styleCircles(l,t),this.addEventListeners()}getTooltipData(t,n){let r=this.getOptions(),{groupMapsTo:o}=r.data,s=Object.keys(r.axes).some(c=>r.axes[c].percentage),i=this.model.getStackedData({groups:this.configs.groups,percentage:s}),a=[];return i.forEach((c,l)=>{c.forEach((d,u)=>{let h=d[o],f=d.data.sharedStackKey,p=d.data[h],v=d[1],g=this.services.cartesianScales.getDomainIdentifier(d),m=this.services.cartesianScales.getRangeIdentifier(d);p!=null&&t===this.services.cartesianScales.getDomainValue(f)&&n===this.services.cartesianScales.getRangeValue(v)&&(s&&(p=this.model.getStackedData({groups:this.configs.groups})[l][u].data[h]),p!==null&&a.push({[o]:h,[g]:f,[m]:p}))})}),this.model.getDisplayData(this.configs.groups).filter(c=>{let l=this.services.cartesianScales.getDomainIdentifier(c),d=this.services.cartesianScales.getRangeIdentifier(c);return a.find(u=>u[o]==c[o]&&u[l]==c[l]&&u[d]==c[d])!==void 0})}};var iH={value:function(){}};function YS(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ju(n)}function ju(e){this._=e}function aH(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ju.prototype=YS.prototype={constructor:ju,on:function(e,t){var n=this._,r=aH(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=cH(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=uS(n[o],e.name,t);else if(t==null)for(o in n)n[o]=uS(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ju(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function cH(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function uS(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=iH,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var lH=Object.freeze(Object.defineProperty({__proto__:null,dispatch:YS},Symbol.toStringTag,{value:"Module"})),dH=jz(lH),gJ=dH.dispatch,mJ=Math.PI/180;function t0(e){var t=e==null?0:e.length;return t?Aa(e,1):[]}function uH(e){return Kg(Jg(e,void 0,t0),e+"")}function n0(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s}function hH(e,t){return t.length<2?e:Qd(e,n0(t,0,-1))}function fH(e,t){return t=Oa(t,e),e=hH(e,t),e==null||delete e[Ks(fm(t))]}function pH(e){return im(e)?void 0:e}var gH=1,mH=2,vH=4,yH=uH(function(e,t){var n={};if(e==null)return n;var r=!1;t=qd(t,function(s){return s=Oa(s,e),r||(r=s.length>1),s}),bo(e,cm(e),n),r&&(n=$s(n,gH|mH|vH,pH));for(var o=t.length;o--;)fH(n,t[o]);return n});function XS(e){return Math.log(e)}function KS(e){return Math.exp(e)}function bH(e){return-Math.log(-e)}function wH(e){return-Math.exp(-e)}function xH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EH(e){return e===10?xH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QS(e){return(t,n)=>-e(-t,n)}function SH(e){let t=e(XS,KS),n=t.domain,r=10,o,s;function i(){return o=DH(r),s=EH(r),n()[0]<0?(o=QS(o),s=QS(s),e(bH,wH)):e(XS,KS),t}return t.base=function(a){return arguments.length?(r=+a,i()):r},t.domain=function(a){return arguments.length?(n(a),i()):n()},t.ticks=a=>{let c=n(),l=c[0],d=c[c.length-1],u=d<l;u&&([l,d]=[d,l]);let h=o(l),f=o(d),p,v,g=a==null?10:+a,m=[];if(!(r%1)&&f-h<g){if(h=Math.floor(h),f=Math.ceil(f),l>0){for(;h<=f;++h)for(p=1;p<r;++p)if(v=h<0?p/s(-h):p*s(h),!(v<l)){if(v>d)break;m.push(v)}}else for(;h<=f;++h)for(p=r-1;p>=1;--p)if(v=h>0?p/s(-h):p*s(h),!(v<l)){if(v>d)break;m.push(v)}m.length*2<g&&(m=Qs(l,d,g))}else m=Qs(h,f,Math.min(f-h,g)).map(s);return u?m.reverse():m},t.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ys(c)).precision==null&&(c.trim=!0),c=au(c)),a===1/0)return c;let l=Math.max(1,r*a/t.ticks().length);return d=>{let u=d/s(Math.round(o(d)));return u*r<r-.5&&(u*=r),u<=l?c(d):""}},t.nice=()=>n(Zm(n(),{floor:a=>s(Math.floor(o(a))),ceil:a=>s(Math.ceil(o(a)))})),t}function cC(){let e=SH(_m()).domain([1,10]);return e.copy=()=>Ba(e,cC()).base(e.base()),Eo.apply(e,arguments),e}function dh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wh(e){this._context=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CH(e){return new wh(e)}function lC(e){this._context=e}lC.prototype={areaStart:hr,areaEnd:hr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _H(e){return new lC(e)}function dC(e){this._context=e}dC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TH(e){return new dC(e)}function uC(e,t){this._basis=new wh(e),this._beta=t}uC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],o=t[0],s=e[n]-r,i=t[n]-o,a=-1,c;++a<=n;)c=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+c*s),this._beta*t[a]+(1-this._beta)*(o+c*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var MH=function e(t){function n(r){return t===1?new wh(r):new uC(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function uh(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function r0(e,t){this._context=e,this._k=(1-t)/6}r0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:uh(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:uh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var kH=function e(t){function n(r){return new r0(r,t)}return n.tension=function(r){return e(+r)},n}(0);function o0(e,t){this._context=e,this._k=(1-t)/6}o0.prototype={areaStart:hr,areaEnd:hr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:uh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var IH=function e(t){function n(r){return new o0(r,t)}return n.tension=function(r){return e(+r)},n}(0);function s0(e,t){this._context=e,this._k=(1-t)/6}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var OH=function e(t){function n(r){return new s0(r,t)}return n.tension=function(r){return e(+r)},n}(0);function i0(e,t,n){var r=e._x1,o=e._y1,s=e._x2,i=e._y2;if(e._l01_a>ct){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,o=(o*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>ct){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*l+e._x1*e._l23_2a-t*e._l12_2a)/d,i=(i*l+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(r,o,s,i,e._x2,e._y2)}function hC(e,t){this._context=e,this._alpha=t}hC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:i0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var AH=function e(t){function n(r){return t?new hC(r,t):new r0(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function fC(e,t){this._context=e,this._alpha=t}fC.prototype={areaStart:hr,areaEnd:hr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:i0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var RH=function e(t){function n(r){return t?new fC(r,t):new o0(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function pC(e,t){this._context=e,this._alpha=t}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:i0(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var NH=function e(t){function n(r){return t?new pC(r,t):new s0(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function JS(e){return e<0?-1:1}function eC(e,t,n){var r=e._x1-e._x0,o=t-e._x1,s=(e._y1-e._y0)/(r||o<0&&-0),i=(n-e._y1)/(o||r<0&&-0),a=(s*o+i*r)/(r+o);return(JS(s)+JS(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(a))||0}function tC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Qv(e,t,n){var r=e._x0,o=e._y0,s=e._x1,i=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,o+a*t,s-a,i-a*n,s,i)}function hh(e){this._context=e}hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qv(this,this._t0,tC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qv(this,tC(this,n=eC(this,e,t)),n);break;default:Qv(this,this._t0,n=eC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function gC(e){this._context=new mC(e)}(gC.prototype=Object.create(hh.prototype)).point=function(e,t){hh.prototype.point.call(this,t,e)};function mC(e){this._context=e}mC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,s){this._context.bezierCurveTo(t,e,r,n,s,o)}};function LH(e){return new hh(e)}function PH(e){return new gC(e)}function vC(e){this._context=e}vC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=nC(e),o=nC(t),s=0,i=1;i<n;++s,++i)this._context.bezierCurveTo(r[0][s],o[0][s],r[1][s],o[1][s],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nC(e){var t,n=e.length-1,r,o=new Array(n),s=new Array(n),i=new Array(n);for(o[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,s[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=o[t]/s[t-1],s[t]-=r,i[t]-=r*i[t-1];for(o[n-1]=i[n-1]/s[n-1],t=n-2;t>=0;--t)o[t]=(i[t]-o[t+1])/s[t];for(s[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-o[t+1];return[o,s]}function FH(e){return new vC(e)}function xh(e,t){this._context=e,this._t=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function jH(e){return new xh(e,.5)}function BH(e){return new xh(e,0)}function VH(e){return new xh(e,1)}var fh=class extends Wt{zoomIn(t,n,r){let o,s,i,a=r||Va;t&&(o=t.x,s=t.y,i=2);let{width:c,height:l}=P.getSVGElementSize(this.services.domUtils.getHolder(),{useClientDimensions:!0});n.transition().duration(a.duration).ease(a.ease).attr("transform",`translate(${c/2}, ${l/2}) scale(${i}) translate(${-o},${-s})`),this.services.events.dispatchEvent(_.CanvasZoom.CANVAS_ZOOM_IN,{element:R(t)})}zoomOut(t,n){let r=n||Va;t.transition().duration(r.duration).ease(r.ease).attr("transform",""),this.services.events.dispatchEvent(_.CanvasZoom.CANVAS_ZOOM_OUT)}},ph=class extends Wt{init(){this.documentFragment=document.createDocumentFragment()}addEventListener(t,n){this.documentFragment.addEventListener(t,n)}removeEventListener(t,n){this.documentFragment.removeEventListener(t,n)}dispatchEvent(t,n){let r;n?r=new CustomEvent(t,{detail:n}):(r=document.createEvent("Event"),r.initEvent(t,!1,!0)),this.documentFragment.dispatchEvent(r)}},gh=class extends Wt{constructor(t,n){super(t,n)}downloadCSV(t,n){let r=document.createElement("a"),o="text/csv;encoding:utf-8";if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([t],{type:o}),n);else if(URL&&"download"in r){let s=URL.createObjectURL(new Blob([t],{type:o}));r.href=s,r.setAttribute("download",n),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}else location.href=`data:application/octet-stream,${encodeURIComponent(t)}`}downloadImage(t,n){let r=document.createElement("a");r.download=n,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},mh=class extends Wt{constructor(){super(...arguments),this.pendingTransitions={}}init(){var t;(t=this.services.events)==null||t.addEventListener(_.Model.UPDATE,()=>{this.pendingTransitions={}})}setupTransition({transition:t,name:n,animate:r}){return this.pendingTransitions[t._id]=t,t.on("end interrupt cancel",()=>{delete this.pendingTransitions[t._id]}),this.model.getOptions().animations===!1||r===!1?t.duration(0):t.duration(b(du,n,"duration")||du.default.duration)}getPendingTransitions(){return this.pendingTransitions}};function xc(e,t){let n=xe(e),r=xe(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function $H(e,t){let n=xe(e),r=xe(t);return n.getFullYear()-r.getFullYear()}function UH(e,t){let n=xe(e),r=xe(t),o=xc(n,r),s=Math.abs($H(n,r));n.setFullYear(1584),r.setFullYear(1584);let i=xc(n,r)===-o,a=o*(s-+i);return a===0?0:a}function a0(e,t){let n=xe(e);if(isNaN(t))return an(e,NaN);if(!t)return n;let r=n.getDate(),o=an(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);let s=o.getDate();return r>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function yC(e,t){return a0(e,t*12)}function zH(e,t){return yC(e,-t)}function HH(e,t){let n=xe(e),r=xe(t),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function GH(e){let t=xe(e);return t.setHours(23,59,59,999),t}function qH(e){let t=xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function WH(e){let t=xe(e);return+GH(t)==+qH(t)}function ZH(e,t){let n=xe(e),r=xe(t),o=xc(n,r),s=Math.abs(HH(n,r)),i;if(s<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*s);let a=xc(n,r)===-o;WH(xe(e))&&s===1&&xc(e,r)===1&&(a=!1),i=o*(s-Number(a))}return i===0?0:i}function YH(e,t){return a0(e,-t)}function XH(e,t){let n=xe(e),r=xe(t),o=rC(n,r),s=Math.abs(Fm(n,r));n.setDate(n.getDate()-o*s);let i=+(rC(n,r)===-o),a=o*(s-i);return a===0?0:a}function rC(e,t){let n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function bC(e,t){let n=xe(e);return isNaN(t)?an(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function KH(e,t){return bC(e,-t)}function c0(e){return t=>{let n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function l0(e,t){return+xe(e)-+xe(t)}function QH(e,t,n){let r=l0(e,t)/Pm;return c0(n?.roundingMethod)(r)}function d0(e,t){let n=+xe(e);return an(e,n+t)}function wC(e,t){return d0(e,t*Pm)}function JH(e,t){return wC(e,-t)}function oC(e,t,n){let r=l0(e,t)/Lm;return c0(n?.roundingMethod)(r)}function Jv(e,t){return d0(e,t*Lm)}function sC(e,t){return Jv(e,-t)}function iC(e,t,n){let r=l0(e,t)/1e3;return c0(n?.roundingMethod)(r)}function e0(e,t){return d0(e,t*1e3)}function aC(e,t){return e0(e,-t)}var vh=class extends Wt{constructor(){super(...arguments),this.scaleTypes={top:null,right:null,bottom:null,left:null},this.scales={top:null,right:null,bottom:null,left:null}}getDomainAxisPosition({datum:t=null}={}){if(this.dualAxes&&t){let n=this.model.getOptions(),{groupMapsTo:r}=n.data,o=b(n,"axes",this.secondaryDomainAxisPosition),s=t[r];if(o!=null&&o.correspondingDatasets&&o.correspondingDatasets.includes(s))return this.secondaryDomainAxisPosition}return this.domainAxisPosition}getRangeAxisPosition({datum:t=null,groups:n=null}={}){if(this.dualAxes){let r=this.model.getOptions(),{groupMapsTo:o}=r.data,s=b(r,"axes",this.secondaryRangeAxisPosition),i;if(t!==null?i=t[o]:n&&n.length>0&&(i=n[0]),s!=null&&s.correspondingDatasets&&s.correspondingDatasets.includes(i))return this.secondaryRangeAxisPosition}return this.rangeAxisPosition}getAxisOptions(t){return b(this.model.getOptions(),"axes",t)}getDomainAxisOptions(){let t=this.getDomainAxisPosition();return this.getAxisOptions(t)}getRangeAxisOptions(){let t=this.getRangeAxisPosition();return this.getAxisOptions(t)}getScaleLabel(t){return this.getAxisOptions(t).title||(t===k.BOTTOM||t===k.TOP?"x-value":"y-value")}getDomainLabel(){return this.getScaleLabel(this.getDomainAxisPosition())}getRangeLabel(){return this.getScaleLabel(this.getRangeAxisPosition())}update(){this.determineAxisDuality(),this.findDomainAndRangeAxes(),this.determineOrientation(),Object.keys(k).map(t=>k[t]).forEach(t=>{this.scales[t]=this.createScale(t)})}findDomainAndRangeAxes(){let t=this.findVerticalAxesPositions(),n=this.findHorizontalAxesPositions(),r=this.findDomainAndRangeAxesPositions(t,n);this.domainAxisPosition=r.primaryDomainAxisPosition,this.rangeAxisPosition=r.primaryRangeAxisPosition,this.isDualAxes()&&(this.secondaryDomainAxisPosition=r.secondaryDomainAxisPosition,this.secondaryRangeAxisPosition=r.secondaryRangeAxisPosition)}determineOrientation(){(this.rangeAxisPosition===k.LEFT||this.rangeAxisPosition===k.RIGHT)&&(this.domainAxisPosition===k.BOTTOM||this.domainAxisPosition===k.TOP)?this.orientation=Qe.VERTICAL:this.orientation=Qe.HORIZONTAL}isDualAxes(){return this.dualAxes}determineAxisDuality(){var t,n,r,o;let s=this.model.getOptions(),i=b(s,"axes");((t=i[k.LEFT])!=null&&t.correspondingDatasets&&i[k.RIGHT]||(n=i[k.RIGHT])!=null&&n.correspondingDatasets&&i[k.LEFT]||(r=i[k.TOP])!=null&&r.correspondingDatasets&&i[k.BOTTOM]||(o=i[k.BOTTOM])!=null&&o.correspondingDatasets&&i[k.TOP])&&(this.dualAxes=!0)}getCustomDomainValuesByposition(t){let n=b(this.model.getOptions(),"axes",t,"domain");if(n&&!Array.isArray(n))throw new Error(`Domain in ${t} axis is not a valid array`);if(Array.isArray(n)&&(this.scaleTypes[t]===$.LINEAR||this.scaleTypes[t]===$.TIME)&&n.length!==2)throw new Error(`There can only be 2 elements in domain for scale type: ${this.scaleTypes[t]}`);return n}getOrientation(){return this.orientation}getScaleByPosition(t){return this.scales[t]}getScaleTypeByPosition(t){return this.scaleTypes[t]}getDomainAxisScaleType(){let t=this.getDomainAxisPosition();return this.getScaleTypeByPosition(t)}getRangeAxisScaleType(){let t=this.getRangeAxisPosition();return this.getScaleTypeByPosition(t)}getDomainScale(){return this.scales[this.domainAxisPosition]}getRangeScale(){return this.scales[this.rangeAxisPosition]}getMainXAxisPosition(){let t=[k.BOTTOM,k.TOP];return[this.domainAxisPosition,this.rangeAxisPosition].find(n=>t.indexOf(n)>-1)}getMainYAxisPosition(){let t=[k.LEFT,k.RIGHT];return[this.domainAxisPosition,this.rangeAxisPosition].find(n=>t.indexOf(n)>-1)}getMainXScale(){return this.scales[this.getMainXAxisPosition()]}getMainYScale(){return this.scales[this.getMainYAxisPosition()]}getValueFromScale(t,n,r,o){let s=this.model.getOptions(),i=b(s,"axes")[r],{mapsTo:a}=i,c=b(o,a)!==null?o[a]:o,l;switch(n){case $.LABELS:l=t(c)+t.step()/2;break;case $.TIME:l=t(new Date(c));break;default:l=t(c)}return l}getBoundedScaledValues(t){let{bounds:n}=this.model.getOptions(),r=this.getRangeAxisPosition({datum:t}),o=this.scales[r],s=this.model.getOptions(),i=b(s,"axes")[r],{mapsTo:a}=i,c=t[a]!==void 0?t[a]:t;return[o(b(t,n.upperBoundMapsTo)!==null?t[n.upperBoundMapsTo]:c),o(b(t,n.lowerBoundMapsTo)!==null?t[n.lowerBoundMapsTo]:c)]}getValueThroughAxisPosition(t,n){let r=this.scaleTypes[t],o=this.scales[t];return this.getValueFromScale(o,r,t,n)}getDomainValue(t){let n=this.getDomainAxisPosition({datum:t});return this.getValueThroughAxisPosition(n,t)}getRangeValue(t){let n=this.getRangeAxisPosition({datum:t});return this.getValueThroughAxisPosition(n,t)}getMainXScaleType(){return this.getScaleTypeByPosition(this.getMainXAxisPosition())}getMainYScaleType(){return this.getScaleTypeByPosition(this.getMainYAxisPosition())}getDomainIdentifier(t){let n=this.model.getOptions();return b(n,"axes",this.getDomainAxisPosition({datum:t}),"mapsTo")}getRangeIdentifier(t){let n=this.model.getOptions();return b(n,"axes",this.getRangeAxisPosition({datum:t}),"mapsTo")}extendsDomain(t,n){let r=this.model.getOptions(),o=b(r,"axes",t);if(o.scaleType===$.TIME){let s=b(r,"timeScale","addSpaceOnEdges");return e7(n,s)}else return t7(n,Sn.paddingRatio,o.scaleType)}findVerticalAxesPositions(){let t=this.model.getOptions(),n=b(t,"axes"),r=this.isDualAxes();return b(n,k.LEFT)===null&&b(n,k.RIGHT)!==null||b(n,k.RIGHT,"main")===!0||r&&b(n,k.LEFT,"correspondingDatasets")?{primary:k.RIGHT,secondary:k.LEFT}:{primary:k.LEFT,secondary:k.RIGHT}}findHorizontalAxesPositions(){let t=this.model.getOptions(),n=b(t,"axes"),r=this.isDualAxes();return b(n,k.BOTTOM)===null&&b(n,k.TOP)!==null||b(n,k.TOP,"main")===!0||r&&b(n,k.BOTTOM,"correspondingDatasets")?{primary:k.TOP,secondary:k.BOTTOM}:{primary:k.BOTTOM,secondary:k.TOP}}findDomainAndRangeAxesPositions(t,n){let r=this.model.getOptions(),o=b(r,"axes",t.primary),s=b(r,"axes",n.primary),i=o.scaleType||$.LINEAR,a=s.scaleType||$.LINEAR,c={primaryDomainAxisPosition:null,secondaryDomainAxisPosition:null,primaryRangeAxisPosition:null,secondaryRangeAxisPosition:null};return c.primaryDomainAxisPosition=n.primary,c.primaryRangeAxisPosition=t.primary,c.secondaryDomainAxisPosition=n.secondary,c.secondaryRangeAxisPosition=t.secondary,(!(a===$.LABELS||a===$.TIME)&&i===$.LABELS||i===$.TIME)&&(c.primaryDomainAxisPosition=t.primary,c.primaryRangeAxisPosition=n.primary,c.secondaryDomainAxisPosition=t.secondary,c.secondaryRangeAxisPosition=n.secondary),c}getScaleDomain(t){let n=this.model.getOptions(),r=b(n,"axes",t),o=b(n,"bounds"),{includeZero:s}=r,i=b(r,"scaleType")||$.LINEAR;if(this.model.isDataEmpty())return[];if(r.binned){let{bins:m}=this.model.getBinConfigurations();return[0,tu(m,w=>w.length)]}else if(r.limitDomainToBins){let{bins:m}=this.model.getBinConfigurations(),w=this.model.getStackKeys({bins:m});return[w[0].split(":")[0],w[w.length-1].split(":")[1]]}let a=this.model.getDisplayData(),{extendLinearDomainBy:c,mapsTo:l,percentage:d,thresholds:u}=r,{reference:h,compareTo:f}=Sn.ratio;if(r.domain)return i===$.LABELS?r.domain:(i===$.TIME&&(r.domain=r.domain.map(m=>m.getTime===void 0?new Date(m):m)),this.extendsDomain(t,r.domain));if(d)return[0,100];if(r&&i===$.LABELS)return Or(a.map(m=>m[l]));let p,v,g=this.model.getDataGroupNames();if(i===$.LABELS_RATIO)return a.map(m=>`${m[h]}/${m[f]}`);if(i===$.TIME)v=a.map(m=>+new Date(m[l]));else if(o&&n.axes)v=[],a.forEach(m=>{v.push(m[l]),m[o.upperBoundMapsTo]&&v.push(m[o.upperBoundMapsTo]),m[o.lowerBoundMapsTo]&&v.push(m[o.lowerBoundMapsTo])});else if(r.stacked===!0&&g&&t===this.getRangeAxisPosition()){let{groupMapsTo:m}=n.data,w=this.model.getDataValuesGroupedByKeys({groups:g}),y=a.filter(E=>!g.includes(E[m])),S=[];w.forEach(E=>{let D=hn(E,[]),C=0,T=0;Object.values(yH(D,"sharedStackKey")).forEach(A=>{isNaN(A)||(A<0?T+=A:C+=A)}),S.push([T,C])}),v=[...t0(S),...y.map(E=>E[l])]}else v=[],a.forEach(m=>{let w=m[l];Array.isArray(w)&&w.length===2?(v.push(w[0]),v.push(w[1])):(c&&v.push(Math.max(m[l],m[c])),v.push(w))});return i!==$.TIME&&i!==$.LOG&&s&&v.push(0),u&&u.length>0&&u.forEach(m=>{let w=b(m,"value");w!==null&&v.push(w)}),p=ir(v),p=this.extendsDomain(t,p),p}createScale(t){let n=this.model.getOptions(),r=b(n,"axes",t);if(!r)return null;let o=b(r,"scaleType")||$.LINEAR;this.scaleTypes[t]=o;let s;return o===$.TIME?s=Du():o===$.LOG?s=cC().base(r.base||10):o===$.LABELS||o===$.LABELS_RATIO?s=Qa():s=Do(),s.domain(this.getScaleDomain(t)),s}getDomainLowerBound(t){let n,r=0;return this.getOrientation()===Qe.VERTICAL?n=this.getMainYScale().domain():n=this.getMainXScale().domain(),b(this.model.getOptions(),"axes",t,"includeZero")===!1&&n[0]>0&&n[1]>0&&(r=n[0]),r}getHighestDomainThreshold(){let t=b(this.model.getOptions(),"axes"),n=this.getDomainAxisPosition(),{thresholds:r}=t[n];if(!Array.isArray(r)||Array.isArray(r)&&!r.length)return null;let o=this.getDomainScale(),s=r.sort((i,a)=>a.value-i.value)[0];return this.getScaleTypeByPosition(n)===$.TIME&&(typeof s.value=="string"||s.value.getTime===void 0)&&(s.value=new Date(s.value)),{threshold:s,scaleValue:o(s.value)}}getHighestRangeThreshold(){let t=b(this.model.getOptions(),"axes"),n=this.getRangeAxisPosition(),{thresholds:r}=t[n];if(!Array.isArray(r)||Array.isArray(r)&&!r.length)return null;let o=this.getRangeScale(),s=r.sort((i,a)=>a.value-i.value)[0];return{threshold:s,scaleValue:o(s.value)}}};function e7(e,t){let n=new Date(e[0]),r=new Date(e[1]);return UH(r,n)>1?[zH(n,t),yC(r,t)]:ZH(r,n)>1?[YH(n,t),a0(r,t)]:XH(r,n)>1?[KH(n,t),bC(r,t)]:QH(r,n)>1?[JH(n,t),wC(r,t)]:oC(r,n)>30?[sC(n,t*30),Jv(r,t*30)]:oC(r,n)>1?[sC(n,t),Jv(r,t)]:iC(r,n)>15?[aC(n,t*15),e0(r,t*15)]:iC(r,n)>1?[aC(n,t),e0(r,t)]:[n,r]}function t7([e,t],n,r){let o=(t-e)*n,s=t<=0&&t+o>0?0:t+o,i=e>=0&&e-o<0?0:e-o;if(r===$.LOG&&i<=0){if(e<=0)throw Error("Data must have values greater than 0 if log scale type is used.");i=e}return[i,s]}var yh=class extends Wt{constructor(){super(...arguments),this.curveTypes={curveLinear:si,curveLinearClosed:nv,curveBasis:CH,curveBasisClosed:_H,curveBasisOpen:TH,curveBundle:MH,curveCardinal:kH,curveCardinalClosed:IH,curveCardinalOpen:OH,curveCatmullRom:AH,curveCatmullRomClosed:RH,curveCatmullRomOpen:NH,curveMonotoneX:LH,curveMonotoneY:PH,curveNatural:FH,curveStep:jH,curveStepAfter:VH,curveStepBefore:BH}}getD3Curve(){let t="curveLinear",n=this.model.getOptions().curve;if(n&&(typeof n=="string"?t=n:t=n.name),this.curveTypes[t]){let r=this.curveTypes[t];return n&&Object.keys(n).forEach(o=>{r[o]&&(r=r[o](n[o]))}),r}return console.warn(`The curve type '${t}' is invalid, using 'curveLinear' instead`),this.curveTypes.curveLinear}},bh=class extends Wt{isZoomBarEnabled(){if(!this.services.cartesianScales||!b(this.model.getOptions(),"zoomBar","top","enabled"))return!1;this.services.cartesianScales.findDomainAndRangeAxes();let t=this.services.cartesianScales.getMainXAxisPosition(),n=b(this.model.getOptions(),"axes",t,"scaleType");return t===k.BOTTOM&&n===$.TIME}getZoomBarData(){let t=this.model.getZoomBarData();return t&&t.length>1?t:this.model.getDisplayData()}getDefaultZoomBarDomain(t){if(!this.services.zoom)throw new Error("Services zoom not defined");let n=t||this.services.zoom.getZoomBarData(),{cartesianScales:r}=this.services;if(!r)throw new Error("Services cartesianScales undefined");let o=r.getMainXAxisPosition(),s=r.getDomainIdentifier(),i=b(this.model.getOptions(),"axes",o,"domain");if(Array.isArray(i)&&i.length===2)return i;if(!o)throw new Error("Not defined: mainXAxisPosition");return r.extendsDomain(o,ir(n,a=>a[s]))}handleDomainChange(t,n={dispatchEvent:!0}){var r;this.model.set({zoomDomain:t},{animate:!1}),n.dispatchEvent&&((r=this.services.events)==null||r.dispatchEvent(_.ZoomDomain.CHANGE,{newDomain:t}))}getZoomRatio(){return b(this.model.getOptions(),"zoomBar","zoomRatio")}filterDataForRangeAxis(t,n){var r;let o=this.model.get("zoomDomain"),s=Object.assign({stacked:!1},n),i=b(this.model.getOptions(),"zoomBar","updateRangeAxis");if(this.isZoomBarEnabled()&&i&&o){let a=s.stacked?"sharedStackKey":(r=this.services.cartesianScales)==null?void 0:r.getDomainIdentifier(),c=t.filter(l=>new Date(l[a])>=o[0]&&new Date(l[a])<=o[1]);if(c.length>0)return c}return t}zoomIn(t=this.getZoomRatio()){var n;let r=this.model.get("zoomDomain"),o=yt.handleWidth,s=(n=this.services.cartesianScales)==null?void 0:n.getMainXScale().copy();s.domain(this.getDefaultZoomBarDomain());let i=s(r[0]),a=s(r[1]);if(a-i<o+1)return;let c=s.range(),l=a-i,d=Math.min((c[1]-c[0])/2*(t/2),l/2),u=i+d,h=a-d;u>=h&&(u=i+l/2-o/2,h=a-l/2+o/2);let f=[s.invert(u),s.invert(h)];(r[0].valueOf()!==f[0].valueOf()||r[1].valueOf()!==f[1].valueOf())&&this.handleDomainChange(f)}zoomOut(t=this.getZoomRatio()){let n=this.model.get("zoomDomain");if(!this.services.cartesianScales)throw new Error("Services cartesianScales undefined");let r=this.services.cartesianScales.getMainXScale().copy();r.domain(this.getDefaultZoomBarDomain());let o=r(n[0]),s=r(n[1]),i=r.range(),a=(i[1]-i[0])/2*(t/2),c=Math.max(o-a,i[0]),l=Math.min(s+a,i[1]),d=[r.invert(c),r.invert(l)];(n[0].valueOf()!==d[0].valueOf()||n[1].valueOf()!==d[1].valueOf())&&this.handleDomainChange(d)}resetZoomDomain(){let t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();(t[0].valueOf()!==n[0].valueOf()||t[1].valueOf()!==n[1].valueOf())&&this.handleDomainChange(n)}isMinZoomDomain(){let t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();if(!t||!n)return!1;let r=t[1].valueOf()-t[0].valueOf(),o=n[1].valueOf()-n[0].valueOf(),s=b(this.model.getOptions(),"zoomBar","minZoomRatio");return r/o<s}isMaxZoomDomain(){let t=this.model.get("zoomDomain"),n=this.getDefaultZoomBarDomain();return!!(t&&n&&t[0].valueOf()===n[0].valueOf()&&t[1].valueOf()===n[1].valueOf())}isEmptyState(){return this.getZoomBarData().length===0}isZoomBarLoading(t){return b(this.model.getOptions(),"zoomBar",t,"loading")}isZoomBarLocked(t){return b(this.model.getOptions(),"zoomBar",t,"locked")}};function n7(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:n0(e,t,n)}var r7="\\ud800-\\udfff",o7="\\u0300-\\u036f",s7="\\ufe20-\\ufe2f",i7="\\u20d0-\\u20ff",a7=o7+s7+i7,c7="\\ufe0e\\ufe0f",l7="\\u200d",d7=RegExp("["+l7+r7+a7+c7+"]");function xC(e){return d7.test(e)}function u7(e){return e.split("")}var EC="\\ud800-\\udfff",h7="\\u0300-\\u036f",f7="\\ufe20-\\ufe2f",p7="\\u20d0-\\u20ff",g7=h7+f7+p7,m7="\\ufe0e\\ufe0f",v7="["+EC+"]",u0="["+g7+"]",h0="\\ud83c[\\udffb-\\udfff]",y7="(?:"+u0+"|"+h0+")",DC="[^"+EC+"]",SC="(?:\\ud83c[\\udde6-\\uddff]){2}",CC="[\\ud800-\\udbff][\\udc00-\\udfff]",b7="\\u200d",_C=y7+"?",TC="["+m7+"]?",w7="(?:"+b7+"(?:"+[DC,SC,CC].join("|")+")"+TC+_C+")*",x7=TC+_C+w7,E7="(?:"+[DC+u0+"?",u0,SC,CC,v7].join("|")+")",D7=RegExp(h0+"(?="+h0+")|"+E7+x7,"g");function S7(e){return e.match(D7)||[]}function C7(e){return xC(e)?S7(e):u7(e)}function _7(e){return function(t){t=wo(t);var n=xC(t)?C7(t):void 0,r=n?n[0]:t.charAt(0),o=n?n7(n,1).join(""):t.slice(1);return r[e]()+o}}var T7=_7("toUpperCase");function M7(e){return T7(wo(e).toLowerCase())}var Iee=Hv(function(e,t,n){return t=t.toLowerCase(),e+(n?M7(t):t)}),f0=class{constructor(t,n){this.components=[],this.services={canvasZoom:fh,domUtils:P,events:ph,files:gh,gradientUtils:Mo,transitions:mh},this.model=new Wa(this.services)}init(t,n){this.model.set({holder:t},{skipUpdate:!0}),Object.keys(this.services).forEach(r=>{let o=this.services[r];this.services[r]=new o(this.model,this.services)}),this.services.events.addEventListener(_.Model.UPDATE,r=>{let o=!!b(r,"detail","animate");this.update(o)}),this.model.setData(n.data),this.services.events.addEventListener(_.Chart.RESIZE,()=>{this.update(!1)}),this.components=this.getComponents(),this.update()}getComponents(){return console.error("getComponents() method is not implemented"),[]}update(t=!0){if(!this.components)return;Object.keys(this.services).forEach(o=>{this.services[o].update()}),this.components.forEach(o=>o.render(t));let n=this.services.transitions.getPendingTransitions(),r=Object.keys(n).map(o=>n[o].end().catch(s=>s));Promise.all(r).then(()=>this.services.events.dispatchEvent(_.Chart.RENDER_FINISHED))}destroy(){this.components.forEach(t=>t.destroy()),this.services.domUtils.getHolder().remove(),this.model.set({destroyed:!0},{skipUpdate:!0})}getChartComponents(t,n){let r=this.model.getOptions(),o=b(r,"toolbar","enabled"),s={id:"legend",components:[new pc(this.model,this.services)],growth:Re.PREFERRED},i=b(r,"canvasZoom","enabled");i&&i===!0&&t.push(new qu(this.model,this.services));let a=!!this.model.getOptions().title,c={id:"title",components:[new fc(this.model,this.services)],growth:Re.STRETCH},l={id:"toolbar",components:[new Kv(this.model,this.services)],growth:Re.PREFERRED},d={id:"header",components:[new Fo(this.model,this.services,[c,...o?[l]:[]],{direction:qe.ROW,alignItems:so.CENTER})],growth:Re.PREFERRED},u={id:"graph-frame",components:t,growth:Re.STRETCH,renderType:b(n,"graphFrameRenderType")||be.SVG},h=b(n,"excludeLegend")!==!0&&r.legend.enabled!==!1,f=qe.COLUMN;if(h){let m=b(r,"legend","position");m==="left"?(f=qe.ROW,r.legend.orientation||(r.legend.orientation=oo.VERTICAL)):m==="right"?(f=qe.ROW_REVERSE,r.legend.orientation||(r.legend.orientation=oo.VERTICAL)):m==="bottom"&&(f=qe.COLUMN_REVERSE)}let p={id:"spacer",components:[new Lo(this.model,this.services)],growth:Re.PREFERRED},v={id:"full-frame",components:[new Fo(this.model,this.services,[...h?[s]:[],...h?[p]:[],u],{direction:f})],growth:Re.STRETCH},g=[];if(a||o){g.push(d);let m={id:"spacer",components:[new Lo(this.model,this.services,o?{size:15}:void 0)],growth:Re.PREFERRED};g.push(m)}return g.push(v),[new mc(this.model,this.services),new hc(this.model,this.services),new Fo(this.model,this.services,g,{direction:qe.COLUMN})]}},p0=class extends f0{constructor(t,n){super(t,n),this.services=Object.assign(this.services,{cartesianScales:vh,curves:yh,zoom:bh}),this.model=new gu(this.services)}getAxisChartComponents(t,n){let r=this.model.getOptions(),o=b(r,"zoomBar",k.TOP,"enabled"),s=b(r,"toolbar","enabled");this.services.cartesianScales.determineAxisDuality(),this.services.cartesianScales.findDomainAndRangeAxes(),this.services.cartesianScales.determineOrientation();let i=this.services.cartesianScales.getMainXAxisPosition(),a=b(r,"axes",i,"scaleType"),c=o&&i===k.BOTTOM&&a===$.TIME,l=this.services.zoom.isZoomBarLocked(k.TOP),d=!!this.model.getOptions().title,u={id:"title",components:[new fc(this.model,this.services)],growth:Re.STRETCH},h={id:"toolbar",components:[new Kv(this.model,this.services)],growth:Re.PREFERRED},f={id:"header",components:[new Fo(this.model,this.services,[u,...s?[h]:[]],{direction:qe.ROW,alignItems:so.CENTER})],growth:Re.PREFERRED},p={id:"legend",components:[new pc(this.model,this.services)],growth:Re.PREFERRED};c&&!l&&t.push(new gc(this.model,this.services),new ZS(this.model,this.services)),t.push(new Zu(this.model,this.services)),t.push(new Yu(this.model,this.services));let v={id:"graph-frame",components:t,growth:Re.STRETCH,renderType:be.SVG},g=b(n,"legend","enabled")!==!1&&this.model.getOptions().legend.enabled!==!1,m=qe.COLUMN;if(g){let D=b(this.model.getOptions(),"legend","position");D===Sr.LEFT?(m=qe.ROW,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=oo.VERTICAL)):D===Sr.RIGHT?(m=qe.ROW_REVERSE,this.model.getOptions().legend.orientation||(this.model.getOptions().legend.orientation=oo.VERTICAL)):D===Sr.BOTTOM&&(m=qe.COLUMN_REVERSE)}let w={id:"spacer",components:[new Lo(this.model,this.services)],growth:Re.PREFERRED},y={id:"full-frame",components:[new Fo(this.model,this.services,[...g?[p]:[],...g?[w]:[],v],{direction:m})],growth:Re.STRETCH},S={id:"zoom-bar",components:[new Wu(this.model,this.services)],growth:Re.PREFERRED,renderType:be.SVG},E=[];if(d||s){E.push(f);let D={id:"spacer",components:[new Lo(this.model,this.services,s?{size:15}:void 0)],growth:Re.PREFERRED};E.push(D)}return c&&E.push(S),E.push(y),[new Xu(this.model,this.services),new hc(this.model,this.services),new Fo(this.model,this.services,E,{direction:qe.COLUMN})]}};var Oee={[jn.LINE]:[Po,Nr],[jn.SCATTER]:[Nr],[jn.AREA]:[Qu,Po,Nr],[jn.STACKED_AREA]:[sh,Po,ah,wc],[jn.SIMPLE_BAR]:[rh],[jn.GROUPED_BAR]:[nh,bc],[jn.STACKED_BAR]:[ih,wc]};var Eh=class extends p0{constructor(t,n){super(t,n),this.model.setOptions(N2(A2.lineChart,n.options)),this.init(t,n)}getComponents(){let t=[new eh(this.model,this.services),new Ku(this.model,this.services),new vc(this.model,this.services),new Po(this.model,this.services),new Nr(this.model,this.services,{handleThresholds:!0}),new oh(this.model,this.services),new bc(this.model,this.services)];return this.getAxisChartComponents(t)}};function k7(e,t){e&1&&Ni(0," \u2600\uFE0F ")}function I7(e,t){e&1&&Ni(0," \u{1F319} ")}var MC=(()=>{let t=class t{constructor(r){this.renderer=r,this.data=[],this.isDarkTheme=!1}get options(){return{title:"Performance Testing Chart",axes:{bottom:{title:"Time Elapsed",mapsTo:"date",scaleType:$.TIME},left:{title:"Value",mapsTo:"value",scaleType:$.LINEAR}},curve:"curveMonotoneX",height:"400px",color:{scale:{Load:"blue",Success:"green",Error:"red"}},tooltip:{showTotal:!0},theme:this.isDarkTheme?"g100":"g10"}}ngOnInit(){let r=this.getChartContainer();r&&(this.chart=new Eh(r,{data:this.data,options:this.options}),r.setAttribute("role","img"),r.setAttribute("aria-label","Live line chart displaying load, success, and error data over time")),this.startFetchingData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getChartContainer(){return document.getElementById("chart-container")}startFetchingData(){console.log("Starting data fetch"),this.subscription=Kh(5e3).pipe(Bt(()=>(console.log("Fetching data"),fetch("https://performance-chart-backend.adaptable.app/data").then(r=>r.json())))).subscribe(r=>{let o={group:"Load",date:new Date(r.load.date),value:r.load.value},s={group:"Error",date:new Date(r.errors.date),value:r.errors.value},i={group:"Success",date:new Date(r.success.date),value:r.success.value};this.data.push(o,s,i),this.chart.model.setData(this.data),this.addClickListeners(),console.log("Fetched data:",this.data)},r=>{console.error("Error fetching data:",r)})}addClickListeners(){document.querySelectorAll(".dot").forEach(o=>{o.removeEventListener("click",this.handleClick),o.addEventListener("click",this.handleClick.bind(this))})}handleClick(r){let s=r.target.__data__;s&&alert(`Group: ${s.group}, Date: ${s.date}, Value: ${s.value}`)}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.chart.model.setOptions(this.options),this.isDarkTheme?this.renderer.addClass(document.body,"dark"):this.renderer.removeClass(document.body,"dark")}};t.\u0275fac=function(o){return new(o||t)(Ai(Ri))},t.\u0275cmp=gs({type:t,selectors:[["app-performance-chart"]],standalone:!0,features:[bs],decls:5,vars:1,consts:[[1,"flex","justify-end","p-4"],[1,"focus:outline-none","transition-transform","transform","hover:scale-105",3,"click"],["id","chart-container",1,"p-4"]],template:function(o,s){o&1&&(Xr(0,"div",0)(1,"button",1),Nl("click",function(){return s.toggleTheme()}),kp(2,k7,1,0)(3,I7,1,0),Kr()(),Qr(4,"div",2)),o&2&&(yb(2),qb(s.isDarkTheme?3:2))},styles:["#chart-container[_ngcontent-%COMP%]{width:100%;height:400px}"]});let e=t;return e})();var kC=(()=>{let t=class t{constructor(){this.title="performance-chart-carbon"}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gs({type:t,selectors:[["app-root"]],standalone:!0,features:[bs],decls:5,vars:0,consts:[[1,"bg-gray-900","flex","justify-center","items-center","p-4"],[1,"text-lg","font-semibold","text-white"],[1,"bg-white","dark:bg-gray-800","text-gray-900","dark:text-gray-100","min-h-screen"]],template:function(o,s){o&1&&(Xr(0,"header",0)(1,"h1",1),Ni(2,"Performance Testing Charts"),Kr()(),Xr(3,"main",2),Qr(4,"app-performance-chart"),Kr())},dependencies:[MC],styles:["body[_ngcontent-%COMP%]{transition:background-color .3s,color .3s}body.dark[_ngcontent-%COMP%]{background-color:#1a202c;color:#cbd5e0;min-height:100vh}"]});let e=t;return e})();xw(kC,ix).catch(e=>console.error(e));
